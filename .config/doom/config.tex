% Created 2021-08-13 Fri 23:02
% Intended LaTeX compiler: pdflatex
\documentclass{scrartcl}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fontspec}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{dvipng}
\usepackage{chemfig}
\usepackage{mhchem}
\usepackage{capt-of}
\usepackage[dvipsnames]{xcolor}
\usepackage[colorlinks=true, linkcolor=Blue, citecolor=BrickRed, urlcolor=PineGreen]{hyperref}
\usepackage{indentfirst}
\setmainfont[Ligatures=TeX]{IBM Plex Sans}
\setmonofont[Ligatures=TeX]{Iosevka Nerd Font Mono}
% features: (acronym underline italic-quotes par-sep cleveref .pifont float-wrap rotate caption .fancy-box box-warning box-info box-success box-error engraved-code-setup engraved-code)
\newcommand{\acr}[1]{\protect\textls*[110]{\scshape #1}}
\newcommand{\acrs}{\protect\scalebox{.91}[.84]{\hspace{0.15ex}s}}
\usepackage[normalem]{ulem}
\renewcommand{\quote}{\list{}{\rightmargin\leftmargin}\item\relax\em}

\setlength{\parskip}{\baselineskip}
\setlength{\parindent}{0pt}

\usepackage[capitalize]{cleveref}
\usepackage{pifont}
\usepackage{wrapfig}
\usepackage{rotating}

\usepackage{subcaption}
\usepackage[hypcap=true]{caption}
\setkomafont{caption}{\sffamily\small}
\setkomafont{captionlabel}{\upshape\bfseries}
\captionsetup{justification=raggedright,singlelinecheck=true}
\usepackage{capt-of} % required by Org


% args = #1 Name, #2 Colour, #3 Ding, #4 Label
\newcommand{\defsimplebox}[4]{%
  \definecolor{#1}{HTML}{#2}
  \newenvironment{#1}[1][]
  {%
    \par\vspace{-0.7\baselineskip}%
    \textcolor{#1}{#3} \textcolor{#1}{\textbf{\def\temp{##1}\ifx\temp\empty#4\else##1\fi}}%
    \vspace{-0.8\baselineskip}
    \begin{addmargin}[1em]{1em}
  }{%
    \end{addmargin}
    \vspace{-0.5\baselineskip}
  }%
}

\defsimplebox{warning}{e66100}{\ding{68}}{Warning}
\defsimplebox{info}{3584e4}{\ding{68}}{Information}
\defsimplebox{success}{26a269}{\ding{68}}{\vspace{-\baselineskip}}
\defsimplebox{error}{c01c28}{\ding{68}}{Important}

\usepackage{fvextra}
\fvset{
  commandchars=\\\{\},
  highlightcolor=white!95!black!80!blue,
  breaklines=true,
  breaksymbol=\color{white!60!black}\tiny\ensuremath{\hookrightarrow}}
\renewcommand\theFancyVerbLine{\footnotesize\color{black!40!white}\arabic{FancyVerbLine}}

\definecolor{codebackground}{HTML}{f7f7f7}
\definecolor{codeborder}{HTML}{f0f0f0}

% TODO have code boxes keep line vertical alignment
\usepackage[breakable,xparse]{tcolorbox}
\DeclareTColorBox[]{Code}{o}%
{colback=codebackground, colframe=codeborder,
  fontupper=\footnotesize,
  colupper=EFD,
  IfNoValueTF={#1}%
  {boxsep=2pt, arc=2.5pt, outer arc=2.5pt,
    boxrule=0.5pt, left=2pt}%
  {boxsep=2.5pt, arc=0pt, outer arc=0pt,
    boxrule=0pt, leftrule=1.5pt, left=0.5pt},
  right=2pt, top=1pt, bottom=0.5pt,
  breakable}

\definecolor{EFD}{HTML}{383a42}
\newcommand{\EFD}[1]{\textcolor{EFD}{#1}} % default
\definecolor{EFk}{HTML}{e45649}
\newcommand{\EFk}[1]{\textcolor{EFk}{#1}} % font-lock-keyword-face
\definecolor{EFd}{HTML}{84888b}
\newcommand{\EFd}[1]{\textcolor{EFd}{\textit{#1}}} % font-lock-doc-face
\definecolor{EFt}{HTML}{986801}
\newcommand{\EFt}[1]{\textcolor{EFt}{#1}} % font-lock-type-face
\definecolor{EFs}{HTML}{50a14f}
\newcommand{\EFs}[1]{\textcolor{EFs}{#1}} % font-lock-string-face
\definecolor{EFw}{HTML}{986801}
\newcommand{\EFw}[1]{\textcolor{EFw}{#1}} % font-lock-warning-face
\definecolor{EFb}{HTML}{a626a4}
\newcommand{\EFb}[1]{\textcolor{EFb}{#1}} % font-lock-builtin-face
\definecolor{EFct}{HTML}{9ca0a4}
\newcommand{\EFct}[1]{\textcolor{EFct}{#1}} % font-lock-comment-face
\definecolor{EFc}{HTML}{b751b6}
\newcommand{\EFc}[1]{\textcolor{EFc}{#1}} % font-lock-constant-face
\definecolor{EFpp}{HTML}{4078f2}
\newcommand{\EFpp}[1]{\textcolor{EFpp}{\textbf{#1}}} % font-lock-preprocessor-face
\definecolor{EFnc}{HTML}{4078f2}
\newcommand{\EFnc}[1]{\textcolor{EFnc}{\textbf{#1}}} % font-lock-negation-char-face
\definecolor{EFv}{HTML}{6a1868}
\newcommand{\EFv}[1]{\textcolor{EFv}{#1}} % font-lock-variable-name-face
\definecolor{EFf}{HTML}{a626a4}
\newcommand{\EFf}[1]{\textcolor{EFf}{#1}} % font-lock-function-name-face
\definecolor{EFcd}{HTML}{9ca0a4}
\newcommand{\EFcd}[1]{\textcolor{EFcd}{#1}} % font-lock-comment-delimiter-face
\definecolor{EFrc}{HTML}{4078f2}
\newcommand{\EFrc}[1]{\textcolor{EFrc}{\textbf{#1}}} % font-lock-regexp-grouping-construct
\definecolor{EFrb}{HTML}{4078f2}
\newcommand{\EFrb}[1]{\textcolor{EFrb}{\textbf{#1}}} % font-lock-regexp-grouping-backslash
\newcommand{\EFob}[1]{#1} % org-block
\definecolor{EFhn}{HTML}{da8548}
\newcommand{\EFhn}[1]{\textcolor{EFhn}{\textbf{#1}}} % highlight-numbers-number
\definecolor{EFhq}{HTML}{4078f2}
\newcommand{\EFhq}[1]{\textcolor{EFhq}{#1}} % highlight-quoted-quote
\definecolor{EFhs}{HTML}{986801}
\newcommand{\EFhs}[1]{\textcolor{EFhs}{#1}} % highlight-quoted-symbol
\definecolor{EFrdi}{HTML}{4078f2}
\newcommand{\EFrdi}[1]{\textcolor{EFrdi}{#1}} % rainbow-delimiters-depth-1-face
\definecolor{EFrdii}{HTML}{a626a4}
\newcommand{\EFrdii}[1]{\textcolor{EFrdii}{#1}} % rainbow-delimiters-depth-2-face
\definecolor{EFrdiii}{HTML}{50a14f}
\newcommand{\EFrdiii}[1]{\textcolor{EFrdiii}{#1}} % rainbow-delimiters-depth-3-face
\definecolor{EFrdiv}{HTML}{da8548}
\newcommand{\EFrdiv}[1]{\textcolor{EFrdiv}{#1}} % rainbow-delimiters-depth-4-face
\definecolor{EFrdv}{HTML}{b751b6}
\newcommand{\EFrdv}[1]{\textcolor{EFrdv}{#1}} % rainbow-delimiters-depth-5-face
\definecolor{EFrdvi}{HTML}{986801}
\newcommand{\EFrdvi}[1]{\textcolor{EFrdvi}{#1}} % rainbow-delimiters-depth-6-face
\definecolor{EFrdvii}{HTML}{4db5bd}
\newcommand{\EFrdvii}[1]{\textcolor{EFrdvii}{#1}} % rainbow-delimiters-depth-7-face
\definecolor{EFrdiix}{HTML}{80a880}
\newcommand{\EFrdiix}[1]{\textcolor{EFrdiix}{#1}} % rainbow-delimiters-depth-8-face
\definecolor{EFrdix}{HTML}{887070}
\newcommand{\EFrdix}[1]{\textcolor{EFrdix}{#1}} % rainbow-delimiters-depth-9-face
% end features
\author{Shaurya Singh}
\date{\href{https://github.com/shaunsingh/vimrc-dotfiles/commit/fatal: not a git repository (or any of the parent directories): .git}{\normalsize\texttt{fatal: not a git repository (or any of the parent directories): .git}}\\\Large\bfseries 2021-08-13 \\\normalsize\mdseries22:58 \acr{\lowercase{UTC}}\iffalse, \href{https://github.com/shaunsingh/vimrc-dotfiles/commit/fatal: not a git repository (or any of the parent directories): .git}{\normalsize\texttt{fatal: not a git repository (or any of the parent directories): .git}}\fi}
\title{Doom Emacs Configuration}
\colorlet{greenyblue}{blue!70!green}
\colorlet{blueygreen}{blue!40!green}
\providecolor{link}{named}{greenyblue}
\providecolor{cite}{named}{blueygreen}
\hypersetup{
  pdfauthor={Shaurya Singh},
  pdftitle={Doom Emacs Configuration},
  pdfkeywords={},
  pdfsubject={},
  pdfcreator={Emacs 28.0.50 (Org mode 9.5)},
  pdflang={English},
  breaklinks=true,
  colorlinks=true,
  linkcolor=,
  urlcolor=link,
  citecolor=cite
}
\urlstyle{same}
\begin{document}

\maketitle
\tableofcontents


\section{Intro}
\label{sec:org056ec38}
Customizing an editor can be very rewarding \ldots{} until you have to leave it.
For years I have been looking for ways to avoid this pain.
Then I discovered \href{https://github.com/cknadler/vim-anywhere}{vim-anywhere}. The issue is

\begin{enumerate}
\item I switched to neovim, not vim.
\item Firenvim is only for browsers
\item Even if I found a neovim alternative, you can't do everything.
\end{enumerate}

I wanted everything, in one place. Hence why I (mostly) switched to Emacs.

This was enough for me to install Emacs, but I soon learned there are \href{https://github.com/remacs/remacs\#why-emacs}{far more
compelling reasons} to keep using it.

\section{Basic Configuration}
\label{sec:org6969435}
Make this file run (slightly) faster with lexical binding
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;;; }\EFct{config.el -*- lexical-binding: t; -*-}
\end{Verbatim}
\end{Code}

I also don't want to compile my org config every time I make a change. Lets fix that
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFc{remove-hook} \EFhq{'}\EFv{org-mode-hook} \EFhq{\#'}\EFhs{+literate-enable-recompile-h}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Personal information}
\label{sec:org914aaf6}
Of course we need to tell emacs who I am
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{user-full-name} \EFs{"Shaurya Singh"}
      \EFv{user-mail-address} \EFs{"shaunsingh0207@gmail.com"}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Shell}
\label{sec:orgd2ffdee}
I use the fish shell. If you use zsh/bash, be sure to change this
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{explicit-shell-file-name} \textcolor[HTML]{a626a4}{(}\EFc{executable-find} \EFs{"fish"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Clipboard}
\label{sec:org9bec253}
Using pgtk/wayland, theres a bug where it can't use the clipboard, to fix this we can use the following snippet
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFc{getenv} \EFs{"WAYLAND\_DISPLAY"}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} wl-copy-p nil

        \EFv{interprogram-cut-function}
        \textcolor[HTML]{50a14f}{(}\EFk{lambda} \textcolor[HTML]{da8548}{(}text\textcolor[HTML]{da8548}{)}
          \textcolor[HTML]{da8548}{(}\EFk{setq-local} \EFv{process-connection-type} \EFhq{'}\EFhs{pipe}\textcolor[HTML]{da8548}{)}
          \textcolor[HTML]{da8548}{(}\EFk{setq} wl-copy-p \textcolor[HTML]{4078f2}{(}\EFc{start-process} \EFs{"wl-copy"} nil \EFs{"wl-copy"} \EFs{"--foreground"} \EFs{"--trim-newline"}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
          \textcolor[HTML]{da8548}{(}\EFc{process-send-string} wl-copy-p text\textcolor[HTML]{da8548}{)}
          \textcolor[HTML]{da8548}{(}\EFc{process-send-eof} wl-copy-p\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}

        \EFv{interprogram-paste-function}
        \textcolor[HTML]{50a14f}{(}\EFk{lambda} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{da8548}{)}
          \textcolor[HTML]{da8548}{(}\EFk{unless} \textcolor[HTML]{4078f2}{(}\EFk{and} wl-copy-p \textcolor[HTML]{a626a4}{(}\EFc{process-live-p} wl-copy-p\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFc{shell-command-to-string} \EFs{"wl-paste -n | tr -d '\char92{}r'"}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Fonts}
\label{sec:org6798c00}
I like the apple fonts for programming, so I'll go with Liga SFMono Nerd Font. I prefer a rounder font for plain text, so I'll go with Menlo for that. I have a retina display as well, so lets keep the fonts light.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;;}\EFct{fonts}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{doom-font} \textcolor[HTML]{a626a4}{(}\EFc{font-spec} \EFb{:family} \EFs{"Liga SFMono Nerd Font"} \EFb{:size} \EFhn{14}\textcolor[HTML]{a626a4}{)}
      \EFv{doom-big-font} \textcolor[HTML]{a626a4}{(}\EFc{font-spec} \EFb{:family} \EFs{"Liga SFMono Nerd Font"} \EFb{:size} \EFhn{20}\textcolor[HTML]{a626a4}{)}
      \EFv{doom-variable-pitch-font} \textcolor[HTML]{a626a4}{(}\EFc{font-spec} \EFb{:family} \EFs{"SF Pro"} \EFb{:size} \EFhn{16}\textcolor[HTML]{a626a4}{)}
      \EFv{doom-unicode-font} \textcolor[HTML]{a626a4}{(}\EFc{font-spec} \EFb{:family} \EFs{"Liga SFMono Nerd Font"}\textcolor[HTML]{a626a4}{)}
      \EFv{doom-serif-font} \textcolor[HTML]{a626a4}{(}\EFc{font-spec} \EFb{:family} \EFs{"Liga SFMono Nerd Font"} \EFb{:weight} \EFhq{'}\EFhs{Regular}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

For mixed pitch, I would go with something comfier. I like helvetica, so lets go with that
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;;}\EFct{mixed pitch modes}
\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{mixed-pitch-modes} \EFhq{'}\textcolor[HTML]{a626a4}{(}org-mode LaTeX-mode markdown-mode gfm-mode Info-mode\textcolor[HTML]{a626a4}{)}
  \EFd{"Modes that `}\textcolor[HTML]{b751b6}{\textit{mixed-pitch-mode}}\EFd{' should be enabled in, but only after UI initialisation."}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{init-mixed-pitch-h} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \EFd{"Hook `}\textcolor[HTML]{b751b6}{\textit{mixed-pitch-mode}}\EFd{' into each mode in `}\textcolor[HTML]{b751b6}{\textit{mixed-pitch-modes}}\EFd{'.
Also immediately enables `}\textcolor[HTML]{b751b6}{\textit{mixed-pitch-modes}}\EFd{' if currently in one of the modes."}
  \textcolor[HTML]{a626a4}{(}\EFk{when} \textcolor[HTML]{50a14f}{(}\EFc{memq} \EFv{major-mode} \EFv{mixed-pitch-modes}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFv{mixed-pitch-mode} \EFhn{1}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{dolist} \textcolor[HTML]{50a14f}{(}hook \EFv{mixed-pitch-modes}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{add-hook} \textcolor[HTML]{da8548}{(}\EFc{intern} \textcolor[HTML]{4078f2}{(}\EFc{concat} \textcolor[HTML]{a626a4}{(}\EFc{symbol-name} hook\textcolor[HTML]{a626a4}{)} \EFs{"-hook"}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)} \EFhq{\#'}\EFv{mixed-pitch-mode}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFc{add-hook} \EFhq{'}\EFv{doom-init-ui-hook} \EFhq{\#'}\EFhs{init-mixed-pitch-h}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{add-hook!} \EFhq{'}\EFv{org-mode-hook} \EFhq{\#'}\EFv{+org-pretty-mode}\textcolor[HTML]{4078f2}{)} \EFcd{;}\EFct{enter mixed pitch mode in org mode}

\EFcd{;;}\EFct{set mixed pitch font}
 \textcolor[HTML]{4078f2}{(}\EFk{after!} mixed-pitch
  \textcolor[HTML]{a626a4}{(}\EFk{defface} \EFv{variable-pitch-serif}
    \EFhq{'}\textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}t \textcolor[HTML]{4078f2}{(}\EFb{:family} \EFs{"serif"}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \EFd{"A variable-pitch face with serifs."}
    \EFb{:group} \EFhq{'}\EFhs{basic-faces}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{mixed-pitch-set-height} t\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} variable-pitch-serif-font \textcolor[HTML]{50a14f}{(}\EFc{font-spec} \EFb{:family} \EFs{"SF Pro"} \EFb{:size} \EFhn{16} \EFb{:weight} \EFhq{'}\EFhs{Medium}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{set-face-attribute} \EFhq{'}\EFhs{variable-pitch-serif} nil \EFb{:font} variable-pitch-serif-font\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{defun} \EFf{mixed-pitch-serif-mode} \textcolor[HTML]{50a14f}{(}\EFt{\&optional} arg\textcolor[HTML]{50a14f}{)}
    \EFd{"Change the default face of the current buffer to a serifed variable pitch, while keeping some faces fixed pitch."}
    \textcolor[HTML]{50a14f}{(}\EFk{interactive}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFv{mixed-pitch-face} \EFhq{'}\EFhs{variable-pitch-serif}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFv{mixed-pitch-mode} \textcolor[HTML]{4078f2}{(}\EFk{or} arg \EFhq{'}\EFhs{toggle}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Just in case the fonts aren't there, lets add a fallback
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{required-fonts} \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"SF Pro"} \EFs{"Liga SFMono Nerd Font"} \textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{available-fonts}
  \textcolor[HTML]{a626a4}{(}\EFc{delete-dups} \textcolor[HTML]{50a14f}{(}\EFk{or} \textcolor[HTML]{da8548}{(}\EFc{font-family-list}\textcolor[HTML]{da8548}{)}
                   \textcolor[HTML]{da8548}{(}\EFc{split-string} \textcolor[HTML]{4078f2}{(}\EFc{shell-command-to-string} \EFs{"fc-list : family"}\textcolor[HTML]{4078f2}{)}
                                 \EFs{"[,\char92{}n]"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{missing-fonts}
  \textcolor[HTML]{a626a4}{(}\EFc{delq} nil \textcolor[HTML]{50a14f}{(}\EFc{mapcar}
             \textcolor[HTML]{da8548}{(}\EFk{lambda} \textcolor[HTML]{4078f2}{(}font\textcolor[HTML]{4078f2}{)}
               \textcolor[HTML]{4078f2}{(}\EFk{unless} \textcolor[HTML]{a626a4}{(}\EFc{delq} nil \textcolor[HTML]{50a14f}{(}\EFc{mapcar} \textcolor[HTML]{da8548}{(}\EFk{lambda} \textcolor[HTML]{4078f2}{(}f\textcolor[HTML]{4078f2}{)}
                           \textcolor[HTML]{4078f2}{(}\EFf{string-match-p} \textcolor[HTML]{a626a4}{(}\EFc{format} \EFs{"\char94{}\%s\$"} font\textcolor[HTML]{a626a4}{)} f\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                                         \EFv{available-fonts}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                                         font\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                                         \EFv{required-fonts}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{if} \EFv{missing-fonts}
    \textcolor[HTML]{a626a4}{(}\EFc{pp-to-string}
     \EFhq{`}\textcolor[HTML]{50a14f}{(}\EFk{unless} \EFv{noninteractive}
        \textcolor[HTML]{da8548}{(}\EFk{add-hook!} \EFhq{'}\EFv{doom-init-ui-hook}
          \textcolor[HTML]{4078f2}{(}\EFc{run-at-time} nil nil
                       \textcolor[HTML]{a626a4}{(}\EFk{lambda} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{50a14f}{)}
                         \textcolor[HTML]{50a14f}{(}\EFc{message} \EFs{"\%s missing the following fonts: \%s"}
                                  \textcolor[HTML]{da8548}{(}\EFc{propertize} \EFs{"Warning!"} \EFhq{'}\EFhs{face} \EFhq{'}\textcolor[HTML]{4078f2}{(}bold warning\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                                  \textcolor[HTML]{da8548}{(}\EFc{mapconcat} \textcolor[HTML]{4078f2}{(}\EFk{lambda} \textcolor[HTML]{a626a4}{(}font\textcolor[HTML]{a626a4}{)}
                                               \textcolor[HTML]{a626a4}{(}\EFc{propertize} font \EFhq{'}\EFhs{face} \EFhq{'}\EFv{font-lock-variable-name-face}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                                             \EFhq{'},\EFv{missing-fonts}
                                             \EFs{", "}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                         \textcolor[HTML]{50a14f}{(}\EFc{sleep-for} \EFhn{0.5}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \EFs{";; No missing fonts detected"}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}<<detect-missing-fonts\textcolor[HTML]{4078f2}{(}\textcolor[HTML]{4078f2}{)}>>
\end{Verbatim}
\end{Code}

\subsection{Themes}
\label{sec:org52f717e}
Right now I'm using doom-vibrant
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{doom-theme} \EFhq{'}\EFhs{doom-vibrant}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{doom-vibrant-padded-modeline} t\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Lsp, and Company}
\label{sec:org95fd1c5}
The default lsp config is nice, but has a few invasive features we can disable. Lets set up the java LSP as well
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} company
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{company-idle-delay} \EFhn{0.5}
        \EFv{company-minimum-prefix-length} \EFhn{2}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFf{set-company-backend!}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}text-mode
    markdown-mode
    gfm-mode\textcolor[HTML]{a626a4}{)}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFb{:seperate}
    company-yasnippet
    company-ispell
    company-files\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\EFcd{;;}\EFct{nested snippets}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{yas-triggers-in-field} t\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Lets add some snippets for latex
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} aas
  \EFb{:commands} \EFv{aas-mode}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{use-package!} laas
  \EFb{:hook} \textcolor[HTML]{a626a4}{(}\EFc{LaTeX-mode} . \EFv{laas-mode}\textcolor[HTML]{a626a4}{)}
  \EFb{:config}
  \textcolor[HTML]{a626a4}{(}\EFk{defun} \EFf{laas-tex-fold-maybe} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{unless} \textcolor[HTML]{da8548}{(}\EFc{equal} \EFs{"/"} \EFv{aas-transient-snippet-key}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFf{+latex-fold-last-macro-a}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{add-hook} \EFhq{'}\EFhs{org-mode} \EFhq{\#'}\EFv{laas-mode}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{add-hook} \EFhq{'}\EFv{aas-post-snippet-expand-hook} \EFhq{\#'}\EFhs{laas-tex-fold-maybe}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\end{Verbatim}
\end{Code}

And with a little help from henrik, lets use those snippets in org mode
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} fixed-org-yas-expand-maybe-h \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \EFd{"Expand a yasnippet snippet, if trigger exists at point or region is active.
Made for `}\textcolor[HTML]{b751b6}{\textit{org-tab-first-hook}}\EFd{'."}
  \EFb{:override} \EFhq{\#'}\EFhs{+org-yas-expand-maybe-h}
  \textcolor[HTML]{a626a4}{(}\EFk{when} \textcolor[HTML]{50a14f}{(}\EFk{and} \textcolor[HTML]{da8548}{(}\EFk{featurep!} \EFb{:editor} snippets\textcolor[HTML]{da8548}{)}
             \textcolor[HTML]{da8548}{(}\EFc{require} \EFhq{'}\EFc{yasnippet} nil t\textcolor[HTML]{da8548}{)}
             \textcolor[HTML]{da8548}{(}\EFk{bound-and-true-p} \EFv{yas-minor-mode}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{and} \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}\EFv{major-mode} \textcolor[HTML]{50a14f}{(}\EFk{cond} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFc{org-in-src-block-p} t\textcolor[HTML]{4078f2}{)}
                                  \textcolor[HTML]{4078f2}{(}\EFc{org-src-get-lang-mode} \textcolor[HTML]{a626a4}{(}\EFc{org-eldoc-get-src-lang}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                                 \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFc{org-inside-LaTeX-fragment-p}\textcolor[HTML]{4078f2}{)}
                                  \EFhq{'}\EFhs{latex-mode}\textcolor[HTML]{da8548}{)}
                                 \textcolor[HTML]{da8548}{(}\EFv{major-mode}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
               \textcolor[HTML]{a626a4}{(}\EFv{org-src-tab-acts-natively} nil\textcolor[HTML]{a626a4}{)} \EFcd{; }\EFct{causes breakages}
               \EFcd{;; }\EFct{Smart indentation doesn't work with yasnippet, and painfully slow}
               \EFcd{;; }\EFct{in the few cases where it does.}
               \textcolor[HTML]{a626a4}{(}\EFv{yas-indent-line} \EFhq{'}\EFhs{fixed}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
           \textcolor[HTML]{4078f2}{(}\EFk{cond} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFk{and} \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{not} \textcolor[HTML]{a626a4}{(}\EFk{bound-and-true-p} \EFv{evil-local-mode}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                           \textcolor[HTML]{4078f2}{(}\EFf{evil-insert-state-p}\textcolor[HTML]{4078f2}{)}
                           \textcolor[HTML]{4078f2}{(}\EFf{evil-emacs-state-p}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                       \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFk{and} \textcolor[HTML]{a626a4}{(}\EFk{bound-and-true-p} \EFv{yas--tables}\textcolor[HTML]{a626a4}{)}
                                \textcolor[HTML]{a626a4}{(}\EFc{gethash} \EFv{major-mode} \EFv{yas--tables}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                           \textcolor[HTML]{4078f2}{(}\EFk{progn} \textcolor[HTML]{a626a4}{(}\EFc{yas-reload-all}\textcolor[HTML]{a626a4}{)} t\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                       \textcolor[HTML]{da8548}{(}\EFc{yas--templates-for-key-at-point}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                  \textcolor[HTML]{50a14f}{(}\EFc{yas-expand}\textcolor[HTML]{50a14f}{)}
                  t\textcolor[HTML]{a626a4}{)}
                 \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFc{use-region-p}\textcolor[HTML]{50a14f}{)}
                  \textcolor[HTML]{50a14f}{(}\EFc{yas-insert-snippet}\textcolor[HTML]{50a14f}{)}
                  t\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \EFcd{;; }\textcolor[HTML]{b751b6}{\textbf{HACK}}\EFct{ Yasnippet breaks org-superstar-mode because yasnippets is}
         \EFcd{;;      }\EFct{overzealous about cleaning up overlays.}
         \textcolor[HTML]{da8548}{(}\EFk{when} \textcolor[HTML]{4078f2}{(}\EFk{bound-and-true-p} \EFv{org-superstar-mode}\textcolor[HTML]{4078f2}{)}
           \textcolor[HTML]{4078f2}{(}\EFc{org-superstar-restart}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

I think the LSP is a bit intrusive (especially with inline suggestions), so lets make it behave a bit more
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} lsp-ui
  \EFb{:hook} \textcolor[HTML]{a626a4}{(}lsp-mode . lsp-ui-mode\textcolor[HTML]{a626a4}{)}
  \EFb{:config}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} lsp-ui-sideline-enable nil\EFcd{; }\EFct{not anymore useful than flycheck}
        lsp-ui-doc-enable nil
        lsp-enable-symbol-highlighting nil\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\EFcd{;;}\EFct{java home for java-lsp}
\textcolor[HTML]{4078f2}{(}\EFc{setenv} \EFs{"JAVA\_HOME"}  \EFs{"/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home"}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{setq} lsp-java-java-path \EFs{"/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home/bin/java"}\textcolor[HTML]{4078f2}{)}

\EFcd{;;}\EFct{latex}
\textcolor[HTML]{4078f2}{(}\EFk{setq} lsp-tex-server \EFhq{'}\EFhs{digestif}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Lets also setup lsp for org-mode
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{cl-defmacro} \EFf{lsp-org-babel-enable} \textcolor[HTML]{a626a4}{(}lang\textcolor[HTML]{a626a4}{)}
  \EFd{"Support LANG in org source code block."}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} centaur-lsp \EFhq{'}\EFhs{lsp-mode}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFw{cl-check-type} lang stringp\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{let*} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}edit-pre \textcolor[HTML]{4078f2}{(}\EFc{intern} \textcolor[HTML]{a626a4}{(}\EFc{format} \EFs{"org-babel-edit-prep:\%s"} lang\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}intern-pre \textcolor[HTML]{4078f2}{(}\EFc{intern} \textcolor[HTML]{a626a4}{(}\EFc{format} \EFs{"lsp--\%s"} \textcolor[HTML]{50a14f}{(}\EFc{symbol-name} edit-pre\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \EFhq{`}\textcolor[HTML]{50a14f}{(}\EFk{progn}
       \textcolor[HTML]{da8548}{(}\EFk{defun} ,intern-pre \textcolor[HTML]{4078f2}{(}\EFf{info}\textcolor[HTML]{4078f2}{)}
         \textcolor[HTML]{4078f2}{(}\EFk{let} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}file-name \textcolor[HTML]{da8548}{(}\EFk{->>} info caddr \textcolor[HTML]{4078f2}{(}\EFc{alist-get} \EFb{:file}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           \textcolor[HTML]{a626a4}{(}\EFk{unless} file-name
             \textcolor[HTML]{50a14f}{(}\EFk{setq} file-name \textcolor[HTML]{da8548}{(}\EFc{make-temp-file} \EFs{"babel-lsp-"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{buffer-file-name} file-name\textcolor[HTML]{a626a4}{)}
           \textcolor[HTML]{a626a4}{(}\EFf{lsp-deferred}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
       \textcolor[HTML]{da8548}{(}\EFc{put} \EFhq{'},intern-pre \EFhq{'}\EFhs{function-documentation}
            \textcolor[HTML]{4078f2}{(}\EFc{format} \EFs{"Enable lsp-mode in the buffer of org source block (\%s)."}
                    \textcolor[HTML]{a626a4}{(}\EFc{upcase} ,lang\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
       \textcolor[HTML]{da8548}{(}\EFk{if} \textcolor[HTML]{4078f2}{(}\EFc{fboundp} \EFhq{'},edit-pre\textcolor[HTML]{4078f2}{)}
           \textcolor[HTML]{4078f2}{(}\EFc{advice-add} \EFhq{'},edit-pre \EFb{:after} \EFhq{'},intern-pre\textcolor[HTML]{4078f2}{)}
         \textcolor[HTML]{4078f2}{(}\EFk{progn}
           \textcolor[HTML]{a626a4}{(}\EFk{defun} ,edit-pre \textcolor[HTML]{50a14f}{(}\EFf{info}\textcolor[HTML]{50a14f}{)}
             \textcolor[HTML]{50a14f}{(},intern-pre info\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           \textcolor[HTML]{a626a4}{(}\EFc{put} \EFhq{'},edit-pre \EFhq{'}\EFhs{function-documentation}
                \textcolor[HTML]{50a14f}{(}\EFc{format} \EFs{"Prepare local buffer environment for org source block (\%s)."}
                        \textcolor[HTML]{da8548}{(}\EFc{upcase} ,lang\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-babel-lang-list}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"go"} \EFs{"python"} \EFs{"ipython"} \EFs{"bash"} \EFs{"sh"} \textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{dolist} \textcolor[HTML]{a626a4}{(}lang \EFv{org-babel-lang-list}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{eval} \EFhq{`}\textcolor[HTML]{50a14f}{(}\EFk{lsp-org-babel-enable} ,lang\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Lets add some smarter parenthesis
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFc{sp-local-pair}
 \EFhq{'}\textcolor[HTML]{a626a4}{(}org-mode\textcolor[HTML]{a626a4}{)}
 \EFs{"<<"} \EFs{">>"}
 \EFb{:actions} \EFhq{'}\textcolor[HTML]{a626a4}{(}insert\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

And lastly lets add some helpful snippets for org-mode, and add a better templete
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFf{set-file-template!} \EFs{"\char92{}\char92{}.org\$"} \EFb{:trigger} \EFs{"\_\_"} \EFb{:mode} \EFhq{'}\EFhs{org-mode}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Better Defaults}
\label{sec:orgca8ed88}
The defaults for emacs aren't so good nowadays. Lets fix that up a bit
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{undo-limit} \EFhn{80000000}                          \EFcd{;}\EFct{I mess up too much}
      \EFv{evil-want-fine-undo} t                        \EFcd{;}\EFct{By default while in insert all changes are one big blob. Be more granular}
      \EFv{scroll-margin} \EFhn{2}                              \EFcd{;}\EFct{having a little margin is nice}
      \EFv{auto-save-default} t                          \EFcd{;}\EFct{I dont like to lose work}
      \EFv{display-line-numbers-type} nil                \EFcd{;}\EFct{I dislike line numbers}
      \EFv{truncate-string-ellipsis} \EFs{"â€¦"}                 \EFcd{;}\EFct{default ellipses suck}
      \EFv{browse-url-browser-function} \EFhq{'}\EFhs{xwidget-webkit-browse-url} \EFcd{;;}\EFct{use xwidgets as my browser}
      \EFv{frame-resize-pixelwise} t\textcolor[HTML]{4078f2}{)}                    \EFcd{;}\EFct{needed for twms}

\textcolor[HTML]{4078f2}{(}\EFk{setq-default} \EFv{delete-by-moving-to-trash} t\textcolor[HTML]{4078f2}{)} \EFcd{;}\EFct{delete to system trash instead}
\textcolor[HTML]{4078f2}{(}\EFc{add-to-list} \EFhq{'}\EFv{default-frame-alist} \EFhq{'}\textcolor[HTML]{a626a4}{(}inhibit-double-buffering . t\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)} \EFcd{;;}\EFct{stops flickering}
\textcolor[HTML]{4078f2}{(}\EFv{fringe-mode} \EFhn{0}\textcolor[HTML]{4078f2}{)} \EFcd{;;}\EFct{disable fringe}
\textcolor[HTML]{4078f2}{(}\EFv{global-subword-mode} \EFhn{1}\textcolor[HTML]{4078f2}{)} \EFcd{;;}\EFct{navigate through Camel Case words}
\end{Verbatim}
\end{Code}

Ask for splits
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{evil-vsplit-window-right} t
      \EFv{evil-split-window-below} t\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\ldots{}and open a buffer for it
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} prompt-for-buffer \textcolor[HTML]{a626a4}{(}\EFt{\&rest} \_\textcolor[HTML]{a626a4}{)}
  \EFb{:after} \EFhq{'}\textcolor[HTML]{a626a4}{(}evil-window-split evil-window-vsplit\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFf{consult-buffer}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

The default bindings of doom are pretty good. I'm not so good with motions though, so lets make life easier with avy
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{map!} \EFb{:leader}
      \EFb{:desc} \EFs{"hop to word"} \EFs{"w w"} \EFhq{\#'}\EFhs{avy-goto-word-0}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{map!} \EFb{:leader}
      \EFb{:desc} \EFs{"hop to line"}
      \EFs{"l"} \EFhq{\#'}\EFhs{avy-goto-line}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

I also fine ; more intuitive than : for entering command mode
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} evil
  \textcolor[HTML]{a626a4}{(}\EFk{map!} \EFb{:nmv} \EFs{";"} \EFhq{\#'}\EFhs{evil-ex}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

When im doing regexes, its usually with /g anyways, lets make that the default
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} evil
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{evil-ex-substitute-global} t     \EFcd{; }\EFct{I like my s/../.. to by global by default}
        \EFv{evil-move-cursor-back} nil       \EFcd{; }\EFct{Don't move the block cursor when toggling insert mode}
        \EFv{evil-kill-on-visual-paste} nil\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)} \EFcd{; }\EFct{Don't put overwritten text in the kill ring}
\end{Verbatim}
\end{Code}

Doom looks much cleaner with the dividers removed. Not sure why it isn't the default honestly
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{custom-set-faces!}
  \EFhq{`}\textcolor[HTML]{a626a4}{(}vertical-border \EFb{:background} ,\textcolor[HTML]{50a14f}{(}\EFc{doom-color} \EFhq{'}\EFhs{bg}\textcolor[HTML]{50a14f}{)} \EFb{:foreground} ,\textcolor[HTML]{50a14f}{(}\EFc{doom-color} \EFhq{'}\EFhs{bg}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFc{boundp} \EFhq{'}\EFv{window-divider-mode}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{window-divider-default-places} nil
        \EFv{window-divider-default-bottom-width} \EFhn{0}
        \EFv{window-divider-default-right-width} \EFhn{0}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFv{window-divider-mode} \EFhn{-1}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

I don't like seeing the cursorline, especially while writing. Lets disable that
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;;}\EFct{disable cursorline}
\textcolor[HTML]{4078f2}{(}\EFc{remove-hook} \EFhq{'}\EFv{doom-first-buffer-hook} \EFhq{\#'}\EFv{global-hl-line-mode}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Doom has a weird bug with emacs-plus where the cursor will just turn white on a light theme. Lets fix that.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} fix-+evil-default-cursor-fn \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \EFb{:override} \EFhq{\#'}\EFhs{+evil-default-cursor-fn}
  \textcolor[HTML]{a626a4}{(}\EFf{evil-set-cursor-color} \textcolor[HTML]{50a14f}{(}\EFc{face-background} \EFhq{'}\EFhs{cursor}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} fix-+evil-emacs-cursor-fn \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \EFb{:override} \EFhq{\#'}\EFhs{+evil-emacs-cursor-fn}
  \textcolor[HTML]{a626a4}{(}\EFf{evil-set-cursor-color} \textcolor[HTML]{50a14f}{(}\EFc{face-foreground} \EFhq{'}\EFhs{warning}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

I like using the minimap, even if its slow. Looks cool in my opinion, lets make it a little cooler by removing the scroll highlighting
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;;}\EFct{make minimap transparent}
\textcolor[HTML]{4078f2}{(}\EFk{setq} minimap-highlight-line nil\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{custom-set-faces!}
  \EFhq{`}\textcolor[HTML]{a626a4}{(}minimap-active-region-background \EFb{:background} unspecified\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

I like a bit of padding on the left hand side, and lets make the line spacing comfier
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFc{set-frame-parameter} nil \EFhq{'}\EFhs{internal-border-width} \EFhn{15}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{setq-default} \EFv{left-margin-width} \EFhn{2}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{setq-default} \EFv{right-margin-width} \EFhn{2}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{setq-default} \EFv{line-spacing} \EFhn{0.35}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Periodic Table}
\label{sec:orgdea8d91}
Comes in more usefull then you would think
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;;}\EFct{(use-package! eperiodic}
  \EFcd{;;}\EFct{:commands eperiodic)}
\end{Verbatim}
\end{Code}

\subsection{Selectric mode}
\label{sec:orgb83fab7}
Typewriter go br
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} \EFv{selectric-mode}
  \EFb{:commands} \EFv{selectric-mode}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\section{Visual configuration}
\label{sec:orgeefa70a}
\subsection{Modeline}
\label{sec:org3344660}
Tecosaurs PDF improvements:
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} doom-modeline
  \textcolor[HTML]{a626a4}{(}\EFk{doom-modeline-def-segment} buffer-name
    \EFd{"Display the current buffer's name, without any other information."}
    \textcolor[HTML]{50a14f}{(}\EFc{concat}
     \textcolor[HTML]{da8548}{(}\EFf{doom-modeline-spc}\textcolor[HTML]{da8548}{)}
     \textcolor[HTML]{da8548}{(}\EFf{doom-modeline--buffer-name}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

  \textcolor[HTML]{a626a4}{(}\EFk{doom-modeline-def-segment} pdf-icon
    \EFd{"PDF icon from all-the-icons."}
    \textcolor[HTML]{50a14f}{(}\EFc{concat}
     \textcolor[HTML]{da8548}{(}\EFf{doom-modeline-spc}\textcolor[HTML]{da8548}{)}
     \textcolor[HTML]{da8548}{(}\EFv{doom-modeline-icon} \EFhq{'}\EFhs{octicon} \EFs{"file-pdf"} nil nil
                         \EFb{:face} \textcolor[HTML]{4078f2}{(}\EFk{if} \textcolor[HTML]{a626a4}{(}\EFf{doom-modeline--active}\textcolor[HTML]{a626a4}{)}
                                   \EFhq{'}\EFhs{all-the-icons-red}
                                 \EFhq{'}\EFhs{mode-line-inactive}\textcolor[HTML]{4078f2}{)}
                         \EFb{:v-adjust} \EFhn{0.02}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

  \textcolor[HTML]{a626a4}{(}\EFk{defun} \EFf{doom-modeline-update-pdf-pages} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{50a14f}{)}
    \EFd{"Update PDF pages."}
    \textcolor[HTML]{50a14f}{(}\EFk{setq} \EFv{doom-modeline--pdf-pages}
          \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}current-page-str \textcolor[HTML]{50a14f}{(}\EFc{number-to-string} \textcolor[HTML]{da8548}{(}\EFc{eval} \EFhq{`}\textcolor[HTML]{4078f2}{(}pdf-view-current-page\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                \textcolor[HTML]{a626a4}{(}total-page-str \textcolor[HTML]{50a14f}{(}\EFc{number-to-string} \textcolor[HTML]{da8548}{(}pdf-cache-number-of-pages\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFc{concat}
             \textcolor[HTML]{a626a4}{(}\EFc{propertize}
              \textcolor[HTML]{50a14f}{(}\EFc{concat} \textcolor[HTML]{da8548}{(}\EFc{make-string} \textcolor[HTML]{4078f2}{(}\EFc{-} \textcolor[HTML]{a626a4}{(}\EFc{length} total-page-str\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{length} current-page-str\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)} ? \textcolor[HTML]{da8548}{)}
                      \EFs{" P"} current-page-str\textcolor[HTML]{50a14f}{)}
              \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{mode-line}\textcolor[HTML]{a626a4}{)}
             \textcolor[HTML]{a626a4}{(}\EFc{propertize} \textcolor[HTML]{50a14f}{(}\EFc{concat} \EFs{"/"} total-page-str\textcolor[HTML]{50a14f}{)} \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{doom-modeline-buffer-minor-mode}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

  \textcolor[HTML]{a626a4}{(}\EFk{doom-modeline-def-segment} pdf-pages
    \EFd{"Display PDF pages."}
    \textcolor[HTML]{50a14f}{(}\EFk{if} \textcolor[HTML]{da8548}{(}\EFf{doom-modeline--active}\textcolor[HTML]{da8548}{)} \EFv{doom-modeline--pdf-pages}
      \textcolor[HTML]{da8548}{(}\EFc{propertize} \EFv{doom-modeline--pdf-pages} \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{mode-line-inactive}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

  \textcolor[HTML]{a626a4}{(}\EFf{doom-modeline-def-modeline} \EFhq{'}\EFhs{pdf}
    \EFhq{'}\textcolor[HTML]{50a14f}{(}bar window-number pdf-pages pdf-icon buffer-name\textcolor[HTML]{50a14f}{)}
    \EFhq{'}\textcolor[HTML]{50a14f}{(}misc-info matches \EFv{major-mode} process vcs\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Doom modeline already looks good, but it can be better. Lets add some icons, the battery status, and make sure we don't lose track of time
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;;}\EFct{modeline (icons, config, battery)}
\textcolor[HTML]{4078f2}{(}\EFv{display-time-mode} \EFhn{1}\textcolor[HTML]{4078f2}{)}                              \EFcd{;}\EFct{Enable time in the mode-line}
\textcolor[HTML]{4078f2}{(}\EFv{display-battery-mode} \EFhn{1}\textcolor[HTML]{4078f2}{)}                             \EFcd{;}\EFct{display the battery}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{doom-modeline-major-mode-icon} t\textcolor[HTML]{4078f2}{)}             \EFcd{;}\EFct{Show major mode name}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{doom-modeline-enable-word-count} t\textcolor[HTML]{4078f2}{)}           \EFcd{;}\EFct{Show word count}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{doom-modeline-modal-icon} t\textcolor[HTML]{4078f2}{)}                  \EFcd{;}\EFct{Show vim mode icon}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{inhibit-compacting-font-caches} t\textcolor[HTML]{4078f2}{)}            \EFcd{;}\EFct{Don't compact font caches in gc}
\end{Verbatim}
\end{Code}

The encoding is always UTF-8, so its a bit redundant. Lets take that out
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{doom-modeline-conditional-buffer-encoding} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \EFd{"We expect the encoding to be LF UTF-8, so only show the modeline when this is not the case"}
  \textcolor[HTML]{a626a4}{(}\EFk{setq-local} \EFv{doom-modeline-buffer-encoding}
              \textcolor[HTML]{50a14f}{(}\EFk{unless} \textcolor[HTML]{da8548}{(}\EFk{and} \textcolor[HTML]{4078f2}{(}\EFc{memq} \textcolor[HTML]{a626a4}{(}\EFc{plist-get} \textcolor[HTML]{50a14f}{(}\EFc{coding-system-plist} \EFv{buffer-file-coding-system}\textcolor[HTML]{50a14f}{)} \EFb{:category}\textcolor[HTML]{a626a4}{)}
                                 \EFhq{'}\textcolor[HTML]{a626a4}{(}coding-category-undecided coding-category-utf-8\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                           \textcolor[HTML]{4078f2}{(}\EFc{not} \textcolor[HTML]{a626a4}{(}\EFc{memq} \textcolor[HTML]{50a14f}{(}\EFc{coding-system-eol-type} \EFv{buffer-file-coding-system}\textcolor[HTML]{50a14f}{)} \EFhq{'}\textcolor[HTML]{50a14f}{(}\EFhn{1} \EFhn{2}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                t\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFc{add-hook} \EFhq{'}\EFv{after-change-major-mode-hook} \EFhq{\#'}\EFhs{doom-modeline-conditional-buffer-encoding}\textcolor[HTML]{4078f2}{)} \EFcd{;;}\EFct{remove encoding}
\end{Verbatim}
\end{Code}

\subsection{Centaur tabs}
\label{sec:orgdb5f243}
There isn't much of a point having tabs when you only have one buffer open. This checks the number of tabs, and hides them if theres only one left
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{centaur-tabs-get-total-tab-length} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{length} \textcolor[HTML]{50a14f}{(}centaur-tabs-tabs \textcolor[HTML]{da8548}{(}centaur-tabs-current-tabset\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{centaur-tabs-hide-on-window-change} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{run-at-time} nil nil
               \textcolor[HTML]{50a14f}{(}\EFk{lambda} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{da8548}{)}
                 \textcolor[HTML]{da8548}{(}\EFf{centaur-tabs-hide-check} \textcolor[HTML]{4078f2}{(}\EFf{centaur-tabs-get-total-tab-length}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{centaur-tabs-hide-check} \textcolor[HTML]{a626a4}{(}len\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{shut-up}
    \textcolor[HTML]{50a14f}{(}\EFk{cond}
     \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFk{and} \textcolor[HTML]{a626a4}{(}\EFc{=} len \EFhn{1}\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{not} \textcolor[HTML]{50a14f}{(}centaur-tabs-local-mode\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFc{call-interactively} \EFhq{\#'}\EFhs{centaur-tabs-local-mode}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
     \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFk{and} \textcolor[HTML]{a626a4}{(}\EFc{>=} len \EFhn{2}\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}centaur-tabs-local-mode\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFc{call-interactively} \EFhq{\#'}\EFhs{centaur-tabs-local-mode}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

I also like to have icons with my tabs.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} centaur-tabs
  \textcolor[HTML]{a626a4}{(}centaur-tabs-mode \EFhn{-1}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} centaur-tabs-height \EFhn{36}
        centaur-tabs-set-icons t
        centaur-tabs-gray-out-icons \EFhq{'}\EFhs{buffer}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{add-hook} \EFhq{'}\EFv{window-configuration-change-hook} \EFhq{'}\EFhs{centaur-tabs-hide-on-window-change}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}centaur-tabs-change-fonts \EFs{"Liga SFMono Nerd Font"} \EFhn{140}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}centaur-tabs-headline-match\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Lastly lets swap the bg and fg colors so it looks cleaner
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{custom-set-faces!}
  \EFhq{`}\textcolor[HTML]{a626a4}{(}centaur-tabs-default \EFb{:background} ,\textcolor[HTML]{50a14f}{(}\EFc{doom-color} \EFhq{'}\EFhs{bg}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \EFhq{`}\textcolor[HTML]{a626a4}{(}centaur-tabs-selected \EFb{:background} ,\textcolor[HTML]{50a14f}{(}\EFc{doom-color} \EFhq{'}\EFhs{bg\_alt}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \EFhq{`}\textcolor[HTML]{a626a4}{(}centaur-tabs-unselected \EFb{:background} ,\textcolor[HTML]{50a14f}{(}\EFc{doom-color} \EFhq{'}\EFhs{bg}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Treemacs}
\label{sec:orgd045027}
Lets theme treemacs while we're at it
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;;}\EFct{make treemacs thinner}
\textcolor[HTML]{4078f2}{(}\EFk{setq} treemacs-width \EFhn{25}\textcolor[HTML]{4078f2}{)}
\EFcd{;;}\EFct{set treemacs to use the theme}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{doom-themes-treemacs-theme} \EFs{"doom-colors"}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Emojis}
\label{sec:org826eab9}
Disable some annoying emojis
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{emojify-disabled-emojis}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFcd{;; }\EFct{Org}
    \EFs{"â—¼"} \EFs{"â˜‘"} \EFs{"â˜¸"} \EFs{"âš™"} \EFs{"â©"} \EFs{"âª"} \EFs{"â¬†"} \EFs{"â¬‡"} \EFs{"â“"}
    \EFcd{;; }\EFct{Terminal powerline}
    \EFs{"âœ”"}
    \EFcd{;; }\EFct{Box drawing}
    \EFs{"â–¶"} \EFs{"â—€"}\textcolor[HTML]{a626a4}{)}
  \EFd{"Characters that should never be affected by `}\textcolor[HTML]{b751b6}{\textit{emojify-mode}}\EFd{'."}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} emojify-delete-from-data \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \EFd{"Ensure `}\textcolor[HTML]{b751b6}{\textit{emojify-disabled-emojis}}\EFd{' don't appear in `}\textcolor[HTML]{b751b6}{\textit{emojify-emojis}}\EFd{'."}
  \EFb{:after} \EFhq{\#'}\EFhs{emojify-set-emoji-data}
  \textcolor[HTML]{a626a4}{(}\EFk{dolist} \textcolor[HTML]{50a14f}{(}emoji \EFv{emojify-disabled-emojis}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{remhash} emoji \EFv{emojify-emojis}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{add-hook!} \EFhq{'}\textcolor[HTML]{a626a4}{(}mu4e-compose-mode org-msg-edit-mode\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}emoticon-to-emoji \EFhn{1}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Splash screen}
\label{sec:orgf0f228f}
Emacs can render an image as the splash screen, and the emacs logo looks pretty cool
Now we just make it theme-appropriate, and resize with the frame.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{fancy-splash-image-template}
  \textcolor[HTML]{a626a4}{(}\EFc{expand-file-name} \EFs{"misc/splash-images/emacs-e-template.svg"} \EFv{doom-private-dir}\textcolor[HTML]{a626a4}{)}
  \EFd{"Default template svg used for the splash image, with substitutions from "}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{fancy-splash-sizes}
  \EFhq{`}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFb{:height} \EFhn{300} \EFb{:min-height} \EFhn{50} \EFb{:padding} \textcolor[HTML]{da8548}{(}\EFhn{0} . \EFhn{2}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFb{:height} \EFhn{250} \EFb{:min-height} \EFhn{42} \EFb{:padding} \textcolor[HTML]{da8548}{(}\EFhn{2} . \EFhn{4}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFb{:height} \EFhn{200} \EFb{:min-height} \EFhn{35} \EFb{:padding} \textcolor[HTML]{da8548}{(}\EFhn{3} . \EFhn{3}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFb{:height} \EFhn{150} \EFb{:min-height} \EFhn{28} \EFb{:padding} \textcolor[HTML]{da8548}{(}\EFhn{3} . \EFhn{3}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFb{:height} \EFhn{100} \EFb{:min-height} \EFhn{20} \EFb{:padding} \textcolor[HTML]{da8548}{(}\EFhn{2} . \EFhn{2}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFb{:height} \EFhn{75}  \EFb{:min-height} \EFhn{15} \EFb{:padding} \textcolor[HTML]{da8548}{(}\EFhn{2} . \EFhn{1}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFb{:height} \EFhn{50}  \EFb{:min-height} \EFhn{10} \EFb{:padding} \textcolor[HTML]{da8548}{(}\EFhn{1} . \EFhn{0}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFb{:height} \EFhn{1}   \EFb{:min-height} \EFhn{0}  \EFb{:padding} \textcolor[HTML]{da8548}{(}\EFhn{0} . \EFhn{0}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \EFd{"list of plists with the following properties
  :height the height of the image
  :min-height minimum `}\textcolor[HTML]{b751b6}{\textit{frame-height}}\EFd{' for image
  :padding `}\textcolor[HTML]{b751b6}{\textit{+doom-dashboard-banner-padding}}\EFd{' (top . bottom) to apply
  :template non-default template file
  :file file to use instead of template"}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{fancy-splash-template-colours}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFs{"\$colour1"} . keywords\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFs{"\$colour2"} . type\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFs{"\$colour3"} . base5\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFs{"\$colour4"} . base8\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \EFd{"list of colour-replacement alists of the form (\char92{}"\$placeholder\char92{}" . 'theme-colour) which applied the template"}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{unless} \textcolor[HTML]{a626a4}{(}\EFc{file-exists-p} \textcolor[HTML]{50a14f}{(}\EFc{expand-file-name} \EFs{"theme-splashes"} \EFv{doom-cache-dir}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{make-directory} \textcolor[HTML]{50a14f}{(}\EFc{expand-file-name} \EFs{"theme-splashes"} \EFv{doom-cache-dir}\textcolor[HTML]{50a14f}{)} t\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{fancy-splash-filename} \textcolor[HTML]{a626a4}{(}theme-name height\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{expand-file-name} \textcolor[HTML]{50a14f}{(}\EFc{concat} \textcolor[HTML]{da8548}{(}\EFc{file-name-as-directory} \EFs{"theme-splashes"}\textcolor[HTML]{da8548}{)}
                            theme-name
                            \EFs{"-"} \textcolor[HTML]{da8548}{(}\EFc{number-to-string} height\textcolor[HTML]{da8548}{)} \EFs{".svg"}\textcolor[HTML]{50a14f}{)}
                    \EFv{doom-cache-dir}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{fancy-splash-clear-cache} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \EFd{"Delete all cached fancy splash images"}
  \textcolor[HTML]{a626a4}{(}\EFk{interactive}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{delete-directory} \textcolor[HTML]{50a14f}{(}\EFc{expand-file-name} \EFs{"theme-splashes"} \EFv{doom-cache-dir}\textcolor[HTML]{50a14f}{)} t\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{message} \EFs{"Cache cleared!"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{fancy-splash-generate-image} \textcolor[HTML]{a626a4}{(}template height\textcolor[HTML]{a626a4}{)}
  \EFd{"Read TEMPLATE and create an image if HEIGHT with colour substitutions as
   described by `}\textcolor[HTML]{b751b6}{\textit{fancy-splash-template-colours}}\EFd{' for the current theme"}
  \textcolor[HTML]{a626a4}{(}\EFk{with-temp-buffer}
    \textcolor[HTML]{50a14f}{(}\EFc{insert-file-contents} template\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{re-search-forward} \EFs{"\$height"} nil t\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{replace-match} \textcolor[HTML]{da8548}{(}\EFc{number-to-string} height\textcolor[HTML]{da8548}{)} nil nil\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{dolist} \textcolor[HTML]{da8548}{(}substitution \EFv{fancy-splash-template-colours}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{goto-char} \textcolor[HTML]{4078f2}{(}\EFc{point-min}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFk{while} \textcolor[HTML]{4078f2}{(}\EFc{re-search-forward} \textcolor[HTML]{a626a4}{(}\EFc{car} substitution\textcolor[HTML]{a626a4}{)} nil t\textcolor[HTML]{4078f2}{)}
        \textcolor[HTML]{4078f2}{(}\EFc{replace-match} \textcolor[HTML]{a626a4}{(}\EFc{doom-color} \textcolor[HTML]{50a14f}{(}\EFc{cdr} substitution\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)} nil nil\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{write-region} nil nil
                  \textcolor[HTML]{da8548}{(}\EFf{fancy-splash-filename} \textcolor[HTML]{4078f2}{(}\EFc{symbol-name} \EFv{doom-theme}\textcolor[HTML]{4078f2}{)} height\textcolor[HTML]{da8548}{)} nil nil\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{fancy-splash-generate-images} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \EFd{"Perform `}\textcolor[HTML]{b751b6}{\textit{fancy-splash-generate-image}}\EFd{' in bulk"}
  \textcolor[HTML]{a626a4}{(}\EFk{dolist} \textcolor[HTML]{50a14f}{(}size \EFv{fancy-splash-sizes}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{unless} \textcolor[HTML]{da8548}{(}\EFc{plist-get} size \EFb{:file}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFf{fancy-splash-generate-image} \textcolor[HTML]{4078f2}{(}\EFk{or} \textcolor[HTML]{a626a4}{(}\EFc{plist-get} size \EFb{:template}\textcolor[HTML]{a626a4}{)}
                                       \EFv{fancy-splash-image-template}\textcolor[HTML]{4078f2}{)}
                                   \textcolor[HTML]{4078f2}{(}\EFc{plist-get} size \EFb{:height}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{ensure-theme-splash-images-exist} \textcolor[HTML]{a626a4}{(}\EFt{\&optional} height\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{unless} \textcolor[HTML]{50a14f}{(}\EFc{file-exists-p} \textcolor[HTML]{da8548}{(}\EFf{fancy-splash-filename}
                          \textcolor[HTML]{4078f2}{(}\EFc{symbol-name} \EFv{doom-theme}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFk{or} height
                              \textcolor[HTML]{a626a4}{(}\EFc{plist-get} \textcolor[HTML]{50a14f}{(}\EFc{car} \EFv{fancy-splash-sizes}\textcolor[HTML]{50a14f}{)} \EFb{:height}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFf{fancy-splash-generate-images}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{get-appropriate-splash} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}height \textcolor[HTML]{4078f2}{(}\EFc{frame-height}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{cl-some} \textcolor[HTML]{da8548}{(}\EFk{lambda} \textcolor[HTML]{4078f2}{(}size\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFc{>=} height \textcolor[HTML]{50a14f}{(}\EFc{plist-get} size \EFb{:min-height}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)} size\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
             \EFv{fancy-splash-sizes}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{setq} fancy-splash-last-size nil\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{setq} fancy-splash-last-theme nil\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{set-appropriate-splash} \textcolor[HTML]{a626a4}{(}\EFt{\&rest} \_\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}appropriate-image \textcolor[HTML]{4078f2}{(}\EFf{get-appropriate-splash}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{unless} \textcolor[HTML]{da8548}{(}\EFk{and} \textcolor[HTML]{4078f2}{(}\EFc{equal} appropriate-image fancy-splash-last-size\textcolor[HTML]{4078f2}{)}
                 \textcolor[HTML]{4078f2}{(}\EFc{equal} \EFv{doom-theme} fancy-splash-last-theme\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{unless} \textcolor[HTML]{da8548}{(}\EFc{plist-get} appropriate-image \EFb{:file}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFf{ensure-theme-splash-images-exist} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} appropriate-image \EFb{:height}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{setq} \EFv{fancy-splash-image}
          \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} appropriate-image \EFb{:file}\textcolor[HTML]{4078f2}{)}
              \textcolor[HTML]{4078f2}{(}\EFf{fancy-splash-filename} \textcolor[HTML]{a626a4}{(}\EFc{symbol-name} \EFv{doom-theme}\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{plist-get} appropriate-image \EFb{:height}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{setq} \EFv{+doom-dashboard-banner-padding} \textcolor[HTML]{da8548}{(}\EFc{plist-get} appropriate-image \EFb{:padding}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{setq} fancy-splash-last-size appropriate-image\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{setq} fancy-splash-last-theme \EFv{doom-theme}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFf{+doom-dashboard-reload}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFc{add-hook} \EFhq{'}\EFv{window-size-change-functions} \EFhq{\#'}\EFhs{set-appropriate-splash}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFc{add-hook} \EFhq{'}\EFv{doom-load-theme-hook} \EFhq{\#'}\EFhs{set-appropriate-splash}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Lets add a little phrase in there as well
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{phrase-api-url}
  \textcolor[HTML]{a626a4}{(}\EFc{nth} \textcolor[HTML]{50a14f}{(}\EFc{random} \EFhn{3}\textcolor[HTML]{50a14f}{)}
       \EFhq{'}\textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFs{"https://corporatebs-generator.sameerkumar.website/"} \EFb{:phrase}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}\EFs{"https://useless-facts.sameerkumar.website/api"} \EFb{:data}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}\EFs{"https://dev-excuses-api.herokuapp.com/"} \EFb{:text}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defmacro} \EFf{phrase-generate-callback} \textcolor[HTML]{a626a4}{(}token \EFt{\&optional} format-fn ignore-read-only callback buffer-name\textcolor[HTML]{a626a4}{)}
  \EFhq{`}\textcolor[HTML]{a626a4}{(}\EFk{lambda} \textcolor[HTML]{50a14f}{(}status\textcolor[HTML]{50a14f}{)}
     \textcolor[HTML]{50a14f}{(}\EFk{unless} \textcolor[HTML]{da8548}{(}\EFc{plist-get} status \EFb{:error}\textcolor[HTML]{da8548}{)}
       \textcolor[HTML]{da8548}{(}\EFc{goto-char} url-http-end-of-headers\textcolor[HTML]{da8548}{)}
       \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}phrase \textcolor[HTML]{50a14f}{(}\EFc{plist-get} \textcolor[HTML]{da8548}{(}\EFc{json-parse-buffer} \EFb{:object-type} \EFhq{'}\EFhs{plist}\textcolor[HTML]{da8548}{)} \textcolor[HTML]{da8548}{(}\EFc{cadr} \EFv{phrase-api-url}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
             \textcolor[HTML]{a626a4}{(}\EFv{inhibit-read-only} ,\textcolor[HTML]{50a14f}{(}\EFk{when} \textcolor[HTML]{da8548}{(}\EFc{eval} ignore-read-only\textcolor[HTML]{da8548}{)} t\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
         \textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{phrase-last} \textcolor[HTML]{a626a4}{(}\EFc{cons} phrase \textcolor[HTML]{50a14f}{(}\EFc{float-time}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
         \textcolor[HTML]{4078f2}{(}\EFk{with-current-buffer} ,\textcolor[HTML]{a626a4}{(}\EFk{or} \textcolor[HTML]{50a14f}{(}\EFc{eval} buffer-name\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFc{buffer-name} \textcolor[HTML]{da8548}{(}\EFc{current-buffer}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           \textcolor[HTML]{a626a4}{(}\EFk{save-excursion}
             \textcolor[HTML]{50a14f}{(}\EFc{goto-char} \textcolor[HTML]{da8548}{(}\EFc{point-min}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
             \textcolor[HTML]{50a14f}{(}\EFk{when} \textcolor[HTML]{da8548}{(}\EFc{search-forward} ,token nil t\textcolor[HTML]{da8548}{)}
               \textcolor[HTML]{da8548}{(}\EFk{with-silent-modifications}
                 \textcolor[HTML]{4078f2}{(}\EFc{replace-match} \EFs{""}\textcolor[HTML]{4078f2}{)}
                 \textcolor[HTML]{4078f2}{(}\EFc{insert} ,\textcolor[HTML]{a626a4}{(}\EFk{if} format-fn format-fn \EFhq{'}\EFhs{phrase}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           ,callback\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{phrase-last} nil\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{phrase-timeout} \EFhn{5}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defmacro} \EFf{phrase-insert-async} \textcolor[HTML]{a626a4}{(}\EFt{\&optional} format-fn token ignore-read-only callback buffer-name\textcolor[HTML]{a626a4}{)}
  \EFhq{`}\textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFv{inhibit-message} t\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
     \textcolor[HTML]{50a14f}{(}\EFk{if} \textcolor[HTML]{da8548}{(}\EFk{and} \EFv{phrase-last}
              \textcolor[HTML]{4078f2}{(}\EFc{>} \EFv{phrase-timeout} \textcolor[HTML]{a626a4}{(}\EFc{-} \textcolor[HTML]{50a14f}{(}\EFc{float-time}\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFc{cdr} \EFv{phrase-last}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}phrase \textcolor[HTML]{50a14f}{(}\EFc{car} \EFv{phrase-last}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
           ,\textcolor[HTML]{4078f2}{(}\EFk{if} format-fn format-fn \EFhq{'}\EFhs{phrase}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
       \textcolor[HTML]{da8548}{(}\EFc{url-retrieve} \textcolor[HTML]{4078f2}{(}\EFc{car} \EFv{phrase-api-url}\textcolor[HTML]{4078f2}{)}
                     \textcolor[HTML]{4078f2}{(}\EFk{phrase-generate-callback} ,\textcolor[HTML]{a626a4}{(}\EFk{or} token \EFs{"\char92{}ufeff"}\textcolor[HTML]{a626a4}{)} ,format-fn ,ignore-read-only ,callback ,buffer-name\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
       \EFcd{;; }\EFct{For reference, \char92{}ufeff = Zero-width no-break space / BOM}
       ,\textcolor[HTML]{da8548}{(}\EFk{or} token \EFs{"\char92{}ufeff"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{doom-dashboard-phrase} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{phrase-insert-async}
   \textcolor[HTML]{50a14f}{(}\EFk{progn}
     \textcolor[HTML]{da8548}{(}\EFk{setq-local} phrase-position \textcolor[HTML]{4078f2}{(}\EFc{point}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
     \textcolor[HTML]{da8548}{(}\EFc{mapconcat}
      \textcolor[HTML]{4078f2}{(}\EFk{lambda} \textcolor[HTML]{a626a4}{(}line\textcolor[HTML]{a626a4}{)}
        \textcolor[HTML]{a626a4}{(}\EFf{+doom-dashboard--center}
         \EFv{+doom-dashboard--width}
         \textcolor[HTML]{50a14f}{(}\EFk{with-temp-buffer}
           \textcolor[HTML]{da8548}{(}\EFc{insert-text-button}
            line
            \EFhq{'}\EFhs{action}
            \textcolor[HTML]{4078f2}{(}\EFk{lambda} \textcolor[HTML]{a626a4}{(}\_\textcolor[HTML]{a626a4}{)}
              \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{phrase-last} nil\textcolor[HTML]{a626a4}{)}
              \textcolor[HTML]{a626a4}{(}\EFf{+doom-dashboard-reload} t\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
            \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{doom-dashboard-menu-title}
            \EFhq{'}\EFhs{mouse-face} \EFhq{'}\EFhs{doom-dashboard-menu-title}
            \EFhq{'}\EFhs{help-echo} \EFs{"Random phrase"}
            \EFhq{'}\EFhs{follow-link} t\textcolor[HTML]{da8548}{)}
           \textcolor[HTML]{da8548}{(}\EFc{buffer-string}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
      \textcolor[HTML]{4078f2}{(}\EFc{split-string}
       \textcolor[HTML]{a626a4}{(}\EFk{with-temp-buffer}
         \textcolor[HTML]{50a14f}{(}\EFc{insert} phrase\textcolor[HTML]{50a14f}{)}
         \textcolor[HTML]{50a14f}{(}\EFk{setq} \EFv{fill-column} \textcolor[HTML]{da8548}{(}\EFc{min} \EFhn{70} \textcolor[HTML]{4078f2}{(}\EFc{/} \textcolor[HTML]{a626a4}{(}\EFc{*} \EFhn{2} \textcolor[HTML]{50a14f}{(}\EFc{window-width}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)} \EFhn{3}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
         \textcolor[HTML]{50a14f}{(}\EFc{fill-region} \textcolor[HTML]{da8548}{(}\EFc{point-min}\textcolor[HTML]{da8548}{)} \textcolor[HTML]{da8548}{(}\EFc{point-max}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
         \textcolor[HTML]{50a14f}{(}\EFc{buffer-string}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
       \EFs{"\char92{}n"}\textcolor[HTML]{4078f2}{)}
      \EFs{"\char92{}n"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
   nil t
   \textcolor[HTML]{50a14f}{(}\EFk{progn}
     \textcolor[HTML]{da8548}{(}\EFc{goto-char} phrase-position\textcolor[HTML]{da8548}{)}
     \textcolor[HTML]{da8548}{(}\EFc{forward-whitespace} \EFhn{1}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
   \EFv{+doom-dashboard-name}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} doom-dashboard-widget-loaded-with-phrase \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \EFb{:override} \EFhq{\#'}\EFhs{doom-dashboard-widget-loaded}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{line-spacing} \EFhn{0.2}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{insert}
   \EFs{"\char92{}n\char92{}n"}
   \textcolor[HTML]{50a14f}{(}\EFc{propertize}
    \textcolor[HTML]{da8548}{(}\EFf{+doom-dashboard--center}
     \EFv{+doom-dashboard--width}
     \textcolor[HTML]{4078f2}{(}\EFf{doom-display-benchmark-h} \EFhq{'}\EFhs{return}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
    \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{doom-dashboard-loaded}\textcolor[HTML]{50a14f}{)}
   \EFs{"\char92{}n"}
   \textcolor[HTML]{50a14f}{(}\EFf{doom-dashboard-phrase}\textcolor[HTML]{50a14f}{)}
   \EFs{"\char92{}n"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Lastly, the doom dashboard ``useful commands'' are no longer useful to me. So, we'll disable them and then for a particularly \emph{clean} look disable the modeline, then also hide the cursor.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFc{remove-hook} \EFhq{'}\EFv{+doom-dashboard-functions} \EFhq{\#'}\EFhs{doom-dashboard-widget-shortmenu}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{add-hook!} \EFhq{'}\EFv{+doom-dashboard-mode-hook} \textcolor[HTML]{a626a4}{(}\EFv{hide-mode-line-mode} \EFhn{1}\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFv{hl-line-mode} \EFhn{-1}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{setq-hook!} \EFhq{'}\EFv{+doom-dashboard-mode-hook} \EFv{evil-normal-state-cursor} \textcolor[HTML]{a626a4}{(}\EFc{list} nil\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Writeroom}
\label{sec:orgc841e85}
For starters, I think Doom is a bit over-zealous when zooming in
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{+zen-text-scale} \EFhn{0.8}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Then, when using Org it would be nice to make a number of other aesthetic
tweaks. Namely:
\begin{itemize}
\item Use a serif-ed variable-pitch font
\item Hiding headline leading stars
\item Using fleurons as headline bullets
\item Hiding line numbers
\item Removing outline indentation
\item Centering the text
\item Turning on \texttt{org-pretty-table-mode}
\item Turning on \texttt{minimap-mode}
\item Disabling \texttt{doom-modeline}
\end{itemize}

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{+zen-serif-p} t
  \EFd{"Whether to use a serifed font with `}\textcolor[HTML]{b751b6}{\textit{mixed-pitch-mode}}\EFd{'."}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{after!} writeroom-mode
  \textcolor[HTML]{a626a4}{(}\EFk{defvar-local} \EFv{+zen--original-org-indent-mode-p} nil\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{defvar-local} \EFv{+zen--original-mixed-pitch-mode-p} nil\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{defun} \EFf{+zen-enable-mixed-pitch-mode-h} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{50a14f}{)}
    \EFd{"Enable `}\textcolor[HTML]{b751b6}{\textit{mixed-pitch-mode}}\EFd{' when in `}\textcolor[HTML]{b751b6}{\textit{+zen-mixed-pitch-modes}}\EFd{'."}
    \textcolor[HTML]{50a14f}{(}\EFk{when} \textcolor[HTML]{da8548}{(}\EFc{apply} \EFhq{\#'}\EFhs{derived-mode-p} \EFv{+zen-mixed-pitch-modes}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFk{if} writeroom-mode
          \textcolor[HTML]{4078f2}{(}\EFk{progn}
            \textcolor[HTML]{a626a4}{(}\EFk{setq} +zen--original-mixed-pitch-mode-p \EFv{mixed-pitch-mode}\textcolor[HTML]{a626a4}{)}
            \textcolor[HTML]{a626a4}{(}\EFc{funcall} \textcolor[HTML]{50a14f}{(}\EFk{if} \EFv{+zen-serif-p} \EFhq{\#'}\EFhs{mixed-pitch-serif-mode} \EFhq{\#'}\EFv{mixed-pitch-mode}\textcolor[HTML]{50a14f}{)} \EFhn{1}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
        \textcolor[HTML]{4078f2}{(}\EFc{funcall} \EFhq{\#'}\EFv{mixed-pitch-mode} \textcolor[HTML]{a626a4}{(}\EFk{if} +zen--original-mixed-pitch-mode-p \EFhn{1} \EFhn{-1}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{pushnew!} writeroom--local-variables
            \EFhq{'}\EFv{display-line-numbers}
            \EFhq{'}\EFhs{visual-fill-column-width}
            \EFhq{'}\EFv{org-adapt-indentation}
            \EFhq{'}\EFv{org-superstar-headline-bullets-list}
            \EFhq{'}\EFv{org-superstar-remove-leading-stars}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{add-hook} \EFhq{'}\EFhs{writeroom-mode-enable-hook}
            \textcolor[HTML]{50a14f}{(}\EFk{defun} \EFf{+zen-prose-org-h} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{da8548}{)}
              \EFd{"Reformat the current Org buffer appearance for prose."}
              \textcolor[HTML]{da8548}{(}\EFk{when} \textcolor[HTML]{4078f2}{(}\EFc{eq} \EFv{major-mode} \EFhq{'}\EFhs{org-mode}\textcolor[HTML]{4078f2}{)}
                \textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{display-line-numbers} nil
                      visual-fill-column-width \EFhn{60}
                      \EFv{org-adapt-indentation} nil\textcolor[HTML]{4078f2}{)}
                \textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFc{featurep} \EFhq{'}\EFc{org-superstar}\textcolor[HTML]{a626a4}{)}
                  \textcolor[HTML]{a626a4}{(}\EFk{setq-local} \EFv{org-superstar-headline-bullets-list} \EFhq{'}\textcolor[HTML]{50a14f}{(}\EFs{"â—‰"} \EFs{"â—‹"} \EFs{"âœ¸"} \EFs{"âœ¿"} \EFs{"âœ¤"} \EFs{"âœœ"} \EFs{"â—†"} \EFs{"â–¶"}\textcolor[HTML]{50a14f}{)}
                              \EFv{org-superstar-remove-leading-stars} t\textcolor[HTML]{a626a4}{)}
                  \textcolor[HTML]{a626a4}{(}\EFc{org-superstar-restart}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}               \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{986801}{setq}
                 +zen--original-org-indent-mode-p \EFv{org-indent-mode}\textcolor[HTML]{4078f2}{)}
                \textcolor[HTML]{4078f2}{(}\EFv{org-indent-mode} \EFhn{-1}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

  \EFcd{;;}\EFct{(add-hook! 'writeroom-mode-hook (minimap-mode (if writeroom-mode +1 -1)))}
  \textcolor[HTML]{a626a4}{(}\EFc{add-hook} \EFhq{'}\EFhs{writeroom-mode-enable-hook} \EFhq{\#'}\EFhs{doom-disable-line-numbers-h}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{add-hook} \EFhq{'}\EFhs{writeroom-mode-disable-hook} \EFhq{\#'}\EFhs{doom-enable-line-numbers-h}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{add-hook} \EFhq{'}\EFhs{writeroom-mode-disable-hook}
            \textcolor[HTML]{50a14f}{(}\EFk{defun} \EFf{+zen-nonprose-org-h} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{da8548}{)}
              \EFd{"Reverse the effect of `}\textcolor[HTML]{b751b6}{\textit{+zen-prose-org}}\EFd{'."}
              \textcolor[HTML]{da8548}{(}\EFk{when} \textcolor[HTML]{4078f2}{(}\EFc{eq} \EFv{major-mode} \EFhq{'}\EFhs{org-mode}\textcolor[HTML]{4078f2}{)}
                \textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFc{featurep} \EFhq{'}\EFc{org-superstar}\textcolor[HTML]{a626a4}{)}
                  \textcolor[HTML]{a626a4}{(}\EFc{org-superstar-restart}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                \textcolor[HTML]{4078f2}{(}\EFk{when} +zen--original-org-indent-mode-p \textcolor[HTML]{a626a4}{(}\EFv{org-indent-mode} \EFhn{1}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

I have to export files pretty often, lets setup some keybindings to make it easier
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;;}\EFct{spc+v = view exported file}
\textcolor[HTML]{4078f2}{(}\EFk{map!} \EFb{:map} \EFv{org-mode-map}
      \EFb{:localleader}
      \EFb{:desc} \EFs{"View exported file"} \EFs{"v"} \EFhq{\#'}\EFhs{org-view-output-file}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-view-output-file} \textcolor[HTML]{a626a4}{(}\EFt{\&optional} org-file-path\textcolor[HTML]{a626a4}{)}
  \EFd{"Visit buffer open on the first output file (if any) found, using `}\textcolor[HTML]{b751b6}{\textit{org-view-output-file-extensions}}\EFd{'"}
  \textcolor[HTML]{a626a4}{(}\EFk{interactive}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{let*} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}org-file-path \textcolor[HTML]{4078f2}{(}\EFk{or} org-file-path \textcolor[HTML]{a626a4}{(}\EFv{buffer-file-name}\textcolor[HTML]{a626a4}{)} \EFs{""}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}dir \textcolor[HTML]{4078f2}{(}\EFc{file-name-directory} org-file-path\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}basename \textcolor[HTML]{4078f2}{(}\EFc{file-name-base} org-file-path\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}output-file nil\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{dolist} \textcolor[HTML]{da8548}{(}ext \EFv{org-view-output-file-extensions}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFk{unless} output-file
        \textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFc{file-exists-p}
               \textcolor[HTML]{50a14f}{(}\EFc{concat} dir basename \EFs{"."} ext\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
          \textcolor[HTML]{a626a4}{(}\EFk{setq} output-file \textcolor[HTML]{50a14f}{(}\EFc{concat} dir basename \EFs{"."} ext\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{if} output-file
        \textcolor[HTML]{da8548}{(}\EFk{if} \textcolor[HTML]{4078f2}{(}\EFc{member} \textcolor[HTML]{a626a4}{(}\EFc{file-name-extension} output-file\textcolor[HTML]{a626a4}{)} \EFv{org-view-external-file-extensions}\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFc{browse-url-xdg-open} output-file\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}pop-to-bufferpop-to-buffer \textcolor[HTML]{a626a4}{(}\EFk{or} \textcolor[HTML]{50a14f}{(}\EFc{find-buffer-visiting} output-file\textcolor[HTML]{50a14f}{)}
                             \textcolor[HTML]{50a14f}{(}\EFc{find-file-noselect} output-file\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{message} \EFs{"No exported file found"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-view-output-file-extensions} \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"pdf"} \EFs{"md"} \EFs{"rst"} \EFs{"txt"} \EFs{"tex"} \EFs{"html"}\textcolor[HTML]{a626a4}{)}
  \EFd{"Search for output files with these extensions, in order, viewing the first that matches"}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-view-external-file-extensions} \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"html"}\textcolor[HTML]{a626a4}{)}
  \EFd{"File formats that should be opened externally."}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Font Display}
\label{sec:org0436734}
Mixed pitch is great. As is \texttt{+org-pretty-mode}, let's use them.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFc{add-hook} \EFhq{'}\EFv{org-mode-hook} \EFhq{\#'}\EFv{+org-pretty-mode}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-pretty-entities-include-sub-superscripts} nil\textcolor[HTML]{4078f2}{)} \EFcd{;;}\EFct{doesn't play well with latex}
\end{Verbatim}
\end{Code}

Let's make headings a bit bigger
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{custom-set-faces!}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}outline-1 \EFb{:weight} extra-bold \EFb{:height} \EFhn{1.25}\textcolor[HTML]{a626a4}{)}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}outline-2 \EFb{:weight} bold \EFb{:height} \EFhn{1.15}\textcolor[HTML]{a626a4}{)}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}outline-3 \EFb{:weight} bold \EFb{:height} \EFhn{1.12}\textcolor[HTML]{a626a4}{)}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}outline-4 \EFb{:weight} semi-bold \EFb{:height} \EFhn{1.09}\textcolor[HTML]{a626a4}{)}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}outline-5 \EFb{:weight} semi-bold \EFb{:height} \EFhn{1.06}\textcolor[HTML]{a626a4}{)}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}outline-6 \EFb{:weight} semi-bold \EFb{:height} \EFhn{1.03}\textcolor[HTML]{a626a4}{)}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}outline-8 \EFb{:weight} semi-bold\textcolor[HTML]{a626a4}{)}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}outline-9 \EFb{:weight} semi-bold\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

And the same with the title.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{custom-set-faces!}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}org-document-title \EFb{:height} \EFhn{1.2}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

It seems reasonable to have deadlines in the error face when they're passed.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-agenda-deadline-faces}
      \EFhq{'}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFhn{1.0} . error\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFhn{1.0} . org-warning\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFhn{0.5} . org-upcoming-deadline\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFhn{0.0} . org-upcoming-distant-deadline\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

We can then have quote blocks stand out a bit more by making them \emph{italic}.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-fontify-quote-and-verse-blocks} t\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} org-appear
  \EFb{:hook} \textcolor[HTML]{a626a4}{(}\EFc{org-mode} . \EFv{org-appear-mode}\textcolor[HTML]{a626a4}{)}
  \EFb{:config}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{org-appear-autoemphasis} t
        \EFv{org-appear-autosubmarkers} t
        \EFv{org-appear-autolinks} nil\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{run-at-time} nil nil \EFhq{\#'}\EFhs{org-appear--set-elements}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Org files can be rather nice to look at, particularly with some of the
customisations here. This comes at a cost however, expensive font-lock.
Feeling like you're typing through molasses in large files is no fun, but there
is a way I can defer font-locking when typing to make the experience more
responsive.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{locally-defer-font-lock} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \EFd{"Set jit-lock defer and stealth, when buffer is over a certain size."}
  \textcolor[HTML]{a626a4}{(}\EFk{when} \textcolor[HTML]{50a14f}{(}\EFc{>} \textcolor[HTML]{da8548}{(}\EFc{buffer-size}\textcolor[HTML]{da8548}{)} \EFhn{50000}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{setq-local} \EFv{jit-lock-defer-time} \EFhn{0.05}
                \EFv{jit-lock-stealth-time} \EFhn{1}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFc{add-hook} \EFhq{'}\EFv{org-mode-hook} \EFhq{\#'}\EFhs{locally-defer-font-lock}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}
Apparently this causes issues with some people, but I haven't noticed anything
problematic beyond the expected slight delay in some fontification, so until I
do I'll use the above.

\begin{enumerate}
\item Fontifying inline src blocks
\label{sec:org6c28ee5}
Org does lovely things with \texttt{\#+begin\_src} blocks, like using font-lock for
language's major-mode behind the scenes and pulling out the lovely colourful
results. By contrast, inline \texttt{src\_} blocks are somewhat neglected.

I am not the first person to feel this way, thankfully others have \href{https://stackoverflow.com/questions/20309842/how-to-syntax-highlight-for-org-mode-inline-source-code-src-lang/28059832}{taken to
stackexchange} to voice their desire for inline src fontification. I was going to
steal their work, but unfortunately they didn't perform \emph{true} source code
fontification, but simply applied the \texttt{org-code} face to the content.

We can do better than that, and we shall! Using \texttt{org-src-font-lock-fontify-block}
we can apply language-appropriate syntax highlighting. Then, continuing on to
\texttt{\{\{\{results(...)\}\}\}} , it can have the \texttt{org-block} face applied to match, and then
the value-surrounding constructs hidden by mimicking the behaviour of
\texttt{prettify-symbols-mode}.

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-prettify-inline-results} t
  \EFd{"Whether to use (ab)use prettify-symbols-mode on \{\{\{results(...)\}\}\}.
Either t or a cons cell of strings which are used as substitutions
for the start and end of inline results, respectively."}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-fontify-inline-src-blocks-max-length} \EFhn{200}
  \EFd{"Maximum content length of an inline src block that will be fontified."}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-fontify-inline-src-blocks} \textcolor[HTML]{a626a4}{(}limit\textcolor[HTML]{a626a4}{)}
  \EFd{"Try to apply `}\textcolor[HTML]{b751b6}{\textit{org-fontify-inline-src-blocks-1}}\EFd{'."}
  \textcolor[HTML]{a626a4}{(}\EFk{condition-case} nil
      \textcolor[HTML]{50a14f}{(}\EFf{org-fontify-inline-src-blocks-1} limit\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{error} \textcolor[HTML]{da8548}{(}\EFc{message} \EFs{"Org mode fontification error in \%S at \%d"}
                    \textcolor[HTML]{4078f2}{(}\EFc{current-buffer}\textcolor[HTML]{4078f2}{)}
                    \textcolor[HTML]{4078f2}{(}\EFc{line-number-at-pos}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-fontify-inline-src-blocks-1} \textcolor[HTML]{a626a4}{(}limit\textcolor[HTML]{a626a4}{)}
  \EFd{"Fontify inline src\_LANG blocks, from `}\textcolor[HTML]{b751b6}{\textit{point}}\EFd{' up to LIMIT."}
  \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFv{case-fold-search} t\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}initial-point \textcolor[HTML]{4078f2}{(}\EFc{point}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{while} \textcolor[HTML]{da8548}{(}\EFc{re-search-forward} \EFs{"\char92{}\char92{}\_<src\_}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(}}\EFs{[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{ \char92{}t\char92{}n[\{]+}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{[\{[]?"} limit t\textcolor[HTML]{da8548}{)} \EFcd{; }\EFct{stolen from `}\textcolor[HTML]{b751b6}{org-element-inline-src-block-parser}\EFct{'}
      \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}beg \textcolor[HTML]{50a14f}{(}\EFc{match-beginning} \EFhn{0}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
            pt
            \textcolor[HTML]{a626a4}{(}lang-beg \textcolor[HTML]{50a14f}{(}\EFc{match-beginning} \EFhn{1}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
            \textcolor[HTML]{a626a4}{(}lang-end \textcolor[HTML]{50a14f}{(}\EFc{match-end} \EFhn{1}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
        \textcolor[HTML]{4078f2}{(}\EFc{remove-text-properties} beg lang-end \EFhq{'}\textcolor[HTML]{a626a4}{(}face nil\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
        \textcolor[HTML]{4078f2}{(}\EFc{font-lock-append-text-property} lang-beg lang-end \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{org-meta-line}\textcolor[HTML]{4078f2}{)}
        \textcolor[HTML]{4078f2}{(}\EFc{font-lock-append-text-property} beg lang-beg \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{shadow}\textcolor[HTML]{4078f2}{)}
        \textcolor[HTML]{4078f2}{(}\EFc{font-lock-append-text-property} beg lang-end \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{org-block}\textcolor[HTML]{4078f2}{)}
        \textcolor[HTML]{4078f2}{(}\EFk{setq} pt \textcolor[HTML]{a626a4}{(}\EFc{goto-char} lang-end\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
        \EFcd{;; }\EFct{`}\textcolor[HTML]{b751b6}{org-element--parse-paired-brackets}\EFct{' doesn't take a limit, so to}
        \EFcd{;; }\EFct{prevent it searching the entire rest of the buffer we temporarily}
        \EFcd{;; }\EFct{narrow the active region.}
        \textcolor[HTML]{4078f2}{(}\EFk{save-restriction}
          \textcolor[HTML]{a626a4}{(}\EFc{narrow-to-region} beg \textcolor[HTML]{50a14f}{(}\EFc{min} \textcolor[HTML]{da8548}{(}\EFc{point-max}\textcolor[HTML]{da8548}{)} limit \textcolor[HTML]{da8548}{(}\EFc{+} lang-end \EFv{org-fontify-inline-src-blocks-max-length}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
          \textcolor[HTML]{a626a4}{(}\EFk{when} \textcolor[HTML]{50a14f}{(}\EFk{ignore-errors} \textcolor[HTML]{da8548}{(}\EFc{org-element--parse-paired-brackets} ?\char92{}[\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
            \textcolor[HTML]{50a14f}{(}\EFc{remove-text-properties} pt \textcolor[HTML]{da8548}{(}\EFc{point}\textcolor[HTML]{da8548}{)} \EFhq{'}\textcolor[HTML]{da8548}{(}face nil\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
            \textcolor[HTML]{50a14f}{(}\EFc{font-lock-append-text-property} pt \textcolor[HTML]{da8548}{(}\EFc{point}\textcolor[HTML]{da8548}{)} \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{org-block}\textcolor[HTML]{50a14f}{)}
            \textcolor[HTML]{50a14f}{(}\EFk{setq} pt \textcolor[HTML]{da8548}{(}\EFc{point}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
          \textcolor[HTML]{a626a4}{(}\EFk{when} \textcolor[HTML]{50a14f}{(}\EFk{ignore-errors} \textcolor[HTML]{da8548}{(}\EFc{org-element--parse-paired-brackets} ?\char92{}\{\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
            \textcolor[HTML]{50a14f}{(}\EFc{remove-text-properties} pt \textcolor[HTML]{da8548}{(}\EFc{point}\textcolor[HTML]{da8548}{)} \EFhq{'}\textcolor[HTML]{da8548}{(}face nil\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
            \textcolor[HTML]{50a14f}{(}\EFc{font-lock-append-text-property} pt \textcolor[HTML]{da8548}{(}\EFc{1+} pt\textcolor[HTML]{da8548}{)} \EFhq{'}\EFhs{face} \EFhq{'}\textcolor[HTML]{da8548}{(}org-block shadow\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
            \textcolor[HTML]{50a14f}{(}\EFk{unless} \textcolor[HTML]{da8548}{(}\EFc{=} \textcolor[HTML]{4078f2}{(}\EFc{1+} pt\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFc{1-} \textcolor[HTML]{a626a4}{(}\EFc{point}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
              \textcolor[HTML]{da8548}{(}\EFk{if} \EFv{org-src-fontify-natively}
                  \textcolor[HTML]{4078f2}{(}\EFc{org-src-font-lock-fontify-block} \textcolor[HTML]{a626a4}{(}\EFc{buffer-substring-no-properties} lang-beg lang-end\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{1+} pt\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{1-} \textcolor[HTML]{50a14f}{(}\EFc{point}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                \textcolor[HTML]{4078f2}{(}\EFc{font-lock-append-text-property} \textcolor[HTML]{a626a4}{(}\EFc{1+} pt\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{1-} \textcolor[HTML]{50a14f}{(}\EFc{point}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)} \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{org-block}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
            \textcolor[HTML]{50a14f}{(}\EFc{font-lock-append-text-property} \textcolor[HTML]{da8548}{(}\EFc{1-} \textcolor[HTML]{4078f2}{(}\EFc{point}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)} \textcolor[HTML]{da8548}{(}\EFc{point}\textcolor[HTML]{da8548}{)} \EFhq{'}\EFhs{face} \EFhq{'}\textcolor[HTML]{da8548}{(}org-block shadow\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
            \textcolor[HTML]{50a14f}{(}\EFk{setq} pt \textcolor[HTML]{da8548}{(}\EFc{point}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
        \textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFk{and} \EFv{org-prettify-inline-results} \textcolor[HTML]{50a14f}{(}\EFc{re-search-forward} \EFs{"\char92{}\char92{}= \{\{\{results("} limit t\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
          \textcolor[HTML]{a626a4}{(}\EFc{font-lock-append-text-property} pt \textcolor[HTML]{50a14f}{(}\EFc{1+} pt\textcolor[HTML]{50a14f}{)} \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{org-block}\textcolor[HTML]{a626a4}{)}
          \textcolor[HTML]{a626a4}{(}\EFc{goto-char} pt\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{when} \EFv{org-prettify-inline-results}
      \textcolor[HTML]{da8548}{(}\EFc{goto-char} initial-point\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFf{org-fontify-inline-src-results} limit\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-fontify-inline-src-results} \textcolor[HTML]{a626a4}{(}limit\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{while} \textcolor[HTML]{50a14f}{(}\EFc{re-search-forward} \EFs{"\{\{\{results(}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(}}\EFs{.+?}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{)\}\}\}"} limit t\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{remove-list-of-text-properties} \textcolor[HTML]{da8548}{(}\EFc{match-beginning} \EFhn{0}\textcolor[HTML]{da8548}{)} \textcolor[HTML]{da8548}{(}\EFc{point}\textcolor[HTML]{da8548}{)}
                                    \EFhq{'}\textcolor[HTML]{da8548}{(}composition
                                      prettify-symbols-start
                                      prettify-symbols-end\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{font-lock-append-text-property} \textcolor[HTML]{da8548}{(}\EFc{match-beginning} \EFhn{0}\textcolor[HTML]{da8548}{)} \textcolor[HTML]{da8548}{(}\EFc{match-end} \EFhn{0}\textcolor[HTML]{da8548}{)} \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{org-block}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}start \textcolor[HTML]{a626a4}{(}\EFc{match-beginning} \EFhn{0}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}end \textcolor[HTML]{a626a4}{(}\EFc{match-beginning} \EFhn{1}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFk{with-silent-modifications}
        \textcolor[HTML]{4078f2}{(}\EFc{compose-region} start end \textcolor[HTML]{a626a4}{(}\EFk{if} \textcolor[HTML]{50a14f}{(}\EFc{eq} \EFv{org-prettify-inline-results} t\textcolor[HTML]{50a14f}{)} \EFs{"âŸ¨"} \textcolor[HTML]{50a14f}{(}\EFc{car} \EFv{org-prettify-inline-results}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
        \textcolor[HTML]{4078f2}{(}\EFc{add-text-properties} start end \EFhq{`}\textcolor[HTML]{a626a4}{(}prettify-symbols-start ,start prettify-symbols-end ,end\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}start \textcolor[HTML]{a626a4}{(}\EFc{match-end} \EFhn{1}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}end \textcolor[HTML]{a626a4}{(}\EFc{point}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFk{with-silent-modifications}
        \textcolor[HTML]{4078f2}{(}\EFc{compose-region} start end \textcolor[HTML]{a626a4}{(}\EFk{if} \textcolor[HTML]{50a14f}{(}\EFc{eq} \EFv{org-prettify-inline-results} t\textcolor[HTML]{50a14f}{)} \EFs{"âŸ©"} \textcolor[HTML]{50a14f}{(}\EFc{cdr} \EFv{org-prettify-inline-results}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
        \textcolor[HTML]{4078f2}{(}\EFc{add-text-properties} start end \EFhq{`}\textcolor[HTML]{a626a4}{(}prettify-symbols-start ,start prettify-symbols-end ,end\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-fontify-inline-src-blocks-enable} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \EFd{"Add inline src fontification to font-lock in Org.
Must be run as part of `}\textcolor[HTML]{b751b6}{\textit{org-font-lock-set-keywords-hook}}\EFd{'."}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{org-font-lock-extra-keywords}
        \textcolor[HTML]{50a14f}{(}\EFc{append} \EFv{org-font-lock-extra-keywords} \EFhq{'}\textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFf{org-fontify-inline-src-blocks}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFc{add-hook} \EFhq{'}\EFv{org-font-lock-set-keywords-hook} \EFhq{\#'}\EFhs{org-fontify-inline-src-blocks-enable}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}
\end{enumerate}

\subsection{Symbols}
\label{sec:org47765c3}
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;;}\EFct{make bullets look better}
\textcolor[HTML]{4078f2}{(}\EFk{after!} org-superstar
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{org-superstar-headline-bullets-list} \EFhq{'}\textcolor[HTML]{50a14f}{(}\EFs{"â—‰"} \EFs{"â—‹"} \EFs{"âœ¸"} \EFs{"âœ¿"} \EFs{"âœ¤"} \EFs{"âœœ"} \EFs{"â—†"} \EFs{"â–¶"}\textcolor[HTML]{50a14f}{)}
        \EFv{org-superstar-prettify-item-bullets} t \textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-ellipsis} \EFs{" â–¾ "}
      \EFv{org-hide-leading-stars} t
      \EFv{org-priority-highest} ?A
      \EFv{org-priority-lowest} ?E
      \EFv{org-priority-faces}
      \EFhq{'}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}?A . \EFhq{'}\EFhs{all-the-icons-red}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}?B . \EFhq{'}\EFhs{all-the-icons-orange}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}?C . \EFhq{'}\EFhs{all-the-icons-yellow}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}?D . \EFhq{'}\EFhs{all-the-icons-green}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}?E . \EFhq{'}\EFhs{all-the-icons-blue}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\EFcd{;;}\EFct{lets replace some unicode chars}
\textcolor[HTML]{4078f2}{(}\EFk{appendq!} \EFv{+ligatures-extra-symbols}
          \EFhq{`}\textcolor[HTML]{a626a4}{(}\EFb{:checkbox}      \EFs{"â˜"}
            \EFb{:pending}       \EFs{"â—¼"}
            \EFb{:checkedbox}    \EFs{"â˜‘"}
            \EFb{:list\_property} \EFs{"âˆ·"}
            \EFb{:em\_dash}       \EFs{"â€”"}
            \EFb{:ellipses}      \EFs{"â€¦"}
            \EFb{:arrow\_right}   \EFs{"â†’"}
            \EFb{:arrow\_left}    \EFs{"â†"}
            \EFb{:property}      \EFs{"â˜¸"}
            \EFb{:options}       \EFs{"âŒ¥"}
            \EFb{:startup}       \EFs{"â»"}
            \EFb{:html\_head}     \EFs{"ðŸ…·"}
            \EFb{:html}          \EFs{"ðŸ…—"}
            \EFb{:latex\_class}   \EFs{"ðŸ„»"}
            \EFb{:latex\_header}  \EFs{"ðŸ…»"}
            \EFb{:beamer\_header} \EFs{"ðŸ…‘"}
            \EFb{:latex}         \EFs{"ðŸ…›"}
            \EFb{:attr\_latex}    \EFs{"ðŸ„›"}
            \EFb{:attr\_html}     \EFs{"ðŸ„—"}
            \EFb{:attr\_org}      \EFs{"â’ª"}
            \EFb{:begin\_quote}   \EFs{"â"}
            \EFb{:end\_quote}     \EFs{"âž"}
            \EFb{:caption}       \EFs{"â˜°"}
            \EFb{:header}        \EFs{"â€º"}
            \EFb{:begin\_export}  \EFs{"â©"}
            \EFb{:end\_export}    \EFs{"âª"}
            \EFb{:properties}    \EFs{"âš™"}
            \EFb{:end}           \EFs{"âˆŽ"}
            \EFb{:priority\_a}   ,\textcolor[HTML]{50a14f}{(}\EFc{propertize} \EFs{"âš‘"} \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{all-the-icons-red}\textcolor[HTML]{50a14f}{)}
            \EFb{:priority\_b}   ,\textcolor[HTML]{50a14f}{(}\EFc{propertize} \EFs{"â¬†"} \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{all-the-icons-orange}\textcolor[HTML]{50a14f}{)}
            \EFb{:priority\_c}   ,\textcolor[HTML]{50a14f}{(}\EFc{propertize} \EFs{"â– "} \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{all-the-icons-yellow}\textcolor[HTML]{50a14f}{)}
            \EFb{:priority\_d}   ,\textcolor[HTML]{50a14f}{(}\EFc{propertize} \EFs{"â¬‡"} \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{all-the-icons-green}\textcolor[HTML]{50a14f}{)}
            \EFb{:priority\_e}   ,\textcolor[HTML]{50a14f}{(}\EFc{propertize} \EFs{"â“"} \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{all-the-icons-blue}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFf{set-ligatures!} \EFhq{'}\EFhs{org-mode}
  \EFb{:merge} t
  \EFb{:checkbox}      \EFs{"[ ]"}
  \EFb{:pending}       \EFs{"[-]"}
  \EFb{:checkedbox}    \EFs{"[X]"}
  \EFb{:list\_property} \EFs{"::"}
  \EFb{:em\_dash}       \EFs{"---"}
  \EFb{:ellipsis}      \EFs{"..."}
  \EFb{:arrow\_right}   \EFs{"->"}
  \EFb{:arrow\_left}    \EFs{"<-"}
  \EFb{:title}         \EFs{"\#+title:"}
  \EFb{:subtitle}      \EFs{"\#+subtitle:"}
  \EFb{:author}        \EFs{"\#+author:"}
  \EFb{:date}          \EFs{"\#+date:"}
  \EFb{:property}      \EFs{"\#+property:"}
  \EFb{:options}       \EFs{"\#+options:"}
  \EFb{:startup}       \EFs{"\#+startup:"}
  \EFb{:macro}         \EFs{"\#+macro:"}
  \EFb{:html\_head}     \EFs{"\#+html\_head:"}
  \EFb{:html}          \EFs{"\#+html:"}
  \EFb{:latex\_class}   \EFs{"\#+latex\_class:"}
  \EFb{:latex\_header}  \EFs{"\#+latex\_header:"}
  \EFb{:beamer\_header} \EFs{"\#+beamer\_header:"}
  \EFb{:latex}         \EFs{"\#+latex:"}
  \EFb{:attr\_latex}    \EFs{"\#+attr\_latex:"}
  \EFb{:attr\_html}     \EFs{"\#+attr\_html:"}
  \EFb{:attr\_org}      \EFs{"\#+attr\_org:"}
  \EFb{:begin\_quote}   \EFs{"\#+begin\_quote"}
  \EFb{:end\_quote}     \EFs{"\#+end\_quote"}
  \EFb{:caption}       \EFs{"\#+caption:"}
  \EFb{:header}        \EFs{"\#+header:"}
  \EFb{:begin\_export}  \EFs{"\#+begin\_export"}
  \EFb{:end\_export}    \EFs{"\#+end\_export"}
  \EFb{:results}       \EFs{"\#+RESULTS:"}
  \EFb{:property}      \EFs{":PROPERTIES:"}
  \EFb{:end}           \EFs{":END:"}
  \EFb{:priority\_a}    \EFs{"[\#A]"}
  \EFb{:priority\_b}    \EFs{"[\#B]"}
  \EFb{:priority\_c}    \EFs{"[\#C]"}
  \EFb{:priority\_d}    \EFs{"[\#D]"}
  \EFb{:priority\_e}    \EFs{"[\#E]"}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFc{plist-put} \EFv{+ligatures-extra-symbols} \EFb{:name} \EFs{"â"}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Lets also add a function that makes it easy to convert from upper to lowercase
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-syntax-convert-keyword-case-to-lower} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \EFd{"Convert all \#+KEYWORDS to \#+keywords."}
  \textcolor[HTML]{a626a4}{(}\EFk{interactive}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{save-excursion}
    \textcolor[HTML]{50a14f}{(}\EFc{goto-char} \textcolor[HTML]{da8548}{(}\EFc{point-min}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFc{count} \EFhn{0}\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}\EFv{case-fold-search} nil\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFk{while} \textcolor[HTML]{4078f2}{(}\EFc{re-search-forward} \EFs{"\char94{}[ \char92{}t]*\#\char92{}\char92{}+[A-Z\_]+"} nil t\textcolor[HTML]{4078f2}{)}
        \textcolor[HTML]{4078f2}{(}\EFk{unless} \textcolor[HTML]{a626a4}{(}\EFf{s-matches-p} \EFs{"RESULTS"} \textcolor[HTML]{50a14f}{(}\EFc{match-string} \EFhn{0}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
          \textcolor[HTML]{a626a4}{(}\EFc{replace-match} \textcolor[HTML]{50a14f}{(}\EFc{downcase} \textcolor[HTML]{da8548}{(}\EFc{match-string} \EFhn{0}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)} t\textcolor[HTML]{a626a4}{)}
          \textcolor[HTML]{a626a4}{(}\EFk{setq} count \textcolor[HTML]{50a14f}{(}\EFc{1+} count\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{message} \EFs{"Replaced \%d occurances"} count\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Keycast}
\label{sec:org150d589}
Its nice for demonstrations
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} keycast
  \EFb{:commands} \EFv{keycast-mode}
  \EFb{:config}
  \textcolor[HTML]{a626a4}{(}\EFk{define-minor-mode} \EFv{keycast-mode}
    \EFd{"Show current command and its key binding in the mode line."}
    \EFb{:global} t
    \textcolor[HTML]{50a14f}{(}\EFk{if} \EFv{keycast-mode}
        \textcolor[HTML]{da8548}{(}\EFk{progn}
          \textcolor[HTML]{4078f2}{(}\EFc{add-hook} \EFhq{'}\EFv{pre-command-hook} \EFhq{'}\EFhs{keycast--update} t\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}\EFc{add-to-list} \EFhq{'}\EFv{global-mode-string} \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{""} mode-line-keycast \EFs{" "}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{remove-hook} \EFhq{'}\EFv{pre-command-hook} \EFhq{'}\EFhs{keycast--update}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFk{setq} \EFv{global-mode-string} \textcolor[HTML]{4078f2}{(}\EFc{remove} \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{""} mode-line-keycast \EFs{" "}\textcolor[HTML]{a626a4}{)} \EFv{global-mode-string}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{custom-set-faces!}
    \EFhq{'}\textcolor[HTML]{50a14f}{(}keycast-command \EFb{:inherit} doom-modeline-debug
                      \EFb{:height} \EFhn{1.0}\textcolor[HTML]{50a14f}{)}
    \EFhq{'}\textcolor[HTML]{50a14f}{(}keycast-key \EFb{:inherit} custom-modified
                  \EFb{:height} \EFhn{1.0}
                  \EFb{:weight} bold\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Transparency}
\label{sec:orga58eab9}
I'm not too big of a fan of transparency, but some people like it. You can use
this little function to toggle it now
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42} \textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{toggle-transparency} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
   \textcolor[HTML]{a626a4}{(}\EFk{interactive}\textcolor[HTML]{a626a4}{)}
   \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}alpha \textcolor[HTML]{4078f2}{(}\EFc{frame-parameter} nil \EFhq{'}\EFhs{alpha}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
     \textcolor[HTML]{50a14f}{(}\EFc{set-frame-parameter}
      nil \EFhq{'}\EFhs{alpha}
      \textcolor[HTML]{da8548}{(}\EFk{if} \textcolor[HTML]{4078f2}{(}\EFc{eql} \textcolor[HTML]{a626a4}{(}\EFk{cond} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFc{numberp} alpha\textcolor[HTML]{da8548}{)} alpha\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFc{numberp} \textcolor[HTML]{4078f2}{(}\EFc{cdr} alpha\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)} \textcolor[HTML]{da8548}{(}\EFc{cdr} alpha\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                     \EFcd{;; }\EFct{Also handle undocumented (<active> <inactive>) form.}
                     \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFc{numberp} \textcolor[HTML]{4078f2}{(}\EFc{cadr} alpha\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)} \textcolor[HTML]{da8548}{(}\EFc{cadr} alpha\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
               \EFhn{100}\textcolor[HTML]{4078f2}{)}
          \EFhq{'}\textcolor[HTML]{4078f2}{(}\EFhn{100} . \EFhn{85}\textcolor[HTML]{4078f2}{)} \EFhq{'}\textcolor[HTML]{4078f2}{(}\EFhn{100} . \EFhn{100}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
 \textcolor[HTML]{4078f2}{(}\EFc{global-set-key} \textcolor[HTML]{a626a4}{(}\EFc{kbd} \EFs{"C-c t"}\textcolor[HTML]{a626a4}{)} \EFhq{'}\EFhs{toggle-transparency}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Screenshots}
\label{sec:org1ecd317}
Make it easy to take screenshots
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} screenshot
  \EFb{:defer} t
  \EFb{:config} \textcolor[HTML]{a626a4}{(}\EFk{setq} screenshot-upload-fn \EFs{"upload \$s 2>/dev/null"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\section{Org}
\label{sec:org5a87c6a}
\subsection{Org-Mode}
\label{sec:org1695371}
Org mode is the best writing format, no contest. The defaults are more terminal-oriented, so lets make it look a little better
I like a little padding on my org blocks, just a millimeter or two on the top and bottom should do
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;;}\EFct{use image previews}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-startup-with-inline-images} t\textcolor[HTML]{4078f2}{)}            \EFcd{;}\EFct{inline images in org mode}

\EFcd{;;}\EFct{add padding in org}
\textcolor[HTML]{4078f2}{(}\EFk{use-package!} org-padding\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFc{add-hook} \EFhq{'}\EFv{org-mode-hook} \EFhq{\#'}\EFv{org-padding-mode}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-padding-block-begin-line-padding} \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFhn{1.15} . \EFhn{0.15}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-padding-block-end-line-padding} \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFhn{1.15} . \EFhn{0.15}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

 \textcolor[HTML]{4078f2}{(}\EFk{defadvice!} shut-up-org-problematic-hooks \textcolor[HTML]{a626a4}{(}orig-fn \EFt{\&rest} args\textcolor[HTML]{a626a4}{)}
  \EFb{:around} \EFhq{\#'}\EFv{org-fancy-priorities-mode}
  \EFb{:around} \EFhq{\#'}\EFv{org-superstar-mode}
  \textcolor[HTML]{a626a4}{(}\EFk{ignore-errors} \textcolor[HTML]{50a14f}{(}\EFc{apply} orig-fn args\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Lets add org pretty table as well
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} org-pretty-table
  \EFb{:commands} \textcolor[HTML]{a626a4}{(}\EFf{org-pretty-table-mode} \EFv{global-org-pretty-table-mode}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Sadly I can't always work in org, but I can import stuff into it!
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} org-pandoc-import
  \EFb{:after} org\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

I prefer /org as my directory. Lets change some other defaults too
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-directory} \EFs{"\char126{}/org"}                      \EFcd{; }\EFct{let's put files here}
      \EFv{org-use-property-inheritance} t              \EFcd{; }\EFct{it's convenient to have properties inherited}
      \EFv{org-log-done} \EFhq{'}\EFhs{time}                          \EFcd{; }\EFct{having the time a item is done sounds convenient}
      \EFv{org-list-allow-alphabetical} t               \EFcd{; }\EFct{have a. A. a) A) list bullets}
      \EFv{org-export-in-background} t                  \EFcd{; }\EFct{run export processes in external emacs process}
      \EFv{org-catch-invisible-edits} \EFhq{'}\EFhs{smart}\textcolor[HTML]{4078f2}{)}            \EFcd{; }\EFct{try not to accidently do weird stuff in invisible regions}

\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-babel-default-header-args}
      \EFhq{'}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFb{:session} . \EFs{"none"}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFb{:results} . \EFs{"replace"}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFb{:exports} . \EFs{"code"}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFb{:cache} . \EFs{"no"}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFb{:noweb} . \EFs{"no"}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFb{:hlines} . \EFs{"no"}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFb{:tangle} . \EFs{"no"}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFb{:comments} . \EFs{"link"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFc{remove-hook} \EFhq{'}\EFv{text-mode-hook} \EFhq{\#'}\EFv{visual-line-mode}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFc{add-hook} \EFhq{'}\EFv{text-mode-hook} \EFhq{\#'}\EFhs{auto-fill-mode}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{map!} \EFb{:map} \EFv{evil-org-mode-map}
      \EFb{:after} evil-org
      \EFb{:n} \EFs{"g <up>"} \EFhq{\#'}\EFhs{org-backward-heading-same-level}
      \EFb{:n} \EFs{"g <down>"} \EFhq{\#'}\EFhs{org-forward-heading-same-level}
      \EFb{:n} \EFs{"g <left>"} \EFhq{\#'}\EFhs{org-up-element}
      \EFb{:n} \EFs{"g <right>"} \EFhq{\#'}\EFhs{org-down-element}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-list-demote-modify-bullet} \EFhq{'}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFs{"+"} . \EFs{"-"}\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFs{"-"} . \EFs{"+"}\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFs{"*"} . \EFs{"+"}\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFs{"1."} . \EFs{"a."}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Lets add some spellcheck
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFc{add-hook} \EFhq{'}\EFv{org-mode-hook} \EFhq{'}\EFhs{turn-on-flyspell}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

org-ol-tree is nice for viewing the structure of an org file
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} org-ol-tree
  \EFb{:commands} org-ol-tree\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{map!} \EFb{:map} \EFv{org-mode-map}
      \EFb{:after} org
      \EFb{:localleader}
      \EFb{:desc} \EFs{"Outline"} \EFs{"O"} \EFhq{\#'}\EFhs{org-ol-tree}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsubsection{HTML}
\label{sec:orgffb3d3d}
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} ox-gfm
  \EFb{:after} org\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

:header-args:emacs-lisp: :noweb-ref ox-html-conf
For some reason this only works if you have org first
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} org
  \textcolor[HTML]{a626a4}{(}\EFk{define-minor-mode} \EFv{org-fancy-html-export-mode}
  \EFd{"Toggle my fabulous org export tweaks. While this mode itself does a little bit,
the vast majority of the change in behaviour comes from switch statements in:
 - `}\textcolor[HTML]{b751b6}{\textit{org-html-template-fancier}}\EFd{'
 - `}\textcolor[HTML]{b751b6}{\textit{org-html--build-meta-info-extended}}\EFd{'
 - `}\textcolor[HTML]{b751b6}{\textit{org-html-src-block-collapsable}}\EFd{'
 - `}\textcolor[HTML]{b751b6}{\textit{org-html-block-collapsable}}\EFd{'
 - `}\textcolor[HTML]{b751b6}{\textit{org-html-table-wrapped}}\EFd{'
 - `}\textcolor[HTML]{b751b6}{\textit{org-html--format-toc-headline-colapseable}}\EFd{'
 - `}\textcolor[HTML]{b751b6}{\textit{org-html--toc-text-stripped-leaves}}\EFd{'
 - `}\textcolor[HTML]{b751b6}{\textit{org-export-html-headline-anchor}}\EFd{'"}
  \EFb{:global} t
  \EFb{:init-value} t
  \textcolor[HTML]{50a14f}{(}\EFk{if} \EFv{org-fancy-html-export-mode}
      \textcolor[HTML]{da8548}{(}\EFk{setq} \EFv{org-html-style-default} org-html-style-fancy
            \EFv{org-html-meta-tags} \EFhq{\#'}\EFhs{org-html-meta-tags-fancy}
            \EFv{org-html-checkbox-type} \EFhq{'}\EFhs{html-span}\textcolor[HTML]{da8548}{)}
    \textcolor[HTML]{da8548}{(}\EFk{setq} \EFv{org-html-style-default} org-html-style-plain
          \EFv{org-html-meta-tags} \EFhq{\#'}\EFhs{org-html-meta-tags-default}
          \EFv{org-html-checkbox-type} \EFhq{'}\EFhs{html}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{defadvice!} org-html-template-fancier \textcolor[HTML]{50a14f}{(}orig-fn contents info\textcolor[HTML]{50a14f}{)}
  \EFd{"Return complete document string after HTML conversion.
CONTENTS is the transcoded contents string.  INFO is a plist
holding export options. Adds a few extra things to the body
compared to the default implementation."}
  \EFb{:around} \EFhq{\#'}\EFhs{org-html-template}
  \textcolor[HTML]{50a14f}{(}\EFk{if} \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{not} \EFv{org-fancy-html-export-mode}\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFk{bound-and-true-p} org-msg-export-in-progress\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{funcall} orig-fn contents info\textcolor[HTML]{da8548}{)}
    \textcolor[HTML]{da8548}{(}\EFc{concat}
     \textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFk{and} \textcolor[HTML]{50a14f}{(}\EFc{not} \textcolor[HTML]{da8548}{(}\EFc{org-html-html5-p} info\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFc{org-html-xhtml-p} info\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
       \textcolor[HTML]{a626a4}{(}\EFk{let*} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}xml-declaration \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:html-xml-declaration}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
              \textcolor[HTML]{da8548}{(}decl \textcolor[HTML]{4078f2}{(}\EFk{or} \textcolor[HTML]{a626a4}{(}\EFk{and} \textcolor[HTML]{50a14f}{(}\EFc{stringp} xml-declaration\textcolor[HTML]{50a14f}{)} xml-declaration\textcolor[HTML]{a626a4}{)}
                        \textcolor[HTML]{a626a4}{(}\EFc{cdr} \textcolor[HTML]{50a14f}{(}\EFc{assoc} \textcolor[HTML]{da8548}{(}\EFc{plist-get} info \EFb{:html-extension}\textcolor[HTML]{da8548}{)}
                                    xml-declaration\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                        \textcolor[HTML]{a626a4}{(}\EFc{cdr} \textcolor[HTML]{50a14f}{(}\EFc{assoc} \EFs{"html"} xml-declaration\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                        \EFs{""}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
         \textcolor[HTML]{50a14f}{(}\EFk{when} \textcolor[HTML]{da8548}{(}\EFc{not} \textcolor[HTML]{4078f2}{(}\EFk{or} \textcolor[HTML]{a626a4}{(}\EFc{not} decl\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{string=} \EFs{""} decl\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
           \textcolor[HTML]{da8548}{(}\EFc{format} \EFs{"\%s\char92{}n"}
                   \textcolor[HTML]{4078f2}{(}\EFc{format} decl
                           \textcolor[HTML]{a626a4}{(}\EFk{or} \textcolor[HTML]{50a14f}{(}\EFk{and} \EFv{org-html-coding-system}
                                    \textcolor[HTML]{da8548}{(}\EFc{fboundp} \EFhq{'}\EFhs{coding-system-get}\textcolor[HTML]{da8548}{)}
                                    \textcolor[HTML]{da8548}{(}\EFc{coding-system-get} \EFv{org-html-coding-system} \EFhq{'}\EFhs{mime-charset}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                               \EFs{"iso-8859-1"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
     \textcolor[HTML]{4078f2}{(}\EFv{org-html-doctype} info\textcolor[HTML]{4078f2}{)}
     \EFs{"\char92{}n"}
     \textcolor[HTML]{4078f2}{(}\EFc{concat} \EFs{"<html"}
             \textcolor[HTML]{a626a4}{(}\EFk{cond} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFc{org-html-xhtml-p} info\textcolor[HTML]{da8548}{)}
                    \textcolor[HTML]{da8548}{(}\EFc{format}
                     \EFs{" xmlns=\char92{}"http://www.w3.org/1999/xhtml\char92{}" lang=\char92{}"\%s\char92{}" xml:lang=\char92{}"\%s\char92{}""}
                     \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:language}\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:language}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                   \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFc{org-html-html5-p} info\textcolor[HTML]{da8548}{)}
                    \textcolor[HTML]{da8548}{(}\EFc{format} \EFs{" lang=\char92{}"\%s\char92{}""} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:language}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
             \EFs{">\char92{}n"}\textcolor[HTML]{4078f2}{)}
     \EFs{"<head>\char92{}n"}
     \textcolor[HTML]{4078f2}{(}\EFc{org-html--build-meta-info} info\textcolor[HTML]{4078f2}{)}
     \textcolor[HTML]{4078f2}{(}\EFc{org-html--build-head} info\textcolor[HTML]{4078f2}{)}
     \textcolor[HTML]{4078f2}{(}\EFc{org-html--build-mathjax-config} info\textcolor[HTML]{4078f2}{)}
     \EFs{"</head>\char92{}n"}
     \EFs{"<body>\char92{}n<input type='checkbox' id='theme-switch'><div id='page'><label id='switch-label' for='theme-switch'></label>"}
     \textcolor[HTML]{4078f2}{(}\EFk{let} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}link-up \textcolor[HTML]{da8548}{(}\EFf{org-trim} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:html-link-up}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
           \textcolor[HTML]{50a14f}{(}link-home \textcolor[HTML]{da8548}{(}\EFf{org-trim} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:html-link-home}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
       \textcolor[HTML]{a626a4}{(}\EFk{unless} \textcolor[HTML]{50a14f}{(}\EFk{and} \textcolor[HTML]{da8548}{(}\EFc{string=} link-up \EFs{""}\textcolor[HTML]{da8548}{)} \textcolor[HTML]{da8548}{(}\EFc{string=} link-home \EFs{""}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
         \textcolor[HTML]{50a14f}{(}\EFc{format} \textcolor[HTML]{da8548}{(}\EFc{plist-get} info \EFb{:html-home/up-format}\textcolor[HTML]{da8548}{)}
                 \textcolor[HTML]{da8548}{(}\EFk{or} link-up link-home\textcolor[HTML]{da8548}{)}
                 \textcolor[HTML]{da8548}{(}\EFk{or} link-home link-up\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
     \EFcd{;; }\EFct{Preamble.}
     \textcolor[HTML]{4078f2}{(}\EFc{org-html--build-pre/postamble} \EFhq{'}\EFhs{preamble} info\textcolor[HTML]{4078f2}{)}
     \EFcd{;; }\EFct{Document contents.}
     \textcolor[HTML]{4078f2}{(}\EFk{let} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}div \textcolor[HTML]{da8548}{(}\EFc{assq} \EFhq{'}\EFhs{content} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:html-divs}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
       \textcolor[HTML]{a626a4}{(}\EFc{format} \EFs{"<\%s id=\char92{}"\%s\char92{}">\char92{}n"} \textcolor[HTML]{50a14f}{(}\EFc{nth} \EFhn{1} div\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFc{nth} \EFhn{2} div\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
     \EFcd{;; }\EFct{Document title.}
     \textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFc{plist-get} info \EFb{:with-title}\textcolor[HTML]{a626a4}{)}
       \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}title \textcolor[HTML]{4078f2}{(}\EFk{and} \textcolor[HTML]{a626a4}{(}\EFc{plist-get} info \EFb{:with-title}\textcolor[HTML]{a626a4}{)}
                         \textcolor[HTML]{a626a4}{(}\EFc{plist-get} info \EFb{:title}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
             \textcolor[HTML]{da8548}{(}subtitle \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:subtitle}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
             \textcolor[HTML]{da8548}{(}html5-fancy \textcolor[HTML]{4078f2}{(}\EFc{org-html--html5-fancy-p} info\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
         \textcolor[HTML]{50a14f}{(}\EFk{when} title
           \textcolor[HTML]{da8548}{(}\EFc{format}
            \textcolor[HTML]{4078f2}{(}\EFk{if} html5-fancy
                \EFs{"<header class=\char92{}"page-header\char92{}">\%s\char92{}n<h1 class=\char92{}"title\char92{}">\%s</h1>\char92{}n\%s</header>"}
              \EFs{"<h1 class=\char92{}"title\char92{}">\%s\%s</h1>\char92{}n"}\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFk{if} \textcolor[HTML]{a626a4}{(}\EFk{or} \textcolor[HTML]{50a14f}{(}\EFc{plist-get} info \EFb{:with-date}\textcolor[HTML]{50a14f}{)}
                    \textcolor[HTML]{50a14f}{(}\EFc{plist-get} info \EFb{:with-author}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                \textcolor[HTML]{a626a4}{(}\EFc{concat} \EFs{"<div class=\char92{}"page-meta\char92{}">"}
                        \textcolor[HTML]{50a14f}{(}\EFk{when} \textcolor[HTML]{da8548}{(}\EFc{plist-get} info \EFb{:with-date}\textcolor[HTML]{da8548}{)}
                          \textcolor[HTML]{da8548}{(}\EFc{org-export-data} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:date}\textcolor[HTML]{4078f2}{)} info\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                        \textcolor[HTML]{50a14f}{(}\EFk{when} \textcolor[HTML]{da8548}{(}\EFk{and} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:with-date}\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:with-author}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)} \EFs{", "}\textcolor[HTML]{50a14f}{)}
                        \textcolor[HTML]{50a14f}{(}\EFk{when} \textcolor[HTML]{da8548}{(}\EFc{plist-get} info \EFb{:with-author}\textcolor[HTML]{da8548}{)}
                          \textcolor[HTML]{da8548}{(}\EFc{org-export-data} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:author}\textcolor[HTML]{4078f2}{)} info\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                        \EFs{"</div>\char92{}n"}\textcolor[HTML]{a626a4}{)}
              \EFs{""}\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFc{org-export-data} title info\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFk{if} subtitle
                \textcolor[HTML]{a626a4}{(}\EFc{format}
                 \textcolor[HTML]{50a14f}{(}\EFk{if} html5-fancy
                     \EFs{"<p class=\char92{}"subtitle\char92{}" role=\char92{}"doc-subtitle\char92{}">\%s</p>\char92{}n"}
                   \textcolor[HTML]{da8548}{(}\EFc{concat} \EFs{"\char92{}n"} \textcolor[HTML]{4078f2}{(}\EFc{org-html-close-tag} \EFs{"br"} nil info\textcolor[HTML]{4078f2}{)} \EFs{"\char92{}n"}
                           \EFs{"<span class=\char92{}"subtitle\char92{}">\%s</span>\char92{}n"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                 \textcolor[HTML]{50a14f}{(}\EFc{org-export-data} subtitle info\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
              \EFs{""}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
     contents
     \textcolor[HTML]{4078f2}{(}\EFc{format} \EFs{"</\%s>\char92{}n"} \textcolor[HTML]{a626a4}{(}\EFc{nth} \EFhn{1} \textcolor[HTML]{50a14f}{(}\EFc{assq} \EFhq{'}\EFhs{content} \textcolor[HTML]{da8548}{(}\EFc{plist-get} info \EFb{:html-divs}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
     \EFcd{;; }\EFct{Postamble.}
     \textcolor[HTML]{4078f2}{(}\EFc{org-html--build-pre/postamble} \EFhq{'}\EFhs{postamble} info\textcolor[HTML]{4078f2}{)}
     \EFcd{;; }\EFct{Possibly use the Klipse library live code blocks.}
     \textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFc{plist-get} info \EFb{:html-klipsify-src}\textcolor[HTML]{a626a4}{)}
       \textcolor[HTML]{a626a4}{(}\EFc{concat} \EFs{"<script>"} \textcolor[HTML]{50a14f}{(}\EFc{plist-get} info \EFb{:html-klipse-selection-script}\textcolor[HTML]{50a14f}{)}
               \EFs{"</script><script src=\char92{}""}
               \EFv{org-html-klipse-js}
               \EFs{"\char92{}"></script><link rel=\char92{}"stylesheet\char92{}" type=\char92{}"text/css\char92{}" href=\char92{}""}
               \EFv{org-html-klipse-css} \EFs{"\char92{}"/>"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
     \EFcd{;; }\EFct{Closing document.}
     \EFs{"</div>\char92{}n</body>\char92{}n</html>"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{defadvice!} org-html-toc-linked \textcolor[HTML]{50a14f}{(}depth info \EFt{\&optional} scope\textcolor[HTML]{50a14f}{)}
  \EFd{"Build a table of contents.

Just like `}\textcolor[HTML]{b751b6}{\textit{org-html-toc}}\EFd{', except the header is a link to \char92{}"\#\char92{}".

DEPTH is an integer specifying the depth of the table.  INFO is
a plist used as a communication channel.  Optional argument SCOPE
is an element defining the scope of the table.  Return the table
of contents as a string, or nil if it is empty."}
  \EFb{:override} \EFhq{\#'}\EFhs{org-html-toc}
  \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}toc-entries
         \textcolor[HTML]{a626a4}{(}\EFc{mapcar} \textcolor[HTML]{50a14f}{(}\EFk{lambda} \textcolor[HTML]{da8548}{(}headline\textcolor[HTML]{da8548}{)}
                   \textcolor[HTML]{da8548}{(}\EFc{cons} \textcolor[HTML]{4078f2}{(}\EFc{org-html--format-toc-headline} headline info\textcolor[HTML]{4078f2}{)}
                         \textcolor[HTML]{4078f2}{(}\EFc{org-export-get-relative-level} headline info\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                 \textcolor[HTML]{50a14f}{(}\EFc{org-export-collect-headlines} info depth scope\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
    \textcolor[HTML]{da8548}{(}\EFk{when} toc-entries
      \textcolor[HTML]{4078f2}{(}\EFk{let} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}toc \textcolor[HTML]{da8548}{(}\EFc{concat} \EFs{"<div id=\char92{}"text-table-of-contents\char92{}">"}
                         \textcolor[HTML]{4078f2}{(}\EFc{org-html--toc-text} toc-entries\textcolor[HTML]{4078f2}{)}
                         \EFs{"</div>\char92{}n"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
        \textcolor[HTML]{a626a4}{(}\EFk{if} scope toc
          \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}outer-tag \textcolor[HTML]{a626a4}{(}\EFk{if} \textcolor[HTML]{50a14f}{(}\EFc{org-html--html5-fancy-p} info\textcolor[HTML]{50a14f}{)}
                               \EFs{"nav"}
                             \EFs{"div"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{concat} \textcolor[HTML]{4078f2}{(}\EFc{format} \EFs{"<\%s id=\char92{}"table-of-contents\char92{}">\char92{}n"} outer-tag\textcolor[HTML]{4078f2}{)}
                    \textcolor[HTML]{4078f2}{(}\EFk{let} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFc{top-level} \textcolor[HTML]{da8548}{(}\EFc{plist-get} info \EFb{:html-toplevel-hlevel}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                      \textcolor[HTML]{a626a4}{(}\EFc{format} \EFs{"<h\%d><a href=\char92{}"\#\char92{}" style=\char92{}"color:inherit; text-decoration: none;\char92{}">\%s</a></h\%d>\char92{}n"}
                              top-level
                              \textcolor[HTML]{50a14f}{(}\EFc{org-html--translate} \EFs{"Table of Contents"} info\textcolor[HTML]{50a14f}{)}
                              top-level\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                    toc
                    \textcolor[HTML]{4078f2}{(}\EFc{format} \EFs{"</\%s>\char92{}n"} outer-tag\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

 \textcolor[HTML]{a626a4}{(}\EFk{defvar} \EFv{org-html-meta-tags-opengraph-image}
  \EFhq{'}\textcolor[HTML]{50a14f}{(}\EFb{:image} \EFs{"https://tecosaur.com/resources/org/nib.png"}
    \EFb{:type} \EFs{"image/png"}
    \EFb{:width} \EFs{"200"}
    \EFb{:height} \EFs{"200"}
    \EFb{:alt} \EFs{"Green fountain pen nib"}\textcolor[HTML]{50a14f}{)}
  \EFd{"Plist of og:image:PROP properties and their value, for use in `}\textcolor[HTML]{b751b6}{\textit{org-html-meta-tags-fancy}}\EFd{'."}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{defun} \EFf{org-html-meta-tags-fancy} \textcolor[HTML]{50a14f}{(}\EFf{info}\textcolor[HTML]{50a14f}{)}
  \EFd{"Use the INFO plist to construct the meta tags, as described in `}\textcolor[HTML]{b751b6}{\textit{org-html-meta-tags}}\EFd{'."}
  \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}title \textcolor[HTML]{a626a4}{(}\EFc{org-html-plain-text}
                \textcolor[HTML]{50a14f}{(}\EFc{org-element-interpret-data} \textcolor[HTML]{da8548}{(}\EFc{plist-get} info \EFb{:title}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)} info\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
        \textcolor[HTML]{4078f2}{(}author \textcolor[HTML]{a626a4}{(}\EFk{and} \textcolor[HTML]{50a14f}{(}\EFc{plist-get} info \EFb{:with-author}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}auth \textcolor[HTML]{a626a4}{(}\EFc{plist-get} info \EFb{:author}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                       \EFcd{;; }\EFct{Return raw Org syntax.}
                       \textcolor[HTML]{da8548}{(}\EFk{and} auth \textcolor[HTML]{4078f2}{(}\EFc{org-html-plain-text}
                                  \textcolor[HTML]{a626a4}{(}\EFc{org-element-interpret-data} auth\textcolor[HTML]{a626a4}{)} info\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
    \textcolor[HTML]{da8548}{(}\EFc{append}
     \textcolor[HTML]{4078f2}{(}\EFc{list}
      \textcolor[HTML]{a626a4}{(}\EFk{when} \textcolor[HTML]{50a14f}{(}\EFc{org-string-nw-p} author\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFc{list} \EFs{"name"} \EFs{"author"} author\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
      \textcolor[HTML]{a626a4}{(}\EFk{when} \textcolor[HTML]{50a14f}{(}\EFc{org-string-nw-p} \textcolor[HTML]{da8548}{(}\EFc{plist-get} info \EFb{:description}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFc{list} \EFs{"name"} \EFs{"description"}
              \textcolor[HTML]{da8548}{(}\EFc{plist-get} info \EFb{:description}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
      \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"name"} \EFs{"generator"} \EFs{"org mode"}\textcolor[HTML]{a626a4}{)}
      \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"name"} \EFs{"theme-color"} \EFs{"\#77aa99"}\textcolor[HTML]{a626a4}{)}
      \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"property"} \EFs{"og:type"} \EFs{"article"}\textcolor[HTML]{a626a4}{)}
      \textcolor[HTML]{a626a4}{(}\EFc{list} \EFs{"property"} \EFs{"og:title"} title\textcolor[HTML]{a626a4}{)}
      \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}subtitle \textcolor[HTML]{4078f2}{(}\EFc{org-export-data} \textcolor[HTML]{a626a4}{(}\EFc{plist-get} info \EFb{:subtitle}\textcolor[HTML]{a626a4}{)} info\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFk{when} \textcolor[HTML]{da8548}{(}\EFc{org-string-nw-p} subtitle\textcolor[HTML]{da8548}{)}
          \textcolor[HTML]{da8548}{(}\EFc{list} \EFs{"property"} \EFs{"og:description"} subtitle\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
     \textcolor[HTML]{4078f2}{(}\EFk{when} \EFv{org-html-meta-tags-opengraph-image}
       \textcolor[HTML]{a626a4}{(}\EFc{list} \textcolor[HTML]{50a14f}{(}\EFc{list} \EFs{"property"} \EFs{"og:image"} \textcolor[HTML]{da8548}{(}\EFc{plist-get} \EFv{org-html-meta-tags-opengraph-image} \EFb{:image}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
             \textcolor[HTML]{50a14f}{(}\EFc{list} \EFs{"property"} \EFs{"og:image:type"} \textcolor[HTML]{da8548}{(}\EFc{plist-get} \EFv{org-html-meta-tags-opengraph-image} \EFb{:type}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
             \textcolor[HTML]{50a14f}{(}\EFc{list} \EFs{"property"} \EFs{"og:image:width"} \textcolor[HTML]{da8548}{(}\EFc{plist-get} \EFv{org-html-meta-tags-opengraph-image} \EFb{:width}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
             \textcolor[HTML]{50a14f}{(}\EFc{list} \EFs{"property"} \EFs{"og:image:height"} \textcolor[HTML]{da8548}{(}\EFc{plist-get} \EFv{org-html-meta-tags-opengraph-image} \EFb{:height}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
             \textcolor[HTML]{50a14f}{(}\EFc{list} \EFs{"property"} \EFs{"og:image:alt"} \textcolor[HTML]{da8548}{(}\EFc{plist-get} \EFv{org-html-meta-tags-opengraph-image} \EFb{:alt}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
     \textcolor[HTML]{4078f2}{(}\EFc{list}
      \textcolor[HTML]{a626a4}{(}\EFk{when} \textcolor[HTML]{50a14f}{(}\EFc{org-string-nw-p} author\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFc{list} \EFs{"property"} \EFs{"og:article:author:first\_name"} \textcolor[HTML]{da8548}{(}\EFc{car} \textcolor[HTML]{4078f2}{(}\EFf{s-split-up-to} \EFs{" "} author \EFhn{2}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
      \textcolor[HTML]{a626a4}{(}\EFk{when} \textcolor[HTML]{50a14f}{(}\EFk{and} \textcolor[HTML]{da8548}{(}\EFc{org-string-nw-p} author\textcolor[HTML]{da8548}{)} \textcolor[HTML]{da8548}{(}\EFf{s-contains-p} \EFs{" "} author\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFc{list} \EFs{"property"} \EFs{"og:article:author:last\_name"} \textcolor[HTML]{da8548}{(}\EFc{cadr} \textcolor[HTML]{4078f2}{(}\EFf{s-split-up-to} \EFs{" "} author \EFhn{2}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
      \textcolor[HTML]{a626a4}{(}\EFc{list} \EFs{"property"} \EFs{"og:article:published\_time"}
            \textcolor[HTML]{50a14f}{(}\EFc{format-time-string}
             \EFs{"\%FT\%T\%z"}
             \textcolor[HTML]{da8548}{(}\EFk{or}
              \textcolor[HTML]{4078f2}{(}\EFk{when-let} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}date-str \textcolor[HTML]{da8548}{(}\EFc{cadar} \textcolor[HTML]{4078f2}{(}\EFc{org-collect-keywords} \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"DATE"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                \textcolor[HTML]{a626a4}{(}\EFk{unless} \textcolor[HTML]{50a14f}{(}\EFc{string=} date-str \textcolor[HTML]{da8548}{(}\EFc{format-time-string} \EFs{"\%F"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                  \textcolor[HTML]{50a14f}{(}\EFk{ignore-errors} \textcolor[HTML]{da8548}{(}\EFc{encode-time} \textcolor[HTML]{4078f2}{(}\EFc{org-parse-time-string} date-str\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
              \textcolor[HTML]{4078f2}{(}\EFk{if} \EFv{buffer-file-name}
                  \textcolor[HTML]{a626a4}{(}\EFf{file-attribute-modification-time} \textcolor[HTML]{50a14f}{(}\EFc{file-attributes} \EFv{buffer-file-name}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                \textcolor[HTML]{a626a4}{(}\EFc{current-time}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
      \textcolor[HTML]{a626a4}{(}\EFk{when} \EFv{buffer-file-name}
        \textcolor[HTML]{50a14f}{(}\EFc{list} \EFs{"property"} \EFs{"og:article:modified\_time"}
              \textcolor[HTML]{da8548}{(}\EFc{format-time-string} \EFs{"\%FT\%T\%z"} \textcolor[HTML]{4078f2}{(}\EFf{file-attribute-modification-time} \textcolor[HTML]{a626a4}{(}\EFc{file-attributes} \EFv{buffer-file-name}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{unless} \textcolor[HTML]{50a14f}{(}\EFc{functionp} \EFhq{\#'}\EFhs{org-html-meta-tags-default}\textcolor[HTML]{50a14f}{)}
  \textcolor[HTML]{50a14f}{(}\EFc{defalias} \EFhq{'}\EFf{org-html-meta-tags-default} \EFhq{\#'}\EFhs{ignore}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
\textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{org-html-meta-tags} \EFhq{\#'}\EFhs{org-html-meta-tags-fancy}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{setq} org-html-style-plain \EFv{org-html-style-default}
      \EFv{org-html-htmlize-output-type} \EFhq{'}\EFhs{css}
      \EFv{org-html-doctype} \EFs{"html5"}
      \EFv{org-html-html5-fancy} t\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{defun} \EFf{org-html-reload-fancy-style} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{50a14f}{)}
  \textcolor[HTML]{50a14f}{(}\EFk{interactive}\textcolor[HTML]{50a14f}{)}
  \textcolor[HTML]{50a14f}{(}\EFk{setq} org-html-style-fancy
        \textcolor[HTML]{da8548}{(}\EFc{concat} \textcolor[HTML]{4078f2}{(}\EFf{f-read-text} \textcolor[HTML]{a626a4}{(}\EFc{expand-file-name} \EFs{"misc/org-export-header.html"} \EFv{doom-private-dir}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                \EFs{"<script>\char92{}n"}
                \textcolor[HTML]{4078f2}{(}\EFf{f-read-text} \textcolor[HTML]{a626a4}{(}\EFc{expand-file-name} \EFs{"misc/org-css/main.js"} \EFv{doom-private-dir}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                \EFs{"</script>\char92{}n<style>\char92{}n"}
                \textcolor[HTML]{4078f2}{(}\EFf{f-read-text} \textcolor[HTML]{a626a4}{(}\EFc{expand-file-name} \EFs{"misc/org-css/main.min.css"} \EFv{doom-private-dir}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                \EFs{"</style>"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
  \textcolor[HTML]{50a14f}{(}\EFk{when} \EFv{org-fancy-html-export-mode}
    \textcolor[HTML]{da8548}{(}\EFk{setq} \EFv{org-html-style-default} org-html-style-fancy\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
\textcolor[HTML]{a626a4}{(}\EFf{org-html-reload-fancy-style}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{defvar} \EFv{org-html-export-collapsed} nil\textcolor[HTML]{a626a4}{)}
\textcolor[HTML]{a626a4}{(}\EFc{eval} \EFhq{'}\textcolor[HTML]{50a14f}{(}cl-pushnew \EFhq{'}\textcolor[HTML]{da8548}{(}\EFb{:collapsed} \EFs{"COLLAPSED"} \EFs{"collapsed"} \EFv{org-html-export-collapsed} t\textcolor[HTML]{da8548}{)}
                   \textcolor[HTML]{da8548}{(}\EFc{org-export-backend-options} \textcolor[HTML]{4078f2}{(}\EFc{org-export-get-backend} \EFhq{'}\EFhs{html}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
\textcolor[HTML]{a626a4}{(}\EFc{add-to-list} \EFhq{'}\EFv{org-default-properties} \EFs{"EXPORT\_COLLAPSED"}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{defadvice!} org-html-src-block-collapsable \textcolor[HTML]{50a14f}{(}orig-fn src-block contents info\textcolor[HTML]{50a14f}{)}
  \EFd{"Wrap the usual <pre> block in a <details>"}
  \EFb{:around} \EFhq{\#'}\EFhs{org-html-src-block}
  \textcolor[HTML]{50a14f}{(}\EFk{if} \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{not} \EFv{org-fancy-html-export-mode}\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFk{bound-and-true-p} org-msg-export-in-progress\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{funcall} orig-fn src-block contents info\textcolor[HTML]{da8548}{)}
    \textcolor[HTML]{da8548}{(}\EFk{let*} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}properties \textcolor[HTML]{50a14f}{(}\EFc{cadr} src-block\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           \textcolor[HTML]{a626a4}{(}lang \textcolor[HTML]{50a14f}{(}\EFf{mode-name-to-lang-name}
                  \textcolor[HTML]{da8548}{(}\EFc{plist-get} properties \EFb{:language}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           \textcolor[HTML]{a626a4}{(}name \textcolor[HTML]{50a14f}{(}\EFc{plist-get} properties \EFb{:name}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           \textcolor[HTML]{a626a4}{(}ref \textcolor[HTML]{50a14f}{(}\EFc{org-export-get-reference} src-block info\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           \textcolor[HTML]{a626a4}{(}collapsed-p \textcolor[HTML]{50a14f}{(}\EFc{member} \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{org-export-read-attribute} \EFb{:attr\_html} src-block \EFb{:collapsed}\textcolor[HTML]{4078f2}{)}
                                    \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:collapsed}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                                \EFhq{'}\textcolor[HTML]{da8548}{(}\EFs{"y"} \EFs{"yes"} \EFs{"t"} t \EFs{"true"} \EFs{"all"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
      \textcolor[HTML]{4078f2}{(}\EFc{format}
       \EFs{"<details id='\%s' class='code'\%s><summary\%s>\%s</summary>
<div class='gutter'>
<a href='\#\%s'>\#</a>
<button title='Copy to clipboard' onclick='copyPreToClipbord(this)'>âŽ˜</button>\char92{}
</div>
\%s
</details>"}
       ref
       \textcolor[HTML]{a626a4}{(}\EFk{if} collapsed-p \EFs{""} \EFs{" open"}\textcolor[HTML]{a626a4}{)}
       \textcolor[HTML]{a626a4}{(}\EFk{if} name \EFs{" class='named'"} \EFs{""}\textcolor[HTML]{a626a4}{)}
       \textcolor[HTML]{a626a4}{(}\EFc{concat}
        \textcolor[HTML]{50a14f}{(}\EFk{when} name \textcolor[HTML]{da8548}{(}\EFc{concat} \EFs{"<span class=\char92{}"name\char92{}">"} name \EFs{"</span>"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
        \EFs{"<span class=\char92{}"lang\char92{}">"} lang \EFs{"</span>"}\textcolor[HTML]{a626a4}{)}
       ref
       \textcolor[HTML]{a626a4}{(}\EFk{if} name
           \textcolor[HTML]{50a14f}{(}\EFc{replace-regexp-in-string} \textcolor[HTML]{da8548}{(}\EFc{format} \EFs{"<pre}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(}}\EFs{ class=\char92{}"[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{\char92{}"]+\char92{}"}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{? id=\char92{}"\%s\char92{}">"} ref\textcolor[HTML]{da8548}{)} \EFs{"<pre\char92{}\char92{}1>"}
                                     \textcolor[HTML]{da8548}{(}\EFc{funcall} orig-fn src-block contents info\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
         \textcolor[HTML]{50a14f}{(}\EFc{funcall} orig-fn src-block contents info\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{defun} \EFf{mode-name-to-lang-name} \textcolor[HTML]{50a14f}{(}mode\textcolor[HTML]{50a14f}{)}
  \textcolor[HTML]{50a14f}{(}\EFk{or} \textcolor[HTML]{da8548}{(}\EFc{cadr} \textcolor[HTML]{4078f2}{(}\EFc{assoc} mode
                   \EFhq{'}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFs{"asymptote"} \EFs{"Asymptote"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"awk"} \EFs{"Awk"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"C"} \EFs{"C"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"clojure"} \EFs{"Clojure"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"css"} \EFs{"CSS"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"D"} \EFs{"D"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"ditaa"} \EFs{"ditaa"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"dot"} \EFs{"Graphviz"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"calc"} \EFs{"Emacs Calc"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"emacs-lisp"} \EFs{"Emacs Lisp"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"fortran"} \EFs{"Fortran"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"gnuplot"} \EFs{"gnuplot"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"haskell"} \EFs{"Haskell"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"hledger"} \EFs{"hledger"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"java"} \EFs{"Java"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"js"} \EFs{"Javascript"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"latex"} \EFs{"LaTeX"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"ledger"} \EFs{"Ledger"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"lisp"} \EFs{"Lisp"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"lilypond"} \EFs{"Lilypond"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"lua"} \EFs{"Lua"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"matlab"} \EFs{"MATLAB"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"mscgen"} \EFs{"Mscgen"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"ocaml"} \EFs{"Objective Caml"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"octave"} \EFs{"Octave"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"org"} \EFs{"Org mode"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"oz"} \EFs{"OZ"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"plantuml"} \EFs{"Plantuml"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"processing"} \EFs{"Processing.js"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"python"} \EFs{"Python"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"R"} \EFs{"R"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"ruby"} \EFs{"Ruby"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"sass"} \EFs{"Sass"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"scheme"} \EFs{"Scheme"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"screen"} \EFs{"Gnu Screen"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"sed"} \EFs{"Sed"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"sh"} \EFs{"shell"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"sql"} \EFs{"SQL"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"sqlite"} \EFs{"SQLite"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"forth"} \EFs{"Forth"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"io"} \EFs{"IO"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"J"} \EFs{"J"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"makefile"} \EFs{"Makefile"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"maxima"} \EFs{"Maxima"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"perl"} \EFs{"Perl"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"picolisp"} \EFs{"Pico Lisp"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"scala"} \EFs{"Scala"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"shell"} \EFs{"Shell Script"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"ebnf2ps"} \EFs{"ebfn2ps"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"cpp"} \EFs{"C++"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"abc"} \EFs{"ABC"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"coq"} \EFs{"Coq"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"groovy"} \EFs{"Groovy"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"bash"} \EFs{"bash"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"csh"} \EFs{"csh"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"ash"} \EFs{"ash"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"dash"} \EFs{"dash"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"ksh"} \EFs{"ksh"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"mksh"} \EFs{"mksh"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"posh"} \EFs{"posh"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"ada"} \EFs{"Ada"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"asm"} \EFs{"Assembler"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"caml"} \EFs{"Caml"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"delphi"} \EFs{"Delphi"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"html"} \EFs{"HTML"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"idl"} \EFs{"IDL"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"mercury"} \EFs{"Mercury"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"metapost"} \EFs{"MetaPost"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"modula-2"} \EFs{"Modula-2"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"pascal"} \EFs{"Pascal"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"ps"} \EFs{"PostScript"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"prolog"} \EFs{"Prolog"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"simula"} \EFs{"Simula"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"tcl"} \EFs{"tcl"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"tex"} \EFs{"LaTeX"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"plain-tex"} \EFs{"TeX"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"verilog"} \EFs{"Verilog"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"vhdl"} \EFs{"VHDL"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"xml"} \EFs{"XML"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"nxml"} \EFs{"XML"}\textcolor[HTML]{50a14f}{)}
                     \textcolor[HTML]{50a14f}{(}\EFs{"conf"} \EFs{"Configuration File"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      mode\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFc{autoload} \EFhq{\#'}\EFhs{highlight-numbers--turn-on} \EFs{"highlight-numbers"}\textcolor[HTML]{a626a4}{)}
\textcolor[HTML]{a626a4}{(}\EFc{add-hook} \EFhq{'}\EFhs{htmlize-before-hook} \EFhq{\#'}\EFhs{highlight-numbers--turn-on}\textcolor[HTML]{a626a4}{)}

 \textcolor[HTML]{a626a4}{(}\EFk{defadvice!} org-html-table-wrapped \textcolor[HTML]{50a14f}{(}orig-fn table contents info\textcolor[HTML]{50a14f}{)}
  \EFd{"Wrap the usual <table> in a <div>"}
  \EFb{:around} \EFhq{\#'}\EFhs{org-html-table}
  \textcolor[HTML]{50a14f}{(}\EFk{if} \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{not} \EFv{org-fancy-html-export-mode}\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFk{bound-and-true-p} org-msg-export-in-progress\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{funcall} orig-fn table contents info\textcolor[HTML]{da8548}{)}
    \textcolor[HTML]{da8548}{(}\EFk{let*} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}name \textcolor[HTML]{50a14f}{(}\EFc{plist-get} \textcolor[HTML]{da8548}{(}\EFc{cadr} table\textcolor[HTML]{da8548}{)} \EFb{:name}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           \textcolor[HTML]{a626a4}{(}ref \textcolor[HTML]{50a14f}{(}\EFc{org-export-get-reference} table info\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
      \textcolor[HTML]{4078f2}{(}\EFc{format} \EFs{"<div id='\%s' class='table'>
<div class='gutter'><a href='\#\%s'>\#</a></div>
<div class='tabular'>
\%s
</div>\char92{}
</div>"}
              ref ref
              \textcolor[HTML]{a626a4}{(}\EFk{if} name
                  \textcolor[HTML]{50a14f}{(}\EFc{replace-regexp-in-string} \textcolor[HTML]{da8548}{(}\EFc{format} \EFs{"<table id=\char92{}"\%s\char92{}""} ref\textcolor[HTML]{da8548}{)} \EFs{"<table"}
                                            \textcolor[HTML]{da8548}{(}\EFc{funcall} orig-fn table contents info\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                \textcolor[HTML]{50a14f}{(}\EFc{funcall} orig-fn table contents info\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}


\textcolor[HTML]{a626a4}{(}\EFk{defadvice!} org-html--format-toc-headline-colapseable \textcolor[HTML]{50a14f}{(}orig-fn headline info\textcolor[HTML]{50a14f}{)}
  \EFd{"Add a label and checkbox to `}\textcolor[HTML]{b751b6}{\textit{org-html--format-toc-headline}}\EFd{'s usual output,
to allow the TOC to be a collapseable tree."}
  \EFb{:around} \EFhq{\#'}\EFhs{org-html--format-toc-headline}
  \textcolor[HTML]{50a14f}{(}\EFk{if} \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{not} \EFv{org-fancy-html-export-mode}\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFk{bound-and-true-p} org-msg-export-in-progress\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{funcall} orig-fn headline info\textcolor[HTML]{da8548}{)}
    \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}id \textcolor[HTML]{50a14f}{(}\EFk{or} \textcolor[HTML]{da8548}{(}\EFf{org-element-property} \EFb{:CUSTOM\_ID} headline\textcolor[HTML]{da8548}{)}
                  \textcolor[HTML]{da8548}{(}\EFc{org-export-get-reference} headline info\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
      \textcolor[HTML]{4078f2}{(}\EFc{format} \EFs{"<input type='checkbox' id='toc--\%s'/><label for='toc--\%s'>\%s</label>"}
              id id \textcolor[HTML]{a626a4}{(}\EFc{funcall} orig-fn headline info\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

 \textcolor[HTML]{a626a4}{(}\EFk{defadvice!} org-html--toc-text-stripped-leaves \textcolor[HTML]{50a14f}{(}orig-fn toc-entries\textcolor[HTML]{50a14f}{)}
  \EFd{"Remove label"}
  \EFb{:around} \EFhq{\#'}\EFhs{org-html--toc-text}
  \textcolor[HTML]{50a14f}{(}\EFk{if} \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{not} \EFv{org-fancy-html-export-mode}\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFk{bound-and-true-p} org-msg-export-in-progress\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{funcall} orig-fn toc-entries\textcolor[HTML]{da8548}{)}
    \textcolor[HTML]{da8548}{(}\EFc{replace-regexp-in-string} \EFs{"<input [}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{>]+><label [}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{>]+>}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(}}\EFs{.+?}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{</label></li>"} \EFs{"\char92{}\char92{}1</li>"}
                              \textcolor[HTML]{4078f2}{(}\EFc{funcall} orig-fn toc-entries\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{org-html-text-markup-alist}
      \EFhq{'}\textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}bold . \EFs{"<b>\%s</b>"}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}code . \EFs{"<code>\%s</code>"}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}italic . \EFs{"<i>\%s</i>"}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}strike-through . \EFs{"<del>\%s</del>"}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}underline . \EFs{"<span class=\char92{}"underline\char92{}">\%s</span>"}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}verbatim . \EFs{"<kbd>\%s</kbd>"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{appendq!} \EFv{org-html-checkbox-types}
          \EFhq{'}\textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFc{html-span}
             \textcolor[HTML]{4078f2}{(}on . \EFs{"<span class='checkbox'></span>"}\textcolor[HTML]{4078f2}{)}
             \textcolor[HTML]{4078f2}{(}off . \EFs{"<span class='checkbox'></span>"}\textcolor[HTML]{4078f2}{)}
             \textcolor[HTML]{4078f2}{(}trans . \EFs{"<span class='checkbox'></span>"}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
\textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{org-html-checkbox-type} \EFhq{'}\EFhs{html-span}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{pushnew!} \EFv{org-html-special-string-regexps}
          \EFhq{'}\textcolor[HTML]{50a14f}{(}\EFs{"-\&gt;"} . \EFs{"\&\#8594;"}\textcolor[HTML]{50a14f}{)}
          \EFhq{'}\textcolor[HTML]{50a14f}{(}\EFs{"\&lt;-"} . \EFs{"\&\#8592;"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{defun} \EFf{org-export-html-headline-anchor} \textcolor[HTML]{50a14f}{(}text backend info\textcolor[HTML]{50a14f}{)}
  \textcolor[HTML]{50a14f}{(}\EFk{when} \textcolor[HTML]{da8548}{(}\EFk{and} \textcolor[HTML]{4078f2}{(}\EFc{org-export-derived-backend-p} backend \EFhq{'}\EFhs{html}\textcolor[HTML]{4078f2}{)}
             \textcolor[HTML]{4078f2}{(}\EFc{not} \textcolor[HTML]{a626a4}{(}\EFc{org-export-derived-backend-p} backend \EFhq{'}\EFhs{re-reveal}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
             \EFv{org-fancy-html-export-mode}\textcolor[HTML]{da8548}{)}
    \textcolor[HTML]{da8548}{(}\EFk{unless} \textcolor[HTML]{4078f2}{(}\EFk{bound-and-true-p} org-msg-export-in-progress\textcolor[HTML]{4078f2}{)}
      \textcolor[HTML]{4078f2}{(}\EFc{replace-regexp-in-string}
       \EFs{"<h}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(}}\EFs{[0-9]}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{ id=\char92{}"}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(}}\EFs{[a-z0-9-]+}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{\char92{}">}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(}}\EFs{.*[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{ ]}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{<\char92{}\char92{}/h[0-9]>"} \EFcd{; }\EFct{this is quite restrictive, but due to `}\textcolor[HTML]{b751b6}{org-reference-contraction}\EFct{' I can do this}
       \EFs{"<h\char92{}\char92{}1 id=\char92{}"\char92{}\char92{}2\char92{}">\char92{}\char92{}3<a aria-hidden=\char92{}"true\char92{}" href=\char92{}"\#\char92{}\char92{}2\char92{}">\#</a> </h\char92{}\char92{}1>"}
       text\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFc{add-to-list} \EFhq{'}\EFv{org-export-filter-headline-functions}
             \EFhq{'}\EFhs{org-export-html-headline-anchor}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFc{org-link-set-parameters} \EFs{"Https"}
                         \EFb{:follow} \textcolor[HTML]{50a14f}{(}\EFk{lambda} \textcolor[HTML]{da8548}{(}url arg\textcolor[HTML]{da8548}{)} \textcolor[HTML]{da8548}{(}\EFc{browse-url} \textcolor[HTML]{4078f2}{(}\EFc{concat} \EFs{"https:"} url\textcolor[HTML]{4078f2}{)} arg\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                         \EFb{:export} \EFhq{\#'}\EFhs{org-url-fancy-export}\textcolor[HTML]{a626a4}{)}

 \textcolor[HTML]{a626a4}{(}\EFk{defun} \EFf{org-url-fancy-export} \textcolor[HTML]{50a14f}{(}url \_desc backend\textcolor[HTML]{50a14f}{)}
  \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}metadata \textcolor[HTML]{a626a4}{(}\EFf{org-url-unfurl-metadata} \textcolor[HTML]{50a14f}{(}\EFc{concat} \EFs{"https:"} url\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
    \textcolor[HTML]{da8548}{(}\EFk{cond}
     \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}\EFc{org-export-derived-backend-p} backend \EFhq{'}\EFhs{html}\textcolor[HTML]{a626a4}{)}
      \textcolor[HTML]{a626a4}{(}\EFc{concat}
       \EFs{"<div class=\char92{}"link-preview\char92{}">"}
       \textcolor[HTML]{50a14f}{(}\EFc{format} \EFs{"<a href=\char92{}"\%s\char92{}">"} \textcolor[HTML]{da8548}{(}\EFc{concat} \EFs{"https:"} url\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
       \textcolor[HTML]{50a14f}{(}\EFk{when} \textcolor[HTML]{da8548}{(}\EFc{plist-get} metadata \EFb{:image}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}\EFc{format} \EFs{"<img src=\char92{}"\%s\char92{}"/>"} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} metadata \EFb{:image}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
       \EFs{"<small>"}
       \textcolor[HTML]{50a14f}{(}\EFc{replace-regexp-in-string} \EFs{"//}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(?:}}\EFs{www\char92{}\char92{}.}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{?}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(}}\EFs{[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{/]+}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{/?.*"} \EFs{"\char92{}\char92{}1"} url\textcolor[HTML]{50a14f}{)}
       \EFs{"</small><p>"}
       \textcolor[HTML]{50a14f}{(}\EFk{when} \textcolor[HTML]{da8548}{(}\EFc{plist-get} metadata \EFb{:title}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}\EFc{concat} \EFs{"<b>"} \textcolor[HTML]{4078f2}{(}\EFc{org-html-encode-plain-text} \textcolor[HTML]{a626a4}{(}\EFc{plist-get} metadata \EFb{:title}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)} \EFs{"</b></br>"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
       \textcolor[HTML]{50a14f}{(}\EFk{when} \textcolor[HTML]{da8548}{(}\EFc{plist-get} metadata \EFb{:description}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}\EFc{org-html-encode-plain-text} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} metadata \EFb{:description}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
       \EFs{"</p></a></div>"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
     \textcolor[HTML]{4078f2}{(}t url\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{setq} org-url-unfurl-metadata--cache nil\textcolor[HTML]{a626a4}{)}
\textcolor[HTML]{a626a4}{(}\EFk{defun} \EFf{org-url-unfurl-metadata} \textcolor[HTML]{50a14f}{(}url\textcolor[HTML]{50a14f}{)}
  \textcolor[HTML]{50a14f}{(}\EFc{cdr} \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{assoc} url org-url-unfurl-metadata--cache\textcolor[HTML]{4078f2}{)}
           \textcolor[HTML]{4078f2}{(}\EFc{car} \textcolor[HTML]{a626a4}{(}\EFk{push}
                 \textcolor[HTML]{50a14f}{(}\EFc{cons}
                  url
                  \textcolor[HTML]{da8548}{(}\EFk{let*} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}head-data
                          \textcolor[HTML]{50a14f}{(}\EFf{-filter} \EFhq{\#'}\EFhs{listp}
                                   \textcolor[HTML]{da8548}{(}\EFc{cdaddr}
                                    \textcolor[HTML]{4078f2}{(}\EFk{with-current-buffer} \textcolor[HTML]{a626a4}{(}\EFk{progn} \textcolor[HTML]{50a14f}{(}\EFc{message} \EFs{"Fetching metadata from \%s"} url\textcolor[HTML]{50a14f}{)}
                                                                \textcolor[HTML]{50a14f}{(}\EFc{url-retrieve-synchronously} url t t \EFhn{5}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                                      \textcolor[HTML]{a626a4}{(}\EFc{goto-char} \textcolor[HTML]{50a14f}{(}\EFc{point-min}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                                      \textcolor[HTML]{a626a4}{(}\EFc{delete-region} \textcolor[HTML]{50a14f}{(}\EFc{point-min}\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFc{-} \textcolor[HTML]{da8548}{(}\EFc{search-forward} \EFs{"<head"}\textcolor[HTML]{da8548}{)} \EFhn{6}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                                      \textcolor[HTML]{a626a4}{(}\EFc{delete-region} \textcolor[HTML]{50a14f}{(}\EFc{search-forward} \EFs{"</head>"}\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFc{point-max}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                                      \textcolor[HTML]{a626a4}{(}\EFc{goto-char} \textcolor[HTML]{50a14f}{(}\EFc{point-min}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                                      \textcolor[HTML]{a626a4}{(}\EFk{while} \textcolor[HTML]{50a14f}{(}\EFc{re-search-forward} \EFs{"<script[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{\char92{}u2800]+?</script>"} nil t\textcolor[HTML]{50a14f}{)}
                                        \textcolor[HTML]{50a14f}{(}\EFc{replace-match} \EFs{""}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                                      \textcolor[HTML]{a626a4}{(}\EFc{goto-char} \textcolor[HTML]{50a14f}{(}\EFc{point-min}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                                      \textcolor[HTML]{a626a4}{(}\EFk{while} \textcolor[HTML]{50a14f}{(}\EFc{re-search-forward} \EFs{"<style[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{\char92{}u2800]+?</style>"} nil t\textcolor[HTML]{50a14f}{)}
                                        \textcolor[HTML]{50a14f}{(}\EFc{replace-match} \EFs{""}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                                      \textcolor[HTML]{a626a4}{(}\EFc{libxml-parse-html-region} \textcolor[HTML]{50a14f}{(}\EFc{point-min}\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFc{point-max}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                         \textcolor[HTML]{a626a4}{(}meta \textcolor[HTML]{50a14f}{(}\EFc{delq} nil
                                     \textcolor[HTML]{da8548}{(}\EFc{mapcar}
                                      \textcolor[HTML]{4078f2}{(}\EFk{lambda} \textcolor[HTML]{a626a4}{(}tag\textcolor[HTML]{a626a4}{)}
                                        \textcolor[HTML]{a626a4}{(}\EFk{when} \textcolor[HTML]{50a14f}{(}\EFc{eq} \EFhq{'}\EFhs{meta} \textcolor[HTML]{da8548}{(}\EFc{car} tag\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                                          \textcolor[HTML]{50a14f}{(}\EFc{cons} \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{cdr} \textcolor[HTML]{a626a4}{(}\EFc{assoc} \EFhq{'}\EFhs{name} \textcolor[HTML]{50a14f}{(}\EFc{cadr} tag\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                                                    \textcolor[HTML]{4078f2}{(}\EFc{cdr} \textcolor[HTML]{a626a4}{(}\EFc{assoc} \EFhq{'}\EFhs{property} \textcolor[HTML]{50a14f}{(}\EFc{cadr} tag\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                                                \textcolor[HTML]{da8548}{(}\EFc{cdr} \textcolor[HTML]{4078f2}{(}\EFc{assoc} \EFhq{'}\EFhs{content} \textcolor[HTML]{a626a4}{(}\EFc{cadr} tag\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                                      head-data\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                    \textcolor[HTML]{4078f2}{(}\EFk{let} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}title \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{cdr} \textcolor[HTML]{a626a4}{(}\EFc{assoc} \EFs{"og:title"} meta\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                                     \textcolor[HTML]{4078f2}{(}\EFc{cdr} \textcolor[HTML]{a626a4}{(}\EFc{assoc} \EFs{"twitter:title"} meta\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                                     \textcolor[HTML]{4078f2}{(}\EFc{nth} \EFhn{2} \textcolor[HTML]{a626a4}{(}\EFc{assq} \EFhq{'}\EFhs{title} head-data\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                          \textcolor[HTML]{50a14f}{(}description \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{cdr} \textcolor[HTML]{a626a4}{(}\EFc{assoc} \EFs{"og:description"} meta\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                                           \textcolor[HTML]{4078f2}{(}\EFc{cdr} \textcolor[HTML]{a626a4}{(}\EFc{assoc} \EFs{"twitter:description"} meta\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                                           \textcolor[HTML]{4078f2}{(}\EFc{cdr} \textcolor[HTML]{a626a4}{(}\EFc{assoc} \EFs{"description"} meta\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                          \textcolor[HTML]{50a14f}{(}image \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{cdr} \textcolor[HTML]{a626a4}{(}\EFc{assoc} \EFs{"og:image"} meta\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                                     \textcolor[HTML]{4078f2}{(}\EFc{cdr} \textcolor[HTML]{a626a4}{(}\EFc{assoc} \EFs{"twitter:image"} meta\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                      \textcolor[HTML]{a626a4}{(}\EFk{when} image
                        \textcolor[HTML]{50a14f}{(}\EFk{setq} image \textcolor[HTML]{da8548}{(}\EFc{replace-regexp-in-string}
                                     \EFs{"\char94{}/"} \textcolor[HTML]{4078f2}{(}\EFc{concat} \EFs{"https://"} \textcolor[HTML]{a626a4}{(}\EFc{replace-regexp-in-string} \EFs{"//}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(}}\EFs{[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{/]+}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{/?.*"} \EFs{"\char92{}\char92{}1"} url\textcolor[HTML]{a626a4}{)} \EFs{"/"}\textcolor[HTML]{4078f2}{)}
                                     \textcolor[HTML]{4078f2}{(}\EFc{replace-regexp-in-string}
                                      \EFs{"\char94{}//"} \EFs{"https://"}
                                      image\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                      \textcolor[HTML]{a626a4}{(}\EFc{list} \EFb{:title} title \EFb{:description} description \EFb{:image} image\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                 org-url-unfurl-metadata--cache\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

                \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{org-html-mathjax-options}
      \EFhq{'}\textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}path \EFs{"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"} \textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}scale \EFs{"1"}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}autonumber \EFs{"ams"}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}multlinewidth \EFs{"85\%"}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}tagindent \EFs{".8em"}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}tagside \EFs{"right"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{org-html-mathjax-template}
      \EFs{"<script>
MathJax = \{
  chtml: \{
    scale: \%SCALE
  \},
  svg: \{
    scale: \%SCALE,
    fontCache: \char92{}"global\char92{}"
  \},
  tex: \{
    tags: \char92{}"\%AUTONUMBER\char92{}",
    multlineWidth: \char92{}"\%MULTLINEWIDTH\char92{}",
    tagSide: \char92{}"\%TAGSIDE\char92{}",
    tagIndent: \char92{}"\%TAGINDENT\char92{}"
  \}
\};
</script>
<script id=\char92{}"MathJax-script\char92{}" async
        src=\char92{}"\%PATH\char92{}"></script>"}\textcolor[HTML]{a626a4}{)}

\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

There are quite a few instances where I want to modify variables defined in
\texttt{ox-html}, so we'll wrap the contents of this section in a
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} ox-html
  <<ox-html-conf>>
\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Tecosaur has a good collection of fonts, might as well take some
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}<\EFf{link} \EFv{rel}=\EFs{"icon"} \EFv{href}=\EFs{"https://tecosaur.com/resources/org/nib.ico"} \EFv{type}=\EFs{"image/ico"} />

<\EFf{link} \EFv{rel}=\EFs{"preload"} \EFv{as}=\EFs{"font"} \EFv{crossorigin}=\EFs{"anonymous"} \EFv{type}=\EFs{"font/woff2"} \EFv{href}=\EFs{"https://tecosaur.com/resources/org/etbookot-roman-webfont.woff2"}>
<\EFf{link} \EFv{rel}=\EFs{"preload"} \EFv{as}=\EFs{"font"} \EFv{crossorigin}=\EFs{"anonymous"} \EFv{type}=\EFs{"font/woff2"} \EFv{href}=\EFs{"https://tecosaur.com/resources/org/etbookot-italic-webfont.woff2"}>
<\EFf{link} \EFv{rel}=\EFs{"preload"} \EFv{as}=\EFs{"font"} \EFv{crossorigin}=\EFs{"anonymous"} \EFv{type}=\EFs{"font/woff2"} \EFv{href}=\EFs{"https://tecosaur.com/resources/org/Merriweather-TextRegular.woff2"}>
<\EFf{link} \EFv{rel}=\EFs{"preload"} \EFv{as}=\EFs{"font"} \EFv{crossorigin}=\EFs{"anonymous"} \EFv{type}=\EFs{"font/woff2"} \EFv{href}=\EFs{"https://tecosaur.com/resources/org/Merriweather-TextItalic.woff2"}>
<\EFf{link} \EFv{rel}=\EFs{"preload"} \EFv{as}=\EFs{"font"} \EFv{crossorigin}=\EFs{"anonymous"} \EFv{type}=\EFs{"font/woff2"} \EFv{href}=\EFs{"https://tecosaur.com/resources/org/Merriweather-TextBold.woff2"}>
\end{Verbatim}
\end{Code}

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-html-block-collapsable} \textcolor[HTML]{a626a4}{(}orig-fn block contents info\textcolor[HTML]{a626a4}{)}
  \EFd{"Wrap the usual block in a <details>"}
  \textcolor[HTML]{a626a4}{(}\EFk{if} \textcolor[HTML]{50a14f}{(}\EFk{or} \textcolor[HTML]{da8548}{(}\EFc{not} \EFv{org-fancy-html-export-mode}\textcolor[HTML]{da8548}{)} \textcolor[HTML]{da8548}{(}\EFk{bound-and-true-p} org-msg-export-in-progress\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
      \textcolor[HTML]{50a14f}{(}\EFc{funcall} orig-fn block contents info\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}ref \textcolor[HTML]{a626a4}{(}\EFc{org-export-get-reference} block info\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}type \textcolor[HTML]{a626a4}{(}\EFk{pcase} \textcolor[HTML]{50a14f}{(}\EFc{car} block\textcolor[HTML]{50a14f}{)}
                  \textcolor[HTML]{50a14f}{(}\EFhq{'}\EFhs{property-drawer} \EFs{"Properties"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}collapsed-default \textcolor[HTML]{a626a4}{(}\EFk{pcase} \textcolor[HTML]{50a14f}{(}\EFc{car} block\textcolor[HTML]{50a14f}{)}
                               \textcolor[HTML]{50a14f}{(}\EFhq{'}\EFhs{property-drawer} t\textcolor[HTML]{50a14f}{)}
                               \textcolor[HTML]{50a14f}{(}\_ nil\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}collapsed-value \textcolor[HTML]{a626a4}{(}\EFc{org-export-read-attribute} \EFb{:attr\_html} block \EFb{:collapsed}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}collapsed-p \textcolor[HTML]{a626a4}{(}\EFk{or} \textcolor[HTML]{50a14f}{(}\EFc{member} \textcolor[HTML]{da8548}{(}\EFc{org-export-read-attribute} \EFb{:attr\_html} block \EFb{:collapsed}\textcolor[HTML]{da8548}{)}
                                   \EFhq{'}\textcolor[HTML]{da8548}{(}\EFs{"y"} \EFs{"yes"} \EFs{"t"} t \EFs{"true"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                           \textcolor[HTML]{50a14f}{(}\EFc{member} \textcolor[HTML]{da8548}{(}\EFc{plist-get} info \EFb{:collapsed}\textcolor[HTML]{da8548}{)} \EFhq{'}\textcolor[HTML]{da8548}{(}\EFs{"all"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{format}
       \EFs{"<details id='\%s' class='code'\%s>
<summary\%s>\%s</summary>
<div class='gutter'>\char92{}
<a href='\#\%s'>\#</a>
<button title='Copy to clipboard' onclick='copyPreToClipbord(this)'>âŽ˜</button>\char92{}
</div>
\%s\char92{}n
</details>"}
       ref
       \textcolor[HTML]{4078f2}{(}\EFk{if} \textcolor[HTML]{a626a4}{(}\EFk{or} collapsed-p collapsed-default\textcolor[HTML]{a626a4}{)} \EFs{""} \EFs{" open"}\textcolor[HTML]{4078f2}{)}
       \textcolor[HTML]{4078f2}{(}\EFk{if} type \EFs{" class='named'"} \EFs{""}\textcolor[HTML]{4078f2}{)}
       \textcolor[HTML]{4078f2}{(}\EFk{if} type \textcolor[HTML]{a626a4}{(}\EFc{format} \EFs{"<span class='type'>\%s</span>"} type\textcolor[HTML]{a626a4}{)} \EFs{""}\textcolor[HTML]{4078f2}{)}
       ref
       \textcolor[HTML]{4078f2}{(}\EFc{funcall} orig-fn block contents info\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFc{advice-add} \EFhq{'}\EFhs{org-html-example-block}   \EFb{:around} \EFhq{\#'}\EFhs{org-html-block-collapsable}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFc{advice-add} \EFhq{'}\EFhs{org-html-fixed-width}     \EFb{:around} \EFhq{\#'}\EFhs{org-html-block-collapsable}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFc{advice-add} \EFhq{'}\EFhs{org-html-property-drawer} \EFb{:around} \EFhq{\#'}\EFhs{org-html-block-collapsable}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Org-Roam}
\label{sec:org823e025}
I would like to get into the habit of using org-roam for my notes, mainly because of that cool reddit post with the server.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-roam-directory} \EFs{"\char126{}/org/roam/"}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Lets set up the org-roam-ui as well
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} websocket
    \EFb{:after} org-roam\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{use-package!} org-roam-ui
    \EFb{:after} org-roam\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

The doom-modeline is a bit messy with roam, lets adjust that
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} doom-modeline--buffer-file-name-roam-aware-a \textcolor[HTML]{a626a4}{(}orig-fun\textcolor[HTML]{a626a4}{)}
  \EFb{:around} \EFhq{\#'}\EFhs{doom-modeline-buffer-file-name} \EFcd{; }\EFct{takes no args}
  \textcolor[HTML]{a626a4}{(}\EFk{if} \textcolor[HTML]{50a14f}{(}\EFf{s-contains-p} \EFv{org-roam-directory} \textcolor[HTML]{da8548}{(}\EFk{or} \EFv{buffer-file-name} \EFs{""}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
      \textcolor[HTML]{50a14f}{(}\EFc{replace-regexp-in-string}
       \EFs{"}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(?:}}\EFs{\char94{}}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{.*/}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(}}\EFs{[0-9]\char92{}\char92{}\{4\char92{}\char92{}\}}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(}}\EFs{[0-9]\char92{}\char92{}\{2\char92{}\char92{}\}}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(}}\EFs{[0-9]\char92{}\char92{}\{2\char92{}\char92{}\}}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{[0-9]*-"}
       \EFs{"ðŸ¢”(\char92{}\char92{}1-\char92{}\char92{}2-\char92{}\char92{}3) "}
       \textcolor[HTML]{da8548}{(}\EFc{subst-char-in-string} ?\_ ?  \EFv{buffer-file-name}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{funcall} orig-fun\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}


Now, I want to replace the org-roam buffer with org-roam-ui
To do that, we need to:

\begin{enumerate}
\item Disable the regular buffer
\end{enumerate}
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} org-roam
   \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{+org-roam-open-buffer-on-find-file} nil\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\begin{enumerate}
\item Create a minor-mode to open the url (\url{http://127.0.0.1:35901/})
\end{enumerate}
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defcustom} \EFv{org-roam-ui-use-webkit} t
  \EFd{"Use embedded webkit to preview.
This requires GNU/Emacs version >= 26 and built with the `--with-xwidgets`
option."}
  \EFb{:type} \EFhq{'}\EFhs{boolean}
  \EFb{:group} \EFhq{'}\EFhs{roam}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-roam-ui-browser} \textcolor[HTML]{a626a4}{(}url\textcolor[HTML]{a626a4}{)}
  \EFd{"Use browser specified by user to load URL.
Use default browser if nil."}
  \textcolor[HTML]{a626a4}{(}\EFk{if} org-roam-ui-url-browser
      \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFv{browse-url-generic-program} org-roam-ui-url-browser\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFv{browse-url-generic-args} roam-url-args\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}\EFc{ignore} \EFv{browse-url-generic-program}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}\EFc{ignore} \EFv{browse-url-generic-args}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}\EFc{browse-url-generic} url\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{browse-url} url\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-roam-ui-open-url} \textcolor[HTML]{a626a4}{(}url\textcolor[HTML]{a626a4}{)}
  \EFd{"Ask the browser to load URL.
Use default browser unless `}\textcolor[HTML]{b751b6}{\textit{xwidget}}\EFd{' is available."}
  \textcolor[HTML]{a626a4}{(}\EFk{if} \textcolor[HTML]{50a14f}{(}\EFk{and} \EFv{org-roam-ui-use-webkit}
           \textcolor[HTML]{da8548}{(}\EFc{featurep} \EFhq{'}\EFc{xwidget-internal}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
      \textcolor[HTML]{50a14f}{(}\EFk{progn}
        \textcolor[HTML]{da8548}{(}\EFf{xwidget-webkit-browse-url} url\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}buf \textcolor[HTML]{50a14f}{(}xwidget-buffer \textcolor[HTML]{da8548}{(}xwidget-webkit-current-session\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFc{buffer-live-p} buf\textcolor[HTML]{a626a4}{)}
            \textcolor[HTML]{a626a4}{(}\EFk{and} \textcolor[HTML]{50a14f}{(}\EFc{eq} buf \textcolor[HTML]{da8548}{(}\EFc{current-buffer}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFc{quit-window}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
            \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\EFv{display-buffer-alist}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{50a14f}{(}\EFc{pop-to-buffer} buf\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFf{org-roam-ui-browser} url\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\EFcd{;;;}\EFct{\#\#\#}\textcolor[HTML]{986801}{autoload}
\textcolor[HTML]{4078f2}{(}\EFk{define-minor-mode} \EFv{org-roam-ui-open-in-browser}
  \EFd{"open org-roam-ui in the browser"}
 \EFb{:lighter} \EFs{"roam"}
 \textcolor[HTML]{a626a4}{(}\EFf{org-roam-ui-open-url} \EFs{"http://127.0.0.1:35901"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\begin{enumerate}
\item \sout{Lets set it to use the nord colors} \texttt{orui-sync-theme} does this already apparently
\end{enumerate}
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;;}\EFct{(setq org-roam-ui-sync-theme nil)}
\EFcd{;; }\EFct{(setq org-roam-ui-custom-theme}
\EFcd{;;       }\EFct{`((bg . "\#2E3440")}
\EFcd{;;         }\EFct{(bg-alt . "\#3B4252")}
\EFcd{;;         }\EFct{(fg . "\#D8DEE9")}
\EFcd{;;         }\EFct{(fg-alt . "\#E5E9F0")}
\EFcd{;;         }\EFct{(red . "\#BF616A")}
\EFcd{;;         }\EFct{(orange . "\#D08770")}
\EFcd{;;         }\EFct{(yellow ."\#EBCB8B")}
\EFcd{;;         }\EFct{(green . "\#A3BE8C")}
\EFcd{;;         }\EFct{(cyan . "\#88C0D0")}
\EFcd{;;         }\EFct{(blue . "\#81A1C1")}
\EFcd{;;         }\EFct{(violet . "\#B48EAD")}
\EFcd{;;         }\EFct{(magenta . "\#8FBCBB")))}
\end{Verbatim}
\end{Code}

\subsection{Org-Agenda}
\label{sec:orgdf9ec52}
Set the directory
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-agenda-files} \textcolor[HTML]{a626a4}{(}\EFc{list} \EFs{"\char126{}/org/school.org"}
                             \EFs{"\char126{}/org/todo.org"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Org-super-agenda!
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} org-super-agenda
  \EFb{:commands} \textcolor[HTML]{a626a4}{(}\EFv{org-super-agenda-mode}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{after!} org-agenda
  \textcolor[HTML]{a626a4}{(}\EFv{org-super-agenda-mode}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-agenda-skip-scheduled-if-done} t
      \EFv{org-agenda-skip-deadline-if-done} t
      \EFv{org-agenda-include-deadlines} t
      \EFv{org-agenda-block-separator} nil
      \EFv{org-agenda-tags-column} \EFhn{100} \EFcd{;; }\EFct{from testing this seems to be a good value}
      \EFv{org-agenda-compact-blocks} t\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-agenda-custom-commands}
      \EFhq{'}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFs{"o"} \EFs{"Overview"}
         \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}agenda \EFs{""} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFv{org-agenda-span} \EFhq{'}\EFhs{day}\textcolor[HTML]{50a14f}{)}
                      \textcolor[HTML]{50a14f}{(}\EFv{org-super-agenda-groups}
                       \EFhq{'}\textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Today"}
                          \EFb{:time-grid} t
                          \EFb{:date} today
                          \EFb{:todo} \EFs{"TODAY"}
                          \EFb{:scheduled} today
                          \EFb{:order} \EFhn{1}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}alltodo \EFs{""} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFv{org-agenda-overriding-header} \EFs{""}\textcolor[HTML]{50a14f}{)}
                       \textcolor[HTML]{50a14f}{(}\EFv{org-super-agenda-groups}
                        \EFhq{'}\textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Next to do"}
                           \EFb{:todo} \EFs{"NEXT"}
                           \EFb{:order} \EFhn{1}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Important"}
                           \EFb{:tag} \EFs{"Important"}
                           \EFb{:priority} \EFs{"A"}
                           \EFb{:order} \EFhn{6}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Due Today"}
                           \EFb{:deadline} today
                           \EFb{:order} \EFhn{2}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Due Soon"}
                           \EFb{:deadline} future
                           \EFb{:order} \EFhn{8}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Overdue"}
                           \EFb{:deadline} past
                           \EFb{:face} error
                           \EFb{:order} \EFhn{7}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Assignments"}
                           \EFb{:tag} \EFs{"Assignment"}
                           \EFb{:order} \EFhn{10}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Issues"}
                           \EFb{:tag} \EFs{"Issue"}
                           \EFb{:order} \EFhn{12}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Emacs"}
                           \EFb{:tag} \EFs{"Emacs"}
                           \EFb{:order} \EFhn{13}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Projects"}
                           \EFb{:tag} \EFs{"Project"}
                           \EFb{:order} \EFhn{14}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Research"}
                           \EFb{:tag} \EFs{"Research"}
                           \EFb{:order} \EFhn{15}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"To read"}
                           \EFb{:tag} \EFs{"Read"}
                           \EFb{:order} \EFhn{30}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Waiting"}
                           \EFb{:todo} \EFs{"WAITING"}
                           \EFb{:order} \EFhn{20}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"University"}
                           \EFb{:tag} \EFs{"uni"}
                           \EFb{:order} \EFhn{32}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Trivial"}
                           \EFb{:priority<=} \EFs{"E"}
                           \EFb{:tag} \textcolor[HTML]{a626a4}{(}\EFs{"Trivial"} \EFs{"Unimportant"}\textcolor[HTML]{a626a4}{)}
                           \EFb{:todo} \textcolor[HTML]{a626a4}{(}\EFs{"SOMEDAY"} \textcolor[HTML]{a626a4}{)}
                           \EFb{:order} \EFhn{90}\textcolor[HTML]{4078f2}{)}
                          \textcolor[HTML]{4078f2}{(}\EFb{:discard} \textcolor[HTML]{a626a4}{(}\EFb{:tag} \textcolor[HTML]{50a14f}{(}\EFs{"Chore"} \EFs{"Routine"} \EFs{"Daily"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{Org-Capture}
\label{sec:org985301c}
Use doct
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} doct
  \EFb{:commands} \textcolor[HTML]{a626a4}{(}\EFc{doct}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsubsection{Prettify}
\label{sec:org68432cf}
Improve the look of the capture dialog (idea borrowed from \href{https://github.com/tecosaur}{tecosaur})
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-capture-select-template-prettier} \textcolor[HTML]{a626a4}{(}\EFt{\&optional} keys\textcolor[HTML]{a626a4}{)}
  \EFd{"Select a capture template, in a prettier way than default
Lisp programs can force the template by setting KEYS to a string."}
  \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFv{org-capture-templates}
         \textcolor[HTML]{4078f2}{(}\EFk{or} \textcolor[HTML]{a626a4}{(}\EFc{org-contextualize-keys}
              \textcolor[HTML]{50a14f}{(}\EFc{org-capture-upgrade-templates} \EFv{org-capture-templates}\textcolor[HTML]{50a14f}{)}
              \EFv{org-capture-templates-contexts}\textcolor[HTML]{a626a4}{)}
             \EFhq{'}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFs{"t"} \EFs{"Task"} entry \textcolor[HTML]{da8548}{(}file+headline \EFs{""} \EFs{"Tasks"}\textcolor[HTML]{da8548}{)}
                \EFs{"* }\textcolor[HTML]{FCCE7B}{\textbf{TODO}}\EFs{ \%?\char92{}n  \%u\char92{}n  \%a"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{if} keys
        \textcolor[HTML]{da8548}{(}\EFk{or} \textcolor[HTML]{4078f2}{(}\EFc{assoc} keys \EFv{org-capture-templates}\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFc{error} \EFs{"No capture template referred to by \char92{}"\%s\char92{}" keys"} keys\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{org-mks} \EFv{org-capture-templates}
               \EFs{"Select a capture template\char92{}nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"}
               \EFs{"Template key: "}
               \EFhq{`}\textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}\EFs{"q"} ,\textcolor[HTML]{50a14f}{(}\EFc{concat} \textcolor[HTML]{da8548}{(}\EFc{all-the-icons-octicon} \EFs{"stop"} \EFb{:face} \EFhq{'}\EFhs{all-the-icons-red} \EFb{:v-adjust} \EFhn{0.01}\textcolor[HTML]{da8548}{)} \EFs{"\char92{}tAbort"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFc{advice-add} \EFhq{'}\EFhs{org-capture-select-template} \EFb{:override} \EFhq{\#'}\EFhs{org-capture-select-template-prettier}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-mks-pretty} \textcolor[HTML]{a626a4}{(}table title \EFt{\&optional} prompt specials\textcolor[HTML]{a626a4}{)}
  \EFd{"Select a member of an alist with multiple keys. Prettified.

TABLE is the alist which should contain entries where the car is a string.
There should be two types of entries.

1. prefix descriptions like (\char92{}"a\char92{}" \char92{}"Description\char92{}")
   This indicates that `}\textcolor[HTML]{b751b6}{\textit{a}}\EFd{' is a prefix key for multi-letter selection, and
   that there are entries following with keys like \char92{}"ab\char92{}", \char92{}"ax\char92{}"â€¦

2. Select-able members must have more than two elements, with the first
   being the string of keys that lead to selecting it, and the second a
   short description string of the item.

The command will then make a temporary buffer listing all entries
that can be selected with a single key, and all the single key
prefixes.  When you press the key for a single-letter entry, it is selected.
When you press a prefix key, the commands (and maybe further prefixes)
under this key will be shown and offered for selection.

TITLE will be placed over the selection in the temporary buffer,
PROMPT will be used when prompting for a key.  SPECIALS is an
alist with (\char92{}"key\char92{}" \char92{}"description\char92{}") entries.  When one of these
is selected, only the bare key is returned."}
  \textcolor[HTML]{a626a4}{(}\EFk{save-window-excursion}
    \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFv{inhibit-quit} t\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}buffer \textcolor[HTML]{a626a4}{(}\EFc{org-switch-to-buffer-other-window} \EFs{"*Org Select*"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}prompt \textcolor[HTML]{a626a4}{(}\EFk{or} prompt \EFs{"Select: "}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
          \EFv{case-fold-search}
          current\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFk{unwind-protect}
          \textcolor[HTML]{4078f2}{(}\EFk{catch} \EFhq{'}\EFc{exit}
            \textcolor[HTML]{a626a4}{(}\EFk{while} t
              \textcolor[HTML]{50a14f}{(}\EFk{setq-local} \EFv{evil-normal-state-cursor} \textcolor[HTML]{da8548}{(}\EFc{list} nil\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
              \textcolor[HTML]{50a14f}{(}\EFc{erase-buffer}\textcolor[HTML]{50a14f}{)}
              \textcolor[HTML]{50a14f}{(}\EFc{insert} title \EFs{"\char92{}n\char92{}n"}\textcolor[HTML]{50a14f}{)}
              \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}des-keys nil\textcolor[HTML]{4078f2}{)}
                    \textcolor[HTML]{4078f2}{(}allowed-keys \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"\char92{}C-g"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                    \textcolor[HTML]{4078f2}{(}tab-alternatives \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"\char92{}s"} \EFs{"\char92{}t"} \EFs{"\char92{}r"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                    \textcolor[HTML]{4078f2}{(}\EFv{cursor-type} nil\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                \EFcd{;; }\EFct{Populate allowed keys and descriptions keys}
                \EFcd{;; }\EFct{available with CURRENT selector.}
                \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}re \textcolor[HTML]{50a14f}{(}\EFc{format} \EFs{"\char92{}\char92{}`\%s}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(}}\EFs{.}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{\char92{}\char92{}'"}
                                  \textcolor[HTML]{da8548}{(}\EFk{if} current \textcolor[HTML]{4078f2}{(}\EFc{regexp-quote} current\textcolor[HTML]{4078f2}{)} \EFs{""}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                      \textcolor[HTML]{a626a4}{(}prefix \textcolor[HTML]{50a14f}{(}\EFk{if} current \textcolor[HTML]{da8548}{(}\EFc{concat} current \EFs{" "}\textcolor[HTML]{da8548}{)} \EFs{""}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                  \textcolor[HTML]{4078f2}{(}\EFk{dolist} \textcolor[HTML]{a626a4}{(}entry table\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFk{pcase} entry
                      \EFcd{;; }\EFct{Description.}
                      \textcolor[HTML]{50a14f}{(}\EFhq{`}\textcolor[HTML]{da8548}{(},\textcolor[HTML]{4078f2}{(}\EFk{and} key \textcolor[HTML]{a626a4}{(}pred \textcolor[HTML]{50a14f}{(}\EFc{string-match} re\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)} ,desc\textcolor[HTML]{da8548}{)}
                       \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}k \textcolor[HTML]{50a14f}{(}\EFc{match-string} \EFhn{1} key\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                         \textcolor[HTML]{4078f2}{(}\EFk{push} k des-keys\textcolor[HTML]{4078f2}{)}
                         \EFcd{;; }\EFct{Keys ending in tab, space or RET are equivalent.}
                         \textcolor[HTML]{4078f2}{(}\EFk{if} \textcolor[HTML]{a626a4}{(}\EFc{member} k tab-alternatives\textcolor[HTML]{a626a4}{)}
                             \textcolor[HTML]{a626a4}{(}\EFk{push} \EFs{"\char92{}t"} allowed-keys\textcolor[HTML]{a626a4}{)}
                           \textcolor[HTML]{a626a4}{(}\EFk{push} k allowed-keys\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                         \textcolor[HTML]{4078f2}{(}\EFc{insert} \textcolor[HTML]{a626a4}{(}\EFc{propertize} prefix \EFhq{'}\EFhs{face} \EFhq{'}\EFv{font-lock-comment-face}\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{propertize} k \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{bold}\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{propertize} \EFs{"â€º"} \EFhq{'}\EFhs{face} \EFhq{'}\EFv{font-lock-comment-face}\textcolor[HTML]{a626a4}{)} \EFs{"  "} desc \EFs{"â€¦"} \EFs{"\char92{}n"}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                      \EFcd{;; }\EFct{Usable entry.}
                      \textcolor[HTML]{50a14f}{(}\EFhq{`}\textcolor[HTML]{da8548}{(},\textcolor[HTML]{4078f2}{(}\EFk{and} key \textcolor[HTML]{a626a4}{(}pred \textcolor[HTML]{50a14f}{(}\EFc{string-match} re\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)} ,desc . ,\_\textcolor[HTML]{da8548}{)}
                       \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}k \textcolor[HTML]{50a14f}{(}\EFc{match-string} \EFhn{1} key\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                         \textcolor[HTML]{4078f2}{(}\EFc{insert} \textcolor[HTML]{a626a4}{(}\EFc{propertize} prefix \EFhq{'}\EFhs{face} \EFhq{'}\EFv{font-lock-comment-face}\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{propertize} k \EFhq{'}\EFhs{face} \EFhq{'}\EFhs{bold}\textcolor[HTML]{a626a4}{)} \EFs{"   "} desc \EFs{"\char92{}n"}\textcolor[HTML]{4078f2}{)}
                         \textcolor[HTML]{4078f2}{(}\EFk{push} k allowed-keys\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                      \textcolor[HTML]{50a14f}{(}\_ nil\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                \EFcd{;; }\EFct{Insert special entries, if any.}
                \textcolor[HTML]{da8548}{(}\EFk{when} specials
                  \textcolor[HTML]{4078f2}{(}\EFc{insert} \EFs{"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\char92{}n"}\textcolor[HTML]{4078f2}{)}
                  \textcolor[HTML]{4078f2}{(}\EFk{pcase-dolist} \textcolor[HTML]{a626a4}{(}\EFhq{`}\textcolor[HTML]{50a14f}{(},key ,description\textcolor[HTML]{50a14f}{)} specials\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{insert} \textcolor[HTML]{50a14f}{(}\EFc{format} \EFs{"\%s   \%s\char92{}n"} \textcolor[HTML]{da8548}{(}\EFc{propertize} key \EFhq{'}\EFhs{face} \EFhq{'}\textcolor[HTML]{4078f2}{(}bold all-the-icons-red\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)} description\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFk{push} key allowed-keys\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                \EFcd{;; }\EFct{Display UI and let user select an entry or}
                \EFcd{;; }\EFct{a sub-level prefix.}
                \textcolor[HTML]{da8548}{(}\EFc{goto-char} \textcolor[HTML]{4078f2}{(}\EFc{point-min}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                \textcolor[HTML]{da8548}{(}\EFk{unless} \textcolor[HTML]{4078f2}{(}\EFc{pos-visible-in-window-p} \textcolor[HTML]{a626a4}{(}\EFc{point-max}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                  \textcolor[HTML]{4078f2}{(}\EFc{org-fit-window-to-buffer}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}pressed \textcolor[HTML]{50a14f}{(}\EFc{org--mks-read-key} allowed-keys prompt nil\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                  \textcolor[HTML]{4078f2}{(}\EFk{setq} current \textcolor[HTML]{a626a4}{(}\EFc{concat} current pressed\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                  \textcolor[HTML]{4078f2}{(}\EFk{cond}
                   \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFc{equal} pressed \EFs{"\char92{}C-g"}\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFc{user-error} \EFs{"Abort"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                   \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFc{equal} pressed \EFs{"ESC"}\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFc{user-error} \EFs{"Abort"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                   \EFcd{;; }\EFct{Selection is a prefix: open a new menu.}
                   \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFc{member} pressed des-keys\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                   \EFcd{;; }\EFct{Selection matches an association: return it.}
                   \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}entry \textcolor[HTML]{a626a4}{(}\EFc{assoc} current table\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                      \textcolor[HTML]{da8548}{(}\EFk{and} entry \textcolor[HTML]{4078f2}{(}\EFc{throw} \EFhq{'}\EFc{exit} entry\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                   \EFcd{;; }\EFct{Selection matches a special entry: return the}
                   \EFcd{;; }\EFct{selection prefix.}
                   \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFc{assoc} current specials\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFc{throw} \EFhq{'}\EFc{exit} current\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                   \textcolor[HTML]{a626a4}{(}t \textcolor[HTML]{50a14f}{(}\EFc{error} \EFs{"No entry available"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
        \textcolor[HTML]{4078f2}{(}\EFk{when} buffer \textcolor[HTML]{a626a4}{(}\EFc{kill-buffer} buffer\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFc{advice-add} \EFhq{'}\EFhs{org-mks} \EFb{:override} \EFhq{\#'}\EFhs{org-mks-pretty}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

The \href{file:///home/shauryasingh/.emacs.doom/bin/org-capture}{org-capture bin} is rather nice, but I'd be nicer with a smaller frame, and
no modeline.

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setf} \textcolor[HTML]{a626a4}{(}\EFc{alist-get} \EFhq{'}\EFhs{height} \EFv{+org-capture-frame-parameters}\textcolor[HTML]{a626a4}{)} \EFhn{15}\textcolor[HTML]{4078f2}{)}
\EFcd{;; }\EFct{(alist-get 'name +org-capture-frame-parameters) "â– Capture") ;; ATM hardcoded in other places, so changing breaks stuff}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{+org-capture-fn}
      \textcolor[HTML]{a626a4}{(}\EFk{lambda} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFk{interactive}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFc{set-window-parameter} nil \EFhq{'}\EFv{mode-line-format} \EFhq{'}\EFhs{none}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFc{org-capture}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Sprinkle in some \texttt{doct} utility functions
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{+doct-icon-declaration-to-icon} \textcolor[HTML]{a626a4}{(}declaration\textcolor[HTML]{a626a4}{)}
  \EFd{"Convert :icon declaration to icon"}
  \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}name \textcolor[HTML]{4078f2}{(}\EFk{pop} declaration\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}\EFc{set}  \textcolor[HTML]{4078f2}{(}\EFc{intern} \textcolor[HTML]{a626a4}{(}\EFc{concat} \EFs{"all-the-icons-"} \textcolor[HTML]{50a14f}{(}\EFc{plist-get} declaration \EFb{:set}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}face \textcolor[HTML]{4078f2}{(}\EFc{intern} \textcolor[HTML]{a626a4}{(}\EFc{concat} \EFs{"all-the-icons-"} \textcolor[HTML]{50a14f}{(}\EFc{plist-get} declaration \EFb{:color}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}v-adjust \textcolor[HTML]{4078f2}{(}\EFk{or} \textcolor[HTML]{a626a4}{(}\EFc{plist-get} declaration \EFb{:v-adjust}\textcolor[HTML]{a626a4}{)} \EFhn{0.01}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{apply} set \EFhq{`}\textcolor[HTML]{da8548}{(},name \EFb{:face} ,face \EFb{:v-adjust} ,v-adjust\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{+doct-iconify-capture-templates} \textcolor[HTML]{a626a4}{(}groups\textcolor[HTML]{a626a4}{)}
  \EFd{"Add declaration's :icon to each template group in GROUPS."}
  \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}templates \textcolor[HTML]{4078f2}{(}\EFc{doct-flatten-lists-in} groups\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{setq} \EFv{doct-templates} \textcolor[HTML]{da8548}{(}\EFc{mapcar} \textcolor[HTML]{4078f2}{(}\EFk{lambda} \textcolor[HTML]{a626a4}{(}template\textcolor[HTML]{a626a4}{)}
                                   \textcolor[HTML]{a626a4}{(}\EFk{when-let*} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}props \textcolor[HTML]{4078f2}{(}\EFc{nthcdr} \textcolor[HTML]{a626a4}{(}\EFk{if} \textcolor[HTML]{50a14f}{(}\EFc{=} \textcolor[HTML]{da8548}{(}\EFc{length} template\textcolor[HTML]{da8548}{)} \EFhn{4}\textcolor[HTML]{50a14f}{)} \EFhn{2} \EFhn{5}\textcolor[HTML]{a626a4}{)} template\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                                               \textcolor[HTML]{da8548}{(}spec \textcolor[HTML]{4078f2}{(}\EFc{plist-get} \textcolor[HTML]{a626a4}{(}\EFc{plist-get} props \EFb{:doct}\textcolor[HTML]{a626a4}{)} \EFb{:icon}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                                     \textcolor[HTML]{50a14f}{(}\EFk{setf} \textcolor[HTML]{da8548}{(}\EFc{nth} \EFhn{1} template\textcolor[HTML]{da8548}{)} \textcolor[HTML]{da8548}{(}\EFc{concat} \textcolor[HTML]{4078f2}{(}\EFf{+doct-icon-declaration-to-icon} spec\textcolor[HTML]{4078f2}{)}
                                                                    \EFs{"\char92{}t"}
                                                                    \textcolor[HTML]{4078f2}{(}\EFc{nth} \EFhn{1} template\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                                   template\textcolor[HTML]{4078f2}{)}
                                 templates\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{doct-after-conversion-functions} \EFhq{'}\textcolor[HTML]{a626a4}{(}+doct-iconify-capture-templates\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsubsection{Templates}
\label{sec:orgef86355}

And we can now add some templates! This isn't even remotely set in stone, I wouldn't even describe them as set in \emph{jelly} really.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-capture-templates}
      \textcolor[HTML]{a626a4}{(}\EFc{doct} \EFhq{`}\textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFs{"Home"} \EFb{:keys} \EFs{"h"}
               \EFb{:icon} \textcolor[HTML]{4078f2}{(}\EFs{"home"} \EFb{:set} \EFs{"octicon"} \EFb{:color} \EFs{"cyan"}\textcolor[HTML]{4078f2}{)}
               \EFb{:file} \EFs{"Home.org"}
               \EFb{:prepend} t
               \EFb{:headline} \EFs{"Inbox"}
               \EFb{:template} \textcolor[HTML]{4078f2}{(}\EFs{"* }\textcolor[HTML]{FCCE7B}{\textbf{TODO}}\EFs{ \%?"}
                          \EFs{"\%i \%a"}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
              \textcolor[HTML]{da8548}{(}\EFs{"Work"} \EFb{:keys} \EFs{"w"}
               \EFb{:icon} \textcolor[HTML]{4078f2}{(}\EFs{"business"} \EFb{:set} \EFs{"material"} \EFb{:color} \EFs{"yellow"}\textcolor[HTML]{4078f2}{)}
               \EFb{:file} \EFs{"Work.org"}
               \EFb{:prepend} t
               \EFb{:headline} \EFs{"Inbox"}
               \EFb{:template} \textcolor[HTML]{4078f2}{(}\EFs{"* }\textcolor[HTML]{FCCE7B}{\textbf{TODO}}\EFs{ \%?"}
                          \EFs{"SCHEDULED: \%\char94{}\{Schedule:\}t"}
                          \EFs{"DEADLINE: \%\char94{}\{Deadline:\}t"}
                          \EFs{"\%i \%a"}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
              \textcolor[HTML]{da8548}{(}\EFs{"Note"} \EFb{:keys} \EFs{"n"}
               \EFb{:icon} \textcolor[HTML]{4078f2}{(}\EFs{"sticky-note"} \EFb{:set} \EFs{"faicon"} \EFb{:color} \EFs{"yellow"}\textcolor[HTML]{4078f2}{)}
               \EFb{:file} \EFs{"Notes.org"}
               \EFb{:template} \textcolor[HTML]{4078f2}{(}\EFs{"* *?"}
                          \EFs{"\%i \%a"}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
              \textcolor[HTML]{da8548}{(}\EFs{"Project"} \EFb{:keys} \EFs{"p"}
               \EFb{:icon} \textcolor[HTML]{4078f2}{(}\EFs{"repo"} \EFb{:set} \EFs{"octicon"} \EFb{:color} \EFs{"silver"}\textcolor[HTML]{4078f2}{)}
               \EFb{:prepend} t
               \EFb{:type} entry
               \EFb{:headline} \EFs{"Inbox"}
               \EFb{:template} \textcolor[HTML]{4078f2}{(}\EFs{"* \%\{keyword\} \%?"}
                          \EFs{"\%i"}
                          \EFs{"\%a"}\textcolor[HTML]{4078f2}{)}
               \EFb{:file} \EFs{""}
               \EFb{:custom} \textcolor[HTML]{4078f2}{(}\EFb{:keyword} \EFs{""}\textcolor[HTML]{4078f2}{)}
               \EFb{:children} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}\EFs{"Task"} \EFb{:keys} \EFs{"t"}
                           \EFb{:icon} \textcolor[HTML]{50a14f}{(}\EFs{"checklist"} \EFb{:set} \EFs{"octicon"} \EFb{:color} \EFs{"green"}\textcolor[HTML]{50a14f}{)}
                           \EFb{:keyword} \EFs{"}\textcolor[HTML]{FCCE7B}{\textbf{TODO}}\EFs{"}
                           \EFb{:file} +org-capture-project-todo-file\textcolor[HTML]{a626a4}{)}
                          \textcolor[HTML]{a626a4}{(}\EFs{"Note"} \EFb{:keys} \EFs{"n"}
                           \EFb{:icon} \textcolor[HTML]{50a14f}{(}\EFs{"sticky-note"} \EFb{:set} \EFs{"faicon"} \EFb{:color} \EFs{"yellow"}\textcolor[HTML]{50a14f}{)}
                           \EFb{:keyword} \EFs{"\%U"}
                           \EFb{:file} +org-capture-project-notes-file\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
              \textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{ORG Plot}
\label{sec:org975fffd}
Tell it to use the doom theme colors
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} org-plot
  \textcolor[HTML]{a626a4}{(}\EFk{defun} \EFf{org-plot/generate-theme} \textcolor[HTML]{50a14f}{(}\_type\textcolor[HTML]{50a14f}{)}
    \EFd{"Use the current Doom theme colours to generate a GnuPlot preamble."}
    \textcolor[HTML]{50a14f}{(}\EFc{format} \EFs{"
fgt = \char92{}"textcolor rgb '\%s'\char92{}" \# foreground text
fgat = \char92{}"textcolor rgb '\%s'\char92{}" \# foreground alt text
fgl = \char92{}"linecolor rgb '\%s'\char92{}" \# foreground line
fgal = \char92{}"linecolor rgb '\%s'\char92{}" \# foreground alt line

\# foreground colors
set border lc rgb '\%s'
\# change text colors of  tics
set xtics @fgt
set ytics @fgt
\# change text colors of labels
set title @fgt
set xlabel @fgt
set ylabel @fgt
\# change a text color of key
set key @fgt

\# line styles
set linetype 1 lw 2 lc rgb '\%s' \# red
set linetype 2 lw 2 lc rgb '\%s' \# blue
set linetype 3 lw 2 lc rgb '\%s' \# green
set linetype 4 lw 2 lc rgb '\%s' \# magenta
set linetype 5 lw 2 lc rgb '\%s' \# orange
set linetype 6 lw 2 lc rgb '\%s' \# yellow
set linetype 7 lw 2 lc rgb '\%s' \# teal
set linetype 8 lw 2 lc rgb '\%s' \# violet

\# palette
set palette maxcolors 8
set palette defined ( 0 '\%s',\char92{}
1 '\%s',\char92{}
2 '\%s',\char92{}
3 '\%s',\char92{}
4 '\%s',\char92{}
5 '\%s',\char92{}
6 '\%s',\char92{}
7 '\%s' )
"}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{fg}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{fg-alt}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{fg}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{fg-alt}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{fg}\textcolor[HTML]{da8548}{)}
            \EFcd{;; }\EFct{colours}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{red}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{blue}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{green}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{magenta}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{orange}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{yellow}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{teal}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{violet}\textcolor[HTML]{da8548}{)}
            \EFcd{;; }\EFct{duplicated}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{red}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{blue}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{green}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{magenta}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{orange}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{yellow}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{teal}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{violet}\textcolor[HTML]{da8548}{)}
            \textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{defun} \EFf{org-plot/gnuplot-term-properties} \textcolor[HTML]{50a14f}{(}\_type\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{format} \EFs{"background rgb '\%s' size 1050,650"}
            \textcolor[HTML]{da8548}{(}\EFc{doom-color} \EFhq{'}\EFhs{bg}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} org-plot/gnuplot-script-preamble \EFhq{\#'}\EFhs{org-plot/generate-theme}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} org-plot/gnuplot-term-extra \EFhq{\#'}\EFhs{org-plot/gnuplot-term-properties}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{View Exported File}
\label{sec:orga152233}
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{map!} \EFb{:map} \EFv{org-mode-map}
      \EFb{:leader}
      \EFb{:desc} \EFs{"View exported file"} \EFs{"v"} \EFhq{\#'}\EFhs{org-view-output-file}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-view-output-file} \textcolor[HTML]{a626a4}{(}\EFt{\&optional} org-file-path\textcolor[HTML]{a626a4}{)}
  \EFd{"Visit buffer open on the first output file (if any) found, using `}\textcolor[HTML]{b751b6}{\textit{org-view-output-file-extensions}}\EFd{'"}
  \textcolor[HTML]{a626a4}{(}\EFk{interactive}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{let*} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}org-file-path \textcolor[HTML]{4078f2}{(}\EFk{or} org-file-path \textcolor[HTML]{a626a4}{(}\EFv{buffer-file-name}\textcolor[HTML]{a626a4}{)} \EFs{""}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}dir \textcolor[HTML]{4078f2}{(}\EFc{file-name-directory} org-file-path\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}basename \textcolor[HTML]{4078f2}{(}\EFc{file-name-base} org-file-path\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}output-file nil\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{dolist} \textcolor[HTML]{da8548}{(}ext \EFv{org-view-output-file-extensions}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFk{unless} output-file
        \textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFc{file-exists-p}
               \textcolor[HTML]{50a14f}{(}\EFc{concat} dir basename \EFs{"."} ext\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
          \textcolor[HTML]{a626a4}{(}\EFk{setq} output-file \textcolor[HTML]{50a14f}{(}\EFc{concat} dir basename \EFs{"."} ext\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{if} output-file
        \textcolor[HTML]{da8548}{(}\EFk{if} \textcolor[HTML]{4078f2}{(}\EFc{member} \textcolor[HTML]{a626a4}{(}\EFc{file-name-extension} output-file\textcolor[HTML]{a626a4}{)} \EFv{org-view-external-file-extensions}\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFc{browse-url-xdg-open} output-file\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}\EFc{pop-to-buffer} \textcolor[HTML]{a626a4}{(}\EFk{or} \textcolor[HTML]{50a14f}{(}\EFc{find-buffer-visiting} output-file\textcolor[HTML]{50a14f}{)}
                             \textcolor[HTML]{50a14f}{(}\EFc{find-file-noselect} output-file\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{message} \EFs{"No exported file found"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-view-output-file-extensions} \EFhq{'}\textcolor[HTML]{a626a4}{(} \EFs{"pdf"} \EFs{"md"} \EFs{"rst"} \EFs{"txt"} \EFs{"tex"}\textcolor[HTML]{a626a4}{)}
  \EFd{"Search for output files with these extensions, in order, viewing the first that matches"}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Same thing but only for html
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defcustom} \EFv{org-html-use-webkit} t
  \EFd{"Use embedded webkit to preview.
This requires GNU/Emacs version >= 26 and built with the `--with-xwidgets`
option."}
  \EFb{:type} \EFhq{'}\EFhs{boolean}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-html-browser} \textcolor[HTML]{a626a4}{(}url\textcolor[HTML]{a626a4}{)}
  \EFd{"Use browser specified by user to load URL.
Use default browser if nil."}
  \textcolor[HTML]{a626a4}{(}\EFk{if} org-html-url-browser
      \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFv{browse-url-generic-program} org-html-url-browser\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFv{browse-url-generic-args} roam-url-args\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}\EFc{ignore} \EFv{browse-url-generic-program}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}\EFc{ignore} \EFv{browse-url-generic-args}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}\EFc{browse-url-generic} url\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{browse-url} url\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-html-open-url} \textcolor[HTML]{a626a4}{(}url\textcolor[HTML]{a626a4}{)}
  \EFd{"Ask the browser to load URL.
Use default browser unless `}\textcolor[HTML]{b751b6}{\textit{xwidget}}\EFd{' is available."}
  \textcolor[HTML]{a626a4}{(}\EFk{if} \textcolor[HTML]{50a14f}{(}\EFk{and} \EFv{org-html-use-webkit}
           \textcolor[HTML]{da8548}{(}\EFc{featurep} \EFhq{'}\EFc{xwidget-internal}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
      \textcolor[HTML]{50a14f}{(}\EFk{progn}
        \textcolor[HTML]{da8548}{(}\EFf{xwidget-webkit-browse-url} url\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}buf \textcolor[HTML]{50a14f}{(}xwidget-buffer \textcolor[HTML]{da8548}{(}xwidget-webkit-current-session\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFc{buffer-live-p} buf\textcolor[HTML]{a626a4}{)}
            \textcolor[HTML]{a626a4}{(}\EFk{and} \textcolor[HTML]{50a14f}{(}\EFc{eq} buf \textcolor[HTML]{da8548}{(}\EFc{current-buffer}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)} \textcolor[HTML]{50a14f}{(}\EFc{quit-window}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
            \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\EFv{display-buffer-alist}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{50a14f}{(}\EFc{pop-to-buffer} buf\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFf{org-html-browser} url\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{map!} \EFb{:map} \EFv{org-mode-map}
      \EFb{:leader}
      \EFb{:desc} \EFs{"View exported file"} \EFs{"V"} \EFhq{\#'}\EFhs{org-view-output-file-html}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-view-output-file-html} \textcolor[HTML]{a626a4}{(}\EFt{\&optional} org-file-path\textcolor[HTML]{a626a4}{)}
  \EFd{"Visit buffer open on the first output file (if any) found, using `}\textcolor[HTML]{b751b6}{\textit{org-view-output-file-extensions}}\EFd{'"}
  \textcolor[HTML]{a626a4}{(}\EFk{interactive}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{let*} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}org-file-path \textcolor[HTML]{4078f2}{(}\EFk{or} org-file-path \textcolor[HTML]{a626a4}{(}\EFv{buffer-file-name}\textcolor[HTML]{a626a4}{)} \EFs{""}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}dir \textcolor[HTML]{4078f2}{(}\EFc{file-name-directory} org-file-path\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}basename \textcolor[HTML]{4078f2}{(}\EFc{file-name-base} org-file-path\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}output-file nil\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{dolist} \textcolor[HTML]{da8548}{(}ext \EFv{org-view-output-file-extensions-html}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFk{unless} output-file
        \textcolor[HTML]{4078f2}{(}\EFk{when} \textcolor[HTML]{a626a4}{(}\EFc{file-exists-p}
               \textcolor[HTML]{50a14f}{(}\EFc{concat} dir basename \EFs{"."} ext\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
          \textcolor[HTML]{a626a4}{(}\EFk{setq} output-file \textcolor[HTML]{50a14f}{(}\EFc{concat} dir basename \EFs{"."} ext\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{if} output-file
        \textcolor[HTML]{da8548}{(}\EFk{if} \textcolor[HTML]{4078f2}{(}\EFc{member} \textcolor[HTML]{a626a4}{(}\EFc{file-name-extension} output-file\textcolor[HTML]{a626a4}{)} \EFv{org-view-external-file-extensions}\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-html-preview-url} \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
                \EFd{"Return grip preview url."}
                 \textcolor[HTML]{a626a4}{(}\EFc{format} \EFs{"file://\%s"} output-file\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFf{org-html-open-url} org-html-preview-url\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{message} \EFs{"No exported file found"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-view-output-file-extensions-html} \EFhq{'}\textcolor[HTML]{a626a4}{(} \EFs{"html"}\textcolor[HTML]{a626a4}{)}
  \EFd{"Search for output files with these extensions, in order, viewing the first that matches"}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-view-external-file-extensions} \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"html"}\textcolor[HTML]{a626a4}{)}
  \EFd{"File formats that should be opened externally."}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\section{Latex}
\label{sec:org270517c}
\subsection{Basic configuration}
\label{sec:org44f4fae}
Use XeLateX
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{TeX-save-query} nil
      \EFv{TeX-show-compilation} t
      \EFv{TeX-command-extra-options} \EFs{"-shell-escape"}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{after!} latex
  \textcolor[HTML]{a626a4}{(}\EFc{add-to-list} \EFhq{'}\EFv{TeX-command-list} \EFhq{'}\textcolor[HTML]{50a14f}{(}\EFs{"XeLaTeX"} \EFs{"\%`xelatex\%(mode)\%' \%t"} TeX-run-TeX nil t\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

First of all, lets use pdf-tools to preview pdfs by defaults
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{+latex-viewers} \EFhq{'}\textcolor[HTML]{a626a4}{(}pdf-tools evince zathura okular skim sumatrapdf\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

I also want to adjust the look of those previews
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} org
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{org-highlight-latex-and-related} \EFhq{'}\textcolor[HTML]{50a14f}{(}native script entities\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{add-to-list} \EFhq{'}\EFv{org-src-block-faces} \EFhq{'}\textcolor[HTML]{50a14f}{(}\EFs{"latex"} \textcolor[HTML]{da8548}{(}\EFb{:inherit} default \EFb{:extend} t\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{after!} org
  \textcolor[HTML]{a626a4}{(}\EFc{plist-put} \EFv{org-format-latex-options} \EFb{:background} \EFs{"Transparent"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Lets add cdlatex org mode integration
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} org
  \textcolor[HTML]{a626a4}{(}\EFc{add-hook} \EFhq{'}\EFv{org-mode-hook} \EFhq{'}\EFhs{turn-on-org-cdlatex}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} org-edit-latex-emv-after-insert \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{a626a4}{)}
  \EFb{:after} \EFhq{\#'}\EFhs{org-cdlatex-environment-indent}
  \textcolor[HTML]{a626a4}{(}\EFc{org-edit-latex-environment}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

I like to preview images inline too
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} org-display-inline-images t\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{setq} org-redisplay-inline-images t\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-startup-with-inline-images} \EFs{"inlineimages"}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

I prefer svgs to pngs. It takes a little more time, but scales better on HiDPI displays
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq-default} \EFv{org-html-with-latex} \EFhq{`}\EFhs{dvisvgm}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-preview-latex-default-process} \EFhq{'}\EFhs{dvisvgm}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Obviously we can't edit a png though. Let use org-fragtog to toggle between previews and text mode
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;;}\EFct{auto toggle between preview/raw latex}
\textcolor[HTML]{4078f2}{(}\EFk{use-package!} org-fragtog
  \EFb{:hook} \textcolor[HTML]{a626a4}{(}\EFc{org-mode} . \EFv{org-fragtog-mode}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Here's just my private \LaTeX{} config.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-format-latex-header} \EFs{"\char92{}\char92{}documentclass\{article\}
\char92{}\char92{}usepackage[usenames]\{xcolor\}

\char92{}\char92{}usepackage[T1]\{fontenc\}

\char92{}\char92{}usepackage\{booktabs\}

\char92{}\char92{}pagestyle\{empty\}             \% do not remove
\% The settings below are copied from fullpage.sty
\char92{}\char92{}setlength\{\char92{}\char92{}textwidth\}\{\char92{}\char92{}paperwidth\}
\char92{}\char92{}addtolength\{\char92{}\char92{}textwidth\}\{-3cm\}
\char92{}\char92{}setlength\{\char92{}\char92{}oddsidemargin\}\{1.5cm\}
\char92{}\char92{}addtolength\{\char92{}\char92{}oddsidemargin\}\{-2.54cm\}
\char92{}\char92{}setlength\{\char92{}\char92{}evensidemargin\}\{\char92{}\char92{}oddsidemargin\}
\char92{}\char92{}setlength\{\char92{}\char92{}textheight\}\{\char92{}\char92{}paperheight\}
\char92{}\char92{}addtolength\{\char92{}\char92{}textheight\}\{-\char92{}\char92{}headheight\}
\char92{}\char92{}addtolength\{\char92{}\char92{}textheight\}\{-\char92{}\char92{}headsep\}
\char92{}\char92{}addtolength\{\char92{}\char92{}textheight\}\{-\char92{}\char92{}footskip\}
\char92{}\char92{}addtolength\{\char92{}\char92{}textheight\}\{-3cm\}
\char92{}\char92{}setlength\{\char92{}\char92{}topmargin\}\{1.5cm\}
\char92{}\char92{}addtolength\{\char92{}\char92{}topmargin\}\{-2.54cm\}
"}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{CalcTeX}
\label{sec:org916018e}
We'd like to use CalcTeX too, so let's set that up, and fix some glaring
inadequacies --- why on earth would you commit a hard-coded path to an executable
that \emph{only works on your local machine}, consequently breaking the package for
everyone else!?

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} calctex
  \EFb{:commands} calctex-mode
  \EFb{:init}
  \textcolor[HTML]{a626a4}{(}\EFc{add-hook} \EFhq{'}\EFv{calc-mode-hook} \EFhq{\#'}\EFhs{calctex-mode}\textcolor[HTML]{a626a4}{)}
  \EFb{:config}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} calctex-additional-latex-packages \EFs{"
\char92{}\char92{}usepackage[usenames]\{xcolor\}
\char92{}\char92{}usepackage\{soul\}
\char92{}\char92{}usepackage\{adjustbox\}
\char92{}\char92{}usepackage\{amsmath\}
\char92{}\char92{}usepackage\{amssymb\}
\char92{}\char92{}usepackage\{siunitx\}
\char92{}\char92{}usepackage\{cancel\}
\char92{}\char92{}usepackage\{mathtools\}
\char92{}\char92{}usepackage\{mathalpha\}
\char92{}\char92{}usepackage\{xparse\}
\char92{}\char92{}usepackage\{arevmath\}"}
        calctex-additional-latex-macros
        \textcolor[HTML]{50a14f}{(}\EFc{concat} calctex-additional-latex-macros
                \EFs{"\char92{}n\char92{}\char92{}let\char92{}\char92{}evalto\char92{}\char92{}Rightarrow"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{defadvice!} no-messaging-a \textcolor[HTML]{50a14f}{(}orig-fn \EFt{\&rest} args\textcolor[HTML]{50a14f}{)}
    \EFb{:around} \EFhq{\#'}\EFhs{calctex-default-dispatching-render-process}
    \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFv{inhibit-message} t\textcolor[HTML]{4078f2}{)} \EFv{message-log-max}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{apply} orig-fn args\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \EFcd{;; }\EFct{Fix hardcoded dvichop path (whyyyyyyy)}
  \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}vendor-folder \textcolor[HTML]{4078f2}{(}\EFc{concat} \textcolor[HTML]{a626a4}{(}\EFc{file-truename} \EFv{doom-local-dir}\textcolor[HTML]{a626a4}{)}
                               \EFs{"straight/"}
                               \textcolor[HTML]{a626a4}{(}\EFc{format} \EFs{"build-\%s"} \EFv{emacs-version}\textcolor[HTML]{a626a4}{)}
                               \EFs{"/calctex/vendor/"}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{setq} calctex-dvichop-sty \textcolor[HTML]{da8548}{(}\EFc{concat} vendor-folder \EFs{"texd/dvichop"}\textcolor[HTML]{da8548}{)}
          calctex-dvichop-bin \textcolor[HTML]{da8548}{(}\EFc{concat} vendor-folder \EFs{"texd/dvichop"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{unless} \textcolor[HTML]{50a14f}{(}\EFc{file-exists-p} calctex-dvichop-bin\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{message} \EFs{"CalcTeX: Building dvichop binary"}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}\EFv{default-directory} \textcolor[HTML]{a626a4}{(}\EFc{file-name-directory} calctex-dvichop-bin\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{call-process} \EFs{"make"} nil nil nil\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsubsection{Embedded calc}
\label{sec:org4346c55}

Embedded calc is a lovely feature which let's us use calc to operate on \LaTeX{}
maths expressions. The standard keybinding is a bit janky however (\texttt{C-x * e}), so
we'll add a localleader-based alternative.

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{map!} \EFb{:map} \EFv{calc-mode-map}
      \EFb{:after} calc
      \EFb{:leader}
      \EFb{:desc} \EFs{"Embedded calc (toggle)"} \EFs{"e"} \EFhq{\#'}\EFhs{calc-embedded}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{map!} \EFb{:map} \EFv{org-mode-map}
      \EFb{:after} org
      \EFb{:leader}
      \EFb{:desc} \EFs{"Embedded calc (toggle)"} \EFs{"E"} \EFhq{\#'}\EFhs{calc-embedded}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{map!} \EFb{:map} \EFv{latex-mode-map}
      \EFb{:after} latex
      \EFb{:leader}
      \EFb{:desc} \EFs{"Embedded calc (toggle)"} \EFs{"e"} \EFhq{\#'}\EFhs{calc-embedded}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\subsection{PDF-Tools}
\label{sec:org97b9029}
DocView gives me a headache, but pdf-tools can be improved, lets configure it a little more
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package} pdf-view
  \EFb{:hook} \textcolor[HTML]{a626a4}{(}pdf-tools-enabled . pdf-view-themed-minor-mode\textcolor[HTML]{a626a4}{)}
  \EFb{:hook} \textcolor[HTML]{a626a4}{(}pdf-tools-enabled . \EFv{hide-mode-line-mode}\textcolor[HTML]{a626a4}{)}
  \EFb{:config}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} pdf-view-resize-factor \EFhn{1.1}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{setq-default} pdf-view-display-size \EFhq{'}\EFhs{fit-page}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}
\subsection{Export}
\label{sec:org248ec0b}
\begin{enumerate}
\item Conditional features
\label{sec:orgc3c5656}

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-latex-italic-quotes} t
  \EFd{"Make \char92{}"quote\char92{}" environments italic."}\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-latex-par-sep} t
  \EFd{"Vertically seperate paragraphs, and remove indentation."}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-latex-conditional-features}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFs{"\char92{}\char92{}[\char92{}\char92{}[}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(?:}}\EFs{file}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{https?}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{:}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(?:}}\EFs{[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{]]}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}\char92{}\char92{}\char92{}\char92{}]}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{+?\char92{}\char92{}.}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(?:}}\EFs{eps}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{pdf}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{png}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{jpeg}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{jpg}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{jbig2}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{\char92{}\char92{}]\char92{}\char92{}]"} . image\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{"\char92{}\char92{}[\char92{}\char92{}[}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(?:}}\EFs{file}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{https?}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{:}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(?:}}\EFs{[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{]]+?}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}\char92{}\char92{}\char92{}\char92{}]}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{\char92{}\char92{}.svg\char92{}\char92{}]\char92{}\char92{}]"} . svg\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{"\char94{}[ \char92{}t]*|"} . table\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{"cref:}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}cref\{}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}[\char92{}\char92{}[[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{\char92{}\char92{}]]+\char92{}\char92{}]\char92{}\char92{}]"} . cleveref\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{"[;\char92{}\char92{}\char92{}\char92{}]?\char92{}\char92{}b[A-Z][A-Z]+s?[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{A-Za-z]"} . acronym\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{"\char92{}\char92{}+[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{ ].*[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{ ]\char92{}\char92{}+}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\_[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{ ].*[}\textcolor[HTML]{4078f2}{\textbf{\char94{}}}\EFs{ ]\_}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}\char92{}\char92{}uu?line}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}\char92{}\char92{}uwave}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}\char92{}\char92{}sout}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}\char92{}\char92{}xout}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}\char92{}\char92{}dashuline}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}dotuline}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}markoverwith"} . underline\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{":float wrap"} . float-wrap\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{":float sideways"} . rotate\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{"\char94{}[ \char92{}t]*\#\char92{}\char92{}+caption:}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}\char92{}\char92{}caption"} . caption\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{"\char92{}\char92{}[\char92{}\char92{}[xkcd:"} . \textcolor[HTML]{da8548}{(}image caption\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFk{and} \EFv{org-latex-italic-quotes} \EFs{"\char94{}[ \char92{}t]*\#\char92{}\char92{}+begin\_quote}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}\char92{}\char92{}begin\{quote\}"}\textcolor[HTML]{da8548}{)} . italic-quotes\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFv{org-latex-par-sep} . par-sep\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{"\char94{}[ \char92{}t]*}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{(?:}}\EFs{[-+*]}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{[0-9]+[.)]}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{[A-Za-z]+[.)]}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{)}}\EFs{ \char92{}\char92{}[[ -X]\char92{}\char92{}]"} . checkbox\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{"\char94{}[ \char92{}t]*\#\char92{}\char92{}+begin\_warning}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}\char92{}\char92{}begin\{warning\}"} . box-warning\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{"\char94{}[ \char92{}t]*\#\char92{}\char92{}+begin\_info}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}\char92{}\char92{}begin\{info\}"}       . box-info\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{"\char94{}[ \char92{}t]*\#\char92{}\char92{}+begin\_success}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}\char92{}\char92{}begin\{success\}"} . box-success\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{"\char94{}[ \char92{}t]*\#\char92{}\char92{}+begin\_error}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char92{}\char92{}\char92{}\char92{}begin\{error\}"}     . box-error\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \EFd{"Org feature tests and associated LaTeX feature flags.

Alist where the car is a test for the presense of the feature,
and the cdr is either a single feature symbol or list of feature symbols.

When a string, it is used as a regex search in the buffer.
The feature is registered as present when there is a match.

The car can also be a
- symbol, the value of which is fetched
- function, which is called with info as an argument
- list, which is `}\textcolor[HTML]{b751b6}{\textit{eval}}\EFd{'uated

If the symbol, function, or list produces a string: that is used as a regex
search in the buffer. Otherwise any non-nil return value will indicate the
existance of the feature."}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-latex-caption-preamble} \EFs{"
\char92{}\char92{}usepackage\{subcaption\}
\char92{}\char92{}usepackage[hypcap=true]\{caption\}
\char92{}\char92{}setkomafont\{caption\}\{\char92{}\char92{}sffamily\char92{}\char92{}small\}
\char92{}\char92{}setkomafont\{captionlabel\}\{\char92{}\char92{}upshape\char92{}\char92{}bfseries\}
\char92{}\char92{}captionsetup\{justification=raggedright,singlelinecheck=true\}
\char92{}\char92{}usepackage\{capt-of\} \% required by Org
"}
  \EFd{"Preamble that improves captions."}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-latex-checkbox-preamble} \EFs{"
\char92{}\char92{}newcommand\{\char92{}\char92{}checkboxUnchecked\}\{\$\char92{}\char92{}square\$\}
\char92{}\char92{}newcommand\{\char92{}\char92{}checkboxTransitive\}\{\char92{}\char92{}rlap\{\char92{}\char92{}raisebox\{-0.1ex\}\{\char92{}\char92{}hspace\{0.35ex\}\char92{}\char92{}Large\char92{}\char92{}textbf -\}\}\$\char92{}\char92{}square\$\}
\char92{}\char92{}newcommand\{\char92{}\char92{}checkboxChecked\}\{\char92{}\char92{}rlap\{\char92{}\char92{}raisebox\{0.2ex\}\{\char92{}\char92{}hspace\{0.35ex\}\char92{}\char92{}scriptsize \char92{}\char92{}ding\{52\}\}\}\$\char92{}\char92{}square\$\}
"}
  \EFd{"Preamble that improves checkboxes."}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-latex-box-preamble} \EFs{"
\% args = \#1 Name, \#2 Colour, \#3 Ding, \#4 Label
\char92{}\char92{}newcommand\{\char92{}\char92{}defsimplebox\}[4]\{\%
  \char92{}\char92{}definecolor\{\#1\}\{HTML\}\{\#2\}
  \char92{}\char92{}newenvironment\{\#1\}[1][]
  \{\%
    \char92{}\char92{}par\char92{}\char92{}vspace\{-0.7\char92{}\char92{}baselineskip\}\%
    \char92{}\char92{}textcolor\{\#1\}\{\#3\} \char92{}\char92{}textcolor\{\#1\}\{\char92{}\char92{}textbf\{\char92{}\char92{}def\char92{}\char92{}temp\{\#\#1\}\char92{}\char92{}ifx\char92{}\char92{}temp\char92{}\char92{}empty\#4\char92{}\char92{}else\#\#1\char92{}\char92{}fi\}\}\%
    \char92{}\char92{}vspace\{-0.8\char92{}\char92{}baselineskip\}
    \char92{}\char92{}begin\{addmargin\}[1em]\{1em\}
  \}\{\%
    \char92{}\char92{}end\{addmargin\}
    \char92{}\char92{}vspace\{-0.5\char92{}\char92{}baselineskip\}
  \}\%
\}
"}
  \EFd{"Preamble that provides a macro for custom boxes."}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{org-latex-feature-implementations}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}image         \EFb{:snippet} \EFs{"\char92{}\char92{}usepackage\{graphicx\}"} \EFb{:order} \EFhn{2}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}svg           \EFb{:snippet} \EFs{"\char92{}\char92{}usepackage\{svg\}"} \EFb{:order} \EFhn{2}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}table         \EFb{:snippet} \EFs{"\char92{}\char92{}usepackage\{longtable\}\char92{}n\char92{}\char92{}usepackage\{booktabs\}"} \EFb{:order} \EFhn{2}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}cleveref      \EFb{:snippet} \EFs{"\char92{}\char92{}usepackage[capitalize]\{cleveref\}"} \EFb{:order} \EFhn{1}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}underline     \EFb{:snippet} \EFs{"\char92{}\char92{}usepackage[normalem]\{ulem\}"} \EFb{:order} \EFhn{0.5}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}float-wrap    \EFb{:snippet} \EFs{"\char92{}\char92{}usepackage\{wrapfig\}"} \EFb{:order} \EFhn{2}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}rotate        \EFb{:snippet} \EFs{"\char92{}\char92{}usepackage\{rotating\}"} \EFb{:order} \EFhn{2}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}caption       \EFb{:snippet} \EFv{org-latex-caption-preamble} \EFb{:order} \EFhn{2.1}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}acronym       \EFb{:snippet} \EFs{"\char92{}\char92{}newcommand\{\char92{}\char92{}acr\}[1]\{\char92{}\char92{}protect\char92{}\char92{}textls*[110]\{\char92{}\char92{}scshape \#1\}\}\char92{}n\char92{}\char92{}newcommand\{\char92{}\char92{}acrs\}\{\char92{}\char92{}protect\char92{}\char92{}scalebox\{.91\}[.84]\{\char92{}\char92{}hspace\{0.15ex\}s\}\}"} \EFb{:order} \EFhn{0.4}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}italic-quotes \EFb{:snippet} \EFs{"\char92{}\char92{}renewcommand\{\char92{}\char92{}quote\}\{\char92{}\char92{}list\{\}\{\char92{}\char92{}rightmargin\char92{}\char92{}leftmargin\}\char92{}\char92{}item\char92{}\char92{}relax\char92{}\char92{}em\}\char92{}n"} \EFb{:order} \EFhn{0.5}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}par-sep       \EFb{:snippet} \EFs{"\char92{}\char92{}setlength\{\char92{}\char92{}parskip\}\{\char92{}\char92{}baselineskip\}\char92{}n\char92{}\char92{}setlength\{\char92{}\char92{}parindent\}\{0pt\}\char92{}n"} \EFb{:order} \EFhn{0.5}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}.pifont       \EFb{:snippet} \EFs{"\char92{}\char92{}usepackage\{pifont\}"}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}checkbox      \EFb{:requires} .pifont \EFb{:order} \EFhn{3}
                   \EFb{:snippet} \textcolor[HTML]{da8548}{(}\EFc{concat} \textcolor[HTML]{4078f2}{(}\EFk{unless} \textcolor[HTML]{a626a4}{(}\EFc{memq} \EFhq{'}\EFhs{maths} features\textcolor[HTML]{a626a4}{)}
                                      \EFs{"\char92{}\char92{}usepackage\{amssymb\} \% provides \char92{}\char92{}square"}\textcolor[HTML]{4078f2}{)}
                                    \EFv{org-latex-checkbox-preamble}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}.fancy-box    \EFb{:requires} .pifont    \EFb{:snippet} \EFv{org-latex-box-preamble} \EFb{:order} \EFhn{3.9}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}box-warning   \EFb{:requires} .fancy-box \EFb{:snippet} \EFs{"\char92{}\char92{}defsimplebox\{warning\}\{e66100\}\{\char92{}\char92{}ding\{68\}\}\{Warning\}"} \EFb{:order} \EFhn{4}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}box-info      \EFb{:requires} .fancy-box \EFb{:snippet} \EFs{"\char92{}\char92{}defsimplebox\{info\}\{3584e4\}\{\char92{}\char92{}ding\{68\}\}\{Information\}"} \EFb{:order} \EFhn{4}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}box-success   \EFb{:requires} .fancy-box \EFb{:snippet} \EFs{"\char92{}\char92{}defsimplebox\{success\}\{26a269\}\{\char92{}\char92{}ding\{68\}\}\{\char92{}\char92{}vspace\{-\char92{}\char92{}baselineskip\}\}"} \EFb{:order} \EFhn{4}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}box-error     \EFb{:requires} .fancy-box \EFb{:snippet} \EFs{"\char92{}\char92{}defsimplebox\{error\}\{c01c28\}\{\char92{}\char92{}ding\{68\}\}\{Important\}"} \EFb{:order} \EFhn{4}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \EFd{"LaTeX features and details required to implement them.

List where the car is the feature symbol, and the rest forms a plist with the
following keys:
- :snippet, which may be either
  - a string which should be included in the preamble
  - a symbol, the value of which is included in the preamble
  - a function, which is evaluated with the list of feature flags as its
    single argument. The result of which is included in the preamble
  - a list, which is passed to `}\textcolor[HTML]{b751b6}{\textit{eval}}\EFd{', with a list of feature flags available
    as \char92{}"features\char92{}"

- :requires, a feature or list of features that must be available
- :when, a feature or list of features that when all available should cause this
    to be automatically enabled.
- :prevents, a feature or list of features that should be masked
- :order, for when ordering is important. Lower values appear first.
    The default is 0.

Features that start with ! will be eagerly loaded, i.e. without being detected."}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-latex-detect-features} \textcolor[HTML]{a626a4}{(}\EFt{\&optional} buffer info\textcolor[HTML]{a626a4}{)}
  \EFd{"List features from `}\textcolor[HTML]{b751b6}{\textit{org-latex-conditional-features}}\EFd{' detected in BUFFER."}
  \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFv{case-fold-search} nil\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{with-current-buffer} \textcolor[HTML]{da8548}{(}\EFk{or} buffer \textcolor[HTML]{4078f2}{(}\EFc{current-buffer}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{delete-dups}
       \textcolor[HTML]{4078f2}{(}\EFc{mapcan} \textcolor[HTML]{a626a4}{(}\EFk{lambda} \textcolor[HTML]{50a14f}{(}construct-feature\textcolor[HTML]{50a14f}{)}
                 \textcolor[HTML]{50a14f}{(}\EFk{when} \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}out \textcolor[HTML]{50a14f}{(}\EFk{pcase} \textcolor[HTML]{da8548}{(}\EFc{car} construct-feature\textcolor[HTML]{da8548}{)}
                                    \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}pred stringp\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFc{car} construct-feature\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                                    \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}pred functionp\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFc{funcall} \textcolor[HTML]{a626a4}{(}\EFc{car} construct-feature\textcolor[HTML]{a626a4}{)} info\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                                    \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}pred listp\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFc{eval} \textcolor[HTML]{a626a4}{(}\EFc{car} construct-feature\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                                    \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}pred symbolp\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFc{symbol-value} \textcolor[HTML]{a626a4}{(}\EFc{car} construct-feature\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                                    \textcolor[HTML]{da8548}{(}\_ \textcolor[HTML]{4078f2}{(}\EFc{user-error} \EFs{"org-latex-conditional-features key \%s unable to be used"} \textcolor[HTML]{a626a4}{(}\EFc{car} construct-feature\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                         \textcolor[HTML]{4078f2}{(}\EFk{if} \textcolor[HTML]{a626a4}{(}\EFc{stringp} out\textcolor[HTML]{a626a4}{)}
                             \textcolor[HTML]{a626a4}{(}\EFk{save-excursion}
                               \textcolor[HTML]{50a14f}{(}\EFc{goto-char} \textcolor[HTML]{da8548}{(}\EFc{point-min}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                               \textcolor[HTML]{50a14f}{(}\EFc{re-search-forward} out nil t\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                           out\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                   \textcolor[HTML]{da8548}{(}\EFk{if} \textcolor[HTML]{4078f2}{(}\EFc{listp} \textcolor[HTML]{a626a4}{(}\EFc{cdr} construct-feature\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFc{cdr} construct-feature\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFc{list} \textcolor[HTML]{a626a4}{(}\EFc{cdr} construct-feature\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
               \EFv{org-latex-conditional-features}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-latex-expand-features} \textcolor[HTML]{a626a4}{(}features\textcolor[HTML]{a626a4}{)}
  \EFd{"For each feature in FEATURES process :requires, :when, and :prevents keywords and sort according to :order."}
  \textcolor[HTML]{a626a4}{(}\EFk{dolist} \textcolor[HTML]{50a14f}{(}feature features\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{unless} \textcolor[HTML]{da8548}{(}\EFc{assoc} feature \EFv{org-latex-feature-implementations}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{error} \EFs{"Feature \%s not provided in org-latex-feature-implementations"} feature\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} current features\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{while} current
    \textcolor[HTML]{50a14f}{(}\EFk{when-let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}requirements \textcolor[HTML]{a626a4}{(}\EFc{plist-get} \textcolor[HTML]{50a14f}{(}\EFc{cdr} \textcolor[HTML]{da8548}{(}\EFc{assq} \textcolor[HTML]{4078f2}{(}\EFc{car} current\textcolor[HTML]{4078f2}{)} \EFv{org-latex-feature-implementations}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)} \EFb{:requires}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{setcdr} current \textcolor[HTML]{4078f2}{(}\EFk{if} \textcolor[HTML]{a626a4}{(}\EFc{listp} requirements\textcolor[HTML]{a626a4}{)}
                          \textcolor[HTML]{a626a4}{(}\EFc{append} requirements \textcolor[HTML]{50a14f}{(}\EFc{cdr} current\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                        \textcolor[HTML]{a626a4}{(}\EFc{cons} requirements \textcolor[HTML]{50a14f}{(}\EFc{cdr} current\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{setq} current \textcolor[HTML]{da8548}{(}\EFc{cdr} current\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{dolist} \textcolor[HTML]{50a14f}{(}potential-feature
           \textcolor[HTML]{da8548}{(}\EFc{append} features \textcolor[HTML]{4078f2}{(}\EFc{delq} nil \textcolor[HTML]{a626a4}{(}\EFc{mapcar} \textcolor[HTML]{50a14f}{(}\EFk{lambda} \textcolor[HTML]{da8548}{(}feat\textcolor[HTML]{da8548}{)}
                                                \textcolor[HTML]{da8548}{(}\EFk{when} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} \textcolor[HTML]{a626a4}{(}\EFc{cdr} feat\textcolor[HTML]{a626a4}{)} \EFb{:eager}\textcolor[HTML]{4078f2}{)}
                                                  \textcolor[HTML]{4078f2}{(}\EFc{car} feat\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                                              \EFv{org-latex-feature-implementations}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{when-let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}prerequisites \textcolor[HTML]{a626a4}{(}\EFc{plist-get} \textcolor[HTML]{50a14f}{(}\EFc{cdr} \textcolor[HTML]{da8548}{(}\EFc{assoc} potential-feature \EFv{org-latex-feature-implementations}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)} \EFb{:when}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFk{setf} features \textcolor[HTML]{4078f2}{(}\EFk{if} \textcolor[HTML]{a626a4}{(}\EFk{if} \textcolor[HTML]{50a14f}{(}\EFc{listp} prerequisites\textcolor[HTML]{50a14f}{)}
                             \textcolor[HTML]{50a14f}{(}\EFc{cl-every} \textcolor[HTML]{da8548}{(}\EFk{lambda} \textcolor[HTML]{4078f2}{(}preq\textcolor[HTML]{4078f2}{)} \textcolor[HTML]{4078f2}{(}\EFc{memq} preq features\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)} prerequisites\textcolor[HTML]{50a14f}{)}
                           \textcolor[HTML]{50a14f}{(}\EFc{memq} prerequisites features\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                         \textcolor[HTML]{a626a4}{(}\EFc{append} \textcolor[HTML]{50a14f}{(}\EFc{list} potential-feature\textcolor[HTML]{50a14f}{)} features\textcolor[HTML]{a626a4}{)}
                       \textcolor[HTML]{a626a4}{(}\EFc{delq} potential-feature features\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{dolist} \textcolor[HTML]{50a14f}{(}feature features\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{when-let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}prevents \textcolor[HTML]{a626a4}{(}\EFc{plist-get} \textcolor[HTML]{50a14f}{(}\EFc{cdr} \textcolor[HTML]{da8548}{(}\EFc{assoc} feature \EFv{org-latex-feature-implementations}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)} \EFb{:prevents}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFk{setf} features \textcolor[HTML]{4078f2}{(}\EFc{cl-set-difference} features \textcolor[HTML]{a626a4}{(}\EFk{if} \textcolor[HTML]{50a14f}{(}\EFc{listp} prevents\textcolor[HTML]{50a14f}{)} prevents \textcolor[HTML]{50a14f}{(}\EFc{list} prevents\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFc{sort} \textcolor[HTML]{50a14f}{(}\EFc{delete-dups} features\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFk{lambda} \textcolor[HTML]{da8548}{(}feat1 feat2\textcolor[HTML]{da8548}{)}
          \textcolor[HTML]{da8548}{(}\EFk{if} \textcolor[HTML]{4078f2}{(}\EFc{<} \textcolor[HTML]{a626a4}{(}\EFk{or} \textcolor[HTML]{50a14f}{(}\EFc{plist-get} \textcolor[HTML]{da8548}{(}\EFc{cdr} \textcolor[HTML]{4078f2}{(}\EFc{assoc} feat1 \EFv{org-latex-feature-implementations}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)} \EFb{:order}\textcolor[HTML]{50a14f}{)} \EFhn{1}\textcolor[HTML]{a626a4}{)}
                 \textcolor[HTML]{a626a4}{(}\EFk{or} \textcolor[HTML]{50a14f}{(}\EFc{plist-get} \textcolor[HTML]{da8548}{(}\EFc{cdr} \textcolor[HTML]{4078f2}{(}\EFc{assoc} feat2 \EFv{org-latex-feature-implementations}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)} \EFb{:order}\textcolor[HTML]{50a14f}{)} \EFhn{1}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
              t nil\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-latex-generate-features-preamble} \textcolor[HTML]{a626a4}{(}features\textcolor[HTML]{a626a4}{)}
  \EFd{"Generate the LaTeX preamble content required to provide FEATURES.
This is done according to `}\textcolor[HTML]{b751b6}{\textit{org-latex-feature-implementations}}\EFd{'"}
  \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}expanded-features \textcolor[HTML]{4078f2}{(}\EFf{org-latex-expand-features} features\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{concat}
     \textcolor[HTML]{da8548}{(}\EFc{format} \EFs{"\char92{}n\%\% features: \%s\char92{}n"} expanded-features\textcolor[HTML]{da8548}{)}
     \textcolor[HTML]{da8548}{(}\EFc{mapconcat} \textcolor[HTML]{4078f2}{(}\EFk{lambda} \textcolor[HTML]{a626a4}{(}feature\textcolor[HTML]{a626a4}{)}
                  \textcolor[HTML]{a626a4}{(}\EFk{when-let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}snippet \textcolor[HTML]{4078f2}{(}\EFc{plist-get} \textcolor[HTML]{a626a4}{(}\EFc{cdr} \textcolor[HTML]{50a14f}{(}\EFc{assoc} feature \EFv{org-latex-feature-implementations}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)} \EFb{:snippet}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
                    \textcolor[HTML]{50a14f}{(}\EFc{concat}
                     \textcolor[HTML]{da8548}{(}\EFk{pcase} snippet
                       \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}pred stringp\textcolor[HTML]{a626a4}{)} snippet\textcolor[HTML]{4078f2}{)}
                       \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}pred functionp\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{funcall} snippet features\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                       \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}pred listp\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{eval} \EFhq{`}\textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}features \EFhq{'},features\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)} \textcolor[HTML]{da8548}{(},@snippet\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                       \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}pred symbolp\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{symbol-value} snippet\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                       \textcolor[HTML]{4078f2}{(}\_ \textcolor[HTML]{a626a4}{(}\EFc{user-error} \EFs{"org-latex-feature-implementations :snippet value \%s unable to be used"} snippet\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                     \EFs{"\char92{}n"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                expanded-features
                \EFs{""}\textcolor[HTML]{da8548}{)}
     \EFs{"\% end features\char92{}n"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defvar} \EFv{info--tmp} nil\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} org-latex-save-info \textcolor[HTML]{a626a4}{(}\EFf{info} \EFt{\&optional} t\_ s\_\textcolor[HTML]{a626a4}{)}
  \EFb{:before} \EFhq{\#'}\EFhs{org-latex-make-preamble}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{info--tmp} info\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} org-splice-latex-header-and-generated-preamble-a \textcolor[HTML]{a626a4}{(}orig-fn tpl def-pkg pkg snippets-p \EFt{\&optional} extra\textcolor[HTML]{a626a4}{)}
  \EFd{"Dynamically insert preamble content based on `}\textcolor[HTML]{b751b6}{\textit{org-latex-conditional-preambles}}\EFd{'."}
  \EFb{:around} \EFhq{\#'}\EFhs{org-splice-latex-header}
  \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}header \textcolor[HTML]{4078f2}{(}\EFc{funcall} orig-fn tpl def-pkg pkg snippets-p extra\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{if} snippets-p header
      \textcolor[HTML]{da8548}{(}\EFc{concat} header
              \textcolor[HTML]{4078f2}{(}\EFf{org-latex-generate-features-preamble} \textcolor[HTML]{a626a4}{(}\EFf{org-latex-detect-features} nil \EFv{info--tmp}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
              \EFs{"\char92{}n"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\item Latex-PDF-Process
\label{sec:org35b1c4f}
I tried tectonic, but it was buggy. Lets use latexmk though.
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\EFcd{;; }\EFct{org-latex-compilers = ("pdflatex" "xelatex" "lualatex"), which are the possible values for \%latex}
\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-latex-pdf-process} \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"latexmk -f -pdf -\%latex -shell-escape -interaction=nonstopmode -output-directory=\%o \%f"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

With that, we can disable auctex
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} no-auto-mode-alist \textcolor[HTML]{a626a4}{(}orig-fn \EFt{\&rest} args\textcolor[HTML]{a626a4}{)}
  \EFd{"Wrap ORIG-FN in a let-binding that sets `}\textcolor[HTML]{b751b6}{\textit{auto-mode-alist}}\EFd{' to nil."}
  \EFb{:around} \EFhq{\#'}\EFhs{org-export-to-file}
  \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFv{auto-mode-alist} nil\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{apply} orig-fn args\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\item Classes
\label{sec:orgf8778f4}
Now for some class setup (likely to change over time)
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} ox-latex
  \textcolor[HTML]{a626a4}{(}\EFc{add-to-list} \EFhq{'}\EFv{org-latex-classes}
               \EFhq{'}\textcolor[HTML]{50a14f}{(}\EFs{"cb-doc"} \EFs{"\char92{}\char92{}documentclass\{scrartcl\}"}
                 \textcolor[HTML]{da8548}{(}\EFs{"\char92{}\char92{}section\{\%s\}"} . \EFs{"\char92{}\char92{}section*\{\%s\}"}\textcolor[HTML]{da8548}{)}
                 \textcolor[HTML]{da8548}{(}\EFs{"\char92{}\char92{}subsection\{\%s\}"} . \EFs{"\char92{}\char92{}subsection*\{\%s\}"}\textcolor[HTML]{da8548}{)}
                 \textcolor[HTML]{da8548}{(}\EFs{"\char92{}\char92{}subsubsection\{\%s\}"} . \EFs{"\char92{}\char92{}subsubsection*\{\%s\}"}\textcolor[HTML]{da8548}{)}
                 \textcolor[HTML]{da8548}{(}\EFs{"\char92{}\char92{}paragraph\{\%s\}"} . \EFs{"\char92{}\char92{}paragraph*\{\%s\}"}\textcolor[HTML]{da8548}{)}
                 \textcolor[HTML]{da8548}{(}\EFs{"\char92{}\char92{}subparagraph\{\%s\}"} . \EFs{"\char92{}\char92{}subparagraph*\{\%s\}"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

And some saner default for them
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} ox-latex
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{org-latex-default-class} \EFs{"cb-doc"}
        \EFv{org-latex-tables-booktabs} t
        \EFv{org-latex-hyperref-template} \EFs{"\char92{}\char92{}colorlet\{greenyblue\}\{blue!70!green\}
\char92{}\char92{}colorlet\{blueygreen\}\{blue!40!green\}
\char92{}\char92{}providecolor\{link\}\{named\}\{greenyblue\}
\char92{}\char92{}providecolor\{cite\}\{named\}\{blueygreen\}
\char92{}\char92{}hypersetup\{
  pdfauthor=\{\%a\},
  pdftitle=\{\%t\},
  pdfkeywords=\{\%k\},
  pdfsubject=\{\%d\},
  pdfcreator=\{\%c\},
  pdflang=\{\%L\},
  breaklinks=true,
  colorlinks=true,
  linkcolor=,
  urlcolor=link,
  citecolor=cite\char92{}n\}
\char92{}\char92{}urlstyle\{same\}
"}
        \EFv{org-latex-reference-command} \EFs{"\char92{}\char92{}cref\{\%s\}"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\item Packages
\label{sec:org004648f}
Add some packages (also very likely to change)
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{org-latex-default-packages-alist}
      \EFhq{`}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFs{"AUTO"} \EFs{"inputenc"} t
         \textcolor[HTML]{da8548}{(}\EFs{"pdflatex"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{"T1"} \EFs{"fontenc"} t
         \textcolor[HTML]{da8548}{(}\EFs{"pdflatex"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"fontspec"} t\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"graphicx"} t\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"grffile"} t\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"longtable"} nil\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"wrapfig"} nil\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"rotating"} nil\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{"normalem"} \EFs{"ulem"} t\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"amsmath"} t\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"textcomp"} t\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"amssymb"} t\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"dvipng"} t\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"chemfig"} t\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"mhchem"} t\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"capt-of"} nil\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{"dvipsnames"} \EFs{"xcolor"} nil\textcolor[HTML]{50a14f}{)}
        \textcolor[HTML]{50a14f}{(}\EFs{"colorlinks=true, linkcolor=Blue, citecolor=BrickRed, urlcolor=PineGreen"} \EFs{"hyperref"} nil\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFs{""} \EFs{"indentfirst"} nil\textcolor[HTML]{50a14f}{)}
    \EFs{"\char92{}\char92{}setmainfont[Ligatures=TeX]\{IBM Plex Sans\}"}
    \EFs{"\char92{}\char92{}setmonofont[Ligatures=TeX]\{Iosevka Nerd Font Mono\}"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\item Pretty code blocks
\label{sec:org1953d9e}
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{use-package!} engrave-faces-latex
  \EFb{:after} ox-latex
  \EFb{:config}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{org-latex-listings} \EFhq{'}\EFhs{engraved}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} org-latex-src-block-engraved \textcolor[HTML]{a626a4}{(}orig-fn src-block contents info\textcolor[HTML]{a626a4}{)}
  \EFd{"Like `}\textcolor[HTML]{b751b6}{\textit{org-latex-src-block}}\EFd{', but supporting an engraved backend"}
  \EFb{:around} \EFhq{\#'}\EFhs{org-latex-src-block}
  \textcolor[HTML]{a626a4}{(}\EFk{if} \textcolor[HTML]{50a14f}{(}\EFc{eq} \EFhq{'}\EFhs{engraved} \textcolor[HTML]{da8548}{(}\EFc{plist-get} info \EFb{:latex-listings}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
      \textcolor[HTML]{50a14f}{(}\EFf{org-latex-scr-block--engraved} src-block contents info\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{funcall} orig-fn src-block contents info\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} org-latex-inline-src-block-engraved \textcolor[HTML]{a626a4}{(}orig-fn inline-src-block contents info\textcolor[HTML]{a626a4}{)}
  \EFd{"Like `}\textcolor[HTML]{b751b6}{\textit{org-latex-inline-src-block}}\EFd{', but supporting an engraved backend"}
  \EFb{:around} \EFhq{\#'}\EFhs{org-latex-inline-src-block}
  \textcolor[HTML]{a626a4}{(}\EFk{if} \textcolor[HTML]{50a14f}{(}\EFc{eq} \EFhq{'}\EFhs{engraved} \textcolor[HTML]{da8548}{(}\EFc{plist-get} info \EFb{:latex-listings}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
      \textcolor[HTML]{50a14f}{(}\EFf{org-latex-inline-scr-block--engraved} inline-src-block contents info\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{funcall} orig-fn src-block contents info\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defvar-local} \EFv{org-export-has-code-p} nil\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} org-export-expect-no-code \textcolor[HTML]{a626a4}{(}\EFt{\&rest} \_\textcolor[HTML]{a626a4}{)}
  \EFb{:before} \EFhq{\#'}\EFhs{org-export-as}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{org-export-has-code-p} nil\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} org-export-register-code \textcolor[HTML]{a626a4}{(}\EFt{\&rest} \_\textcolor[HTML]{a626a4}{)}
  \EFb{:after} \EFhq{\#'}\EFhs{org-latex-src-block-engraved}
  \EFb{:after} \EFhq{\#'}\EFhs{org-latex-inline-src-block-engraved}
  \textcolor[HTML]{a626a4}{(}\EFk{setq} \EFv{org-export-has-code-p} t\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{setq} org-latex-engraved-code-preamble \EFs{"
\char92{}\char92{}usepackage\{fvextra\}
\char92{}\char92{}fvset\{
  commandchars=\char92{}\char92{}\char92{}\char92{}\char92{}\char92{}\{\char92{}\char92{}\},
  highlightcolor=white!95!black!80!blue,
  breaklines=true,
  breaksymbol=\char92{}\char92{}color\{white!60!black\}\char92{}\char92{}tiny\char92{}\char92{}ensuremath\{\char92{}\char92{}hookrightarrow\}\}
\char92{}\char92{}renewcommand\char92{}\char92{}theFancyVerbLine\{\char92{}\char92{}footnotesize\char92{}\char92{}color\{black!40!white\}\char92{}\char92{}arabic\{FancyVerbLine\}\}

\char92{}\char92{}definecolor\{codebackground\}\{HTML\}\{f7f7f7\}
\char92{}\char92{}definecolor\{codeborder\}\{HTML\}\{f0f0f0\}

\% }\textcolor[HTML]{FCCE7B}{\textbf{TODO}}\EFs{ have code boxes keep line vertical alignment
\char92{}\char92{}usepackage[breakable,xparse]\{tcolorbox\}
\char92{}\char92{}DeclareTColorBox[]\{Code\}\{o\}\%
\{colback=codebackground, colframe=codeborder,
  fontupper=\char92{}\char92{}footnotesize,
  colupper=EFD,
  IfNoValueTF=\{\#1\}\%
  \{boxsep=2pt, arc=2.5pt, outer arc=2.5pt,
    boxrule=0.5pt, left=2pt\}\%
  \{boxsep=2.5pt, arc=0pt, outer arc=0pt,
    boxrule=0pt, leftrule=1.5pt, left=0.5pt\},
  right=2pt, top=1pt, bottom=0.5pt,
  breakable\}
"}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFc{add-to-list} \EFhq{'}\EFv{org-latex-conditional-features} \EFhq{'}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFk{and} \EFv{org-export-has-code-p} \EFs{"\char94{}[ \char92{}t]*\#\char92{}\char92{}+begin\_src}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char94{}[ \char92{}t]*\#\char92{}\char92{}+BEGIN\_SRC}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{src\_[A-Za-z]"}\textcolor[HTML]{50a14f}{)} . engraved-code\textcolor[HTML]{a626a4}{)} t\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFc{add-to-list} \EFhq{'}\EFv{org-latex-conditional-features} \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"\char94{}[ \char92{}t]*\#\char92{}\char92{}+begin\_example}\textcolor[HTML]{4078f2}{\textbf{\char92{}\char92{}}}\textcolor[HTML]{4078f2}{\textbf{|}}\EFs{\char94{}[ \char92{}t]*\#\char92{}\char92{}+BEGIN\_EXAMPLE"} . engraved-code-setup\textcolor[HTML]{a626a4}{)} t\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFc{add-to-list} \EFhq{'}\EFv{org-latex-feature-implementations} \EFhq{'}\textcolor[HTML]{a626a4}{(}engraved-code \EFb{:requires} engraved-code-setup \EFb{:snippet} \textcolor[HTML]{50a14f}{(}\EFf{engrave-faces-latex-gen-preamble}\textcolor[HTML]{50a14f}{)} \EFb{:order} \EFhn{99}\textcolor[HTML]{a626a4}{)} t\textcolor[HTML]{4078f2}{)}
\textcolor[HTML]{4078f2}{(}\EFc{add-to-list} \EFhq{'}\EFv{org-latex-feature-implementations} \EFhq{'}\textcolor[HTML]{a626a4}{(}engraved-code-setup \EFb{:snippet} org-latex-engraved-code-preamble \EFb{:order} \EFhn{98}\textcolor[HTML]{a626a4}{)} t\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-latex-scr-block--engraved} \textcolor[HTML]{a626a4}{(}src-block contents info\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{let*} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}lang \textcolor[HTML]{4078f2}{(}\EFf{org-element-property} \EFb{:language} src-block\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}attributes \textcolor[HTML]{4078f2}{(}\EFc{org-export-read-attribute} \EFb{:attr\_latex} src-block\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}\EFc{float} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} attributes \EFb{:float}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}num-start \textcolor[HTML]{4078f2}{(}\EFc{org-export-get-loc} src-block info\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}retain-labels \textcolor[HTML]{4078f2}{(}\EFf{org-element-property} \EFb{:retain-labels} src-block\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}caption \textcolor[HTML]{4078f2}{(}\EFf{org-element-property} \EFb{:caption} src-block\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}caption-above-p \textcolor[HTML]{4078f2}{(}\EFc{org-latex--caption-above-p} src-block info\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}caption-str \textcolor[HTML]{4078f2}{(}\EFc{org-latex--caption/label-string} src-block info\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}placement \textcolor[HTML]{4078f2}{(}\EFk{or} \textcolor[HTML]{a626a4}{(}\EFc{org-unbracket-string} \EFs{"["} \EFs{"]"} \textcolor[HTML]{50a14f}{(}\EFc{plist-get} attributes \EFb{:placement}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                        \textcolor[HTML]{a626a4}{(}\EFc{plist-get} info \EFb{:latex-default-figure-position}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}float-env
          \textcolor[HTML]{4078f2}{(}\EFk{cond}
           \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFc{string=} \EFs{"multicolumn"} float\textcolor[HTML]{50a14f}{)}
            \textcolor[HTML]{50a14f}{(}\EFc{format} \EFs{"\char92{}\char92{}begin\{listing*\}[\%s]\char92{}n\%s\%\%s\char92{}n\%s\char92{}\char92{}end\{listing*\}"}
                    placement
                    \textcolor[HTML]{da8548}{(}\EFk{if} caption-above-p caption-str \EFs{""}\textcolor[HTML]{da8548}{)}
                    \textcolor[HTML]{da8548}{(}\EFk{if} caption-above-p \EFs{""} caption-str\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           \textcolor[HTML]{a626a4}{(}caption
            \textcolor[HTML]{50a14f}{(}\EFc{format} \EFs{"\char92{}\char92{}begin\{listing\}[\%s]\char92{}n\%s\%\%s\char92{}n\%s\char92{}\char92{}end\{listing\}"}
                    placement
                    \textcolor[HTML]{da8548}{(}\EFk{if} caption-above-p caption-str \EFs{""}\textcolor[HTML]{da8548}{)}
                    \textcolor[HTML]{da8548}{(}\EFk{if} caption-above-p \EFs{""} caption-str\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           \textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFc{string=} \EFs{"t"} float\textcolor[HTML]{50a14f}{)}
            \textcolor[HTML]{50a14f}{(}\EFc{concat} \textcolor[HTML]{da8548}{(}\EFc{format} \EFs{"\char92{}\char92{}begin\{listing\}[\%s]\char92{}n"}
                            placement\textcolor[HTML]{da8548}{)}
                    \EFs{"\%s\char92{}n\char92{}\char92{}end\{listing\}"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           \textcolor[HTML]{a626a4}{(}t \EFs{"\%s"}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}options \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:latex-minted-options}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}content-buffer
          \textcolor[HTML]{4078f2}{(}\EFk{with-temp-buffer}
            \textcolor[HTML]{a626a4}{(}\EFc{insert}
             \textcolor[HTML]{50a14f}{(}\EFk{let*} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}code-info \textcolor[HTML]{a626a4}{(}\EFc{org-export-unravel-code} src-block\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                    \textcolor[HTML]{4078f2}{(}max-width
                     \textcolor[HTML]{a626a4}{(}\EFc{apply} \EFhq{'}\EFhs{max}
                            \textcolor[HTML]{50a14f}{(}\EFc{mapcar} \EFhq{'}\EFhs{length}
                                    \textcolor[HTML]{da8548}{(}\EFc{org-split-string} \textcolor[HTML]{4078f2}{(}\EFc{car} code-info\textcolor[HTML]{4078f2}{)}
                                                      \EFs{"\char92{}n"}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
               \textcolor[HTML]{da8548}{(}\EFc{org-export-format-code}
                \textcolor[HTML]{4078f2}{(}\EFc{car} code-info\textcolor[HTML]{4078f2}{)}
                \textcolor[HTML]{4078f2}{(}\EFk{lambda} \textcolor[HTML]{a626a4}{(}loc \_num ref\textcolor[HTML]{a626a4}{)}
                  \textcolor[HTML]{a626a4}{(}\EFc{concat}
                   loc
                   \textcolor[HTML]{50a14f}{(}\EFk{when} ref
                     \EFcd{;; }\EFct{Ensure references are flushed to the right,}
                     \EFcd{;; }\EFct{separated with 6 spaces from the widest line}
                     \EFcd{;; }\EFct{of code.}
                     \textcolor[HTML]{da8548}{(}\EFc{concat} \textcolor[HTML]{4078f2}{(}\EFc{make-string} \textcolor[HTML]{a626a4}{(}\EFc{+} \textcolor[HTML]{50a14f}{(}\EFc{-} max-width \textcolor[HTML]{da8548}{(}\EFc{length} loc\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)} \EFhn{6}\textcolor[HTML]{a626a4}{)}
                                          ?\char92{}s\textcolor[HTML]{4078f2}{)}
                             \textcolor[HTML]{4078f2}{(}\EFc{format} \EFs{"(\%s)"} ref\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                nil \textcolor[HTML]{4078f2}{(}\EFk{and} retain-labels \textcolor[HTML]{a626a4}{(}\EFc{cdr} code-info\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
            \textcolor[HTML]{a626a4}{(}\EFc{funcall} \textcolor[HTML]{50a14f}{(}\EFc{org-src-get-lang-mode} lang\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
            \textcolor[HTML]{a626a4}{(}\EFf{engrave-faces-latex-buffer}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}content
          \textcolor[HTML]{4078f2}{(}\EFk{with-current-buffer} content-buffer
            \textcolor[HTML]{a626a4}{(}\EFc{buffer-string}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
         \textcolor[HTML]{da8548}{(}body
          \textcolor[HTML]{4078f2}{(}\EFc{format}
           \EFs{"\char92{}\char92{}begin\{Code\}\char92{}n\char92{}\char92{}begin\{Verbatim\}[\%s]\char92{}n\%s\char92{}\char92{}end\{Verbatim\}\char92{}n\char92{}\char92{}end\{Code\}"}
           \EFcd{;; }\EFct{Options.}
           \textcolor[HTML]{a626a4}{(}\EFc{concat}
            \textcolor[HTML]{50a14f}{(}\EFc{org-latex--make-option-string}
             \textcolor[HTML]{da8548}{(}\EFk{if} \textcolor[HTML]{4078f2}{(}\EFk{or} \textcolor[HTML]{a626a4}{(}\EFc{not} num-start\textcolor[HTML]{a626a4}{)} \textcolor[HTML]{a626a4}{(}\EFc{assoc} \EFs{"linenos"} options\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                 options
               \textcolor[HTML]{4078f2}{(}\EFc{append}
                \EFhq{`}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}\EFs{"linenos"}\textcolor[HTML]{50a14f}{)}
                  \textcolor[HTML]{50a14f}{(}\EFs{"firstnumber"} ,\textcolor[HTML]{da8548}{(}\EFc{number-to-string} \textcolor[HTML]{4078f2}{(}\EFc{1+} num-start\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
                options\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
            \textcolor[HTML]{50a14f}{(}\EFk{let} \textcolor[HTML]{da8548}{(}\textcolor[HTML]{4078f2}{(}local-options \textcolor[HTML]{a626a4}{(}\EFc{plist-get} attributes \EFb{:options}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
              \textcolor[HTML]{da8548}{(}\EFk{and} local-options \textcolor[HTML]{4078f2}{(}\EFc{concat} \EFs{","} local-options\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}
           content\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{kill-buffer} content-buffer\textcolor[HTML]{50a14f}{)}
    \EFcd{;; }\EFct{Return value.}
    \textcolor[HTML]{50a14f}{(}\EFc{format} float-env body\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defun} \EFf{org-latex-inline-scr-block--engraved} \textcolor[HTML]{a626a4}{(}inline-src-block \_contents info\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}options \textcolor[HTML]{4078f2}{(}\EFc{org-latex--make-option-string}
                  \textcolor[HTML]{a626a4}{(}\EFc{plist-get} info \EFb{:latex-minted-options}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
        code-buffer code\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{setq} code-buffer
          \textcolor[HTML]{da8548}{(}\EFk{with-temp-buffer}
            \textcolor[HTML]{4078f2}{(}\EFc{insert} \textcolor[HTML]{a626a4}{(}\EFf{org-element-property} \EFb{:value} inline-src-block\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFc{funcall} \textcolor[HTML]{a626a4}{(}\EFc{org-src-get-lang-mode}
                      \textcolor[HTML]{50a14f}{(}\EFf{org-element-property} \EFb{:language} inline-src-block\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
            \textcolor[HTML]{4078f2}{(}\EFf{engrave-faces-latex-buffer}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{setq} code \textcolor[HTML]{da8548}{(}\EFk{with-current-buffer} code-buffer
                 \textcolor[HTML]{4078f2}{(}\EFc{buffer-string}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{kill-buffer} code-buffer\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{format} \EFs{"\char92{}\char92{}Verb\%s\{\%s\}"}
            \textcolor[HTML]{da8548}{(}\EFk{if} \textcolor[HTML]{4078f2}{(}\EFc{string=} options \EFs{""}\textcolor[HTML]{4078f2}{)} \EFs{""}
              \textcolor[HTML]{4078f2}{(}\EFc{format} \EFs{"[\%s]"} options\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
            code\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{defadvice!} org-latex-example-block-engraved \textcolor[HTML]{a626a4}{(}orig-fn example-block contents info\textcolor[HTML]{a626a4}{)}
  \EFd{"Like `}\textcolor[HTML]{b751b6}{\textit{org-latex-example-block}}\EFd{', but supporting an engraved backend"}
  \EFb{:around} \EFhq{\#'}\EFhs{org-latex-example-block}
  \textcolor[HTML]{a626a4}{(}\EFk{let} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}output-block \textcolor[HTML]{4078f2}{(}\EFc{funcall} orig-fn example-block contents info\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFk{if} \textcolor[HTML]{da8548}{(}\EFc{eq} \EFhq{'}\EFhs{engraved} \textcolor[HTML]{4078f2}{(}\EFc{plist-get} info \EFb{:latex-listings}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
        \textcolor[HTML]{da8548}{(}\EFc{format} \EFs{"\char92{}\char92{}begin\{Code\}[alt]\char92{}n\%s\char92{}n\char92{}\char92{}end\{Code\}"} output-block\textcolor[HTML]{da8548}{)}
      output-block\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\item Chameleon
\label{sec:org7d16916}
Attempt to improve default PDF export by using the current theme
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{after!} ox
  \textcolor[HTML]{a626a4}{(}\EFk{defvar} \EFv{ox-chameleon-base-class} \EFs{"cb-doc"}
    \EFd{"The base class that chameleon builds on"}\textcolor[HTML]{a626a4}{)}

  \textcolor[HTML]{a626a4}{(}\EFk{defvar} \EFv{ox-chameleon--p} nil
    \EFd{"Used to indicate whether the current export is trying to blend in. Set just before being accessed."}\textcolor[HTML]{a626a4}{)}

  \textcolor[HTML]{a626a4}{(}\EFk{defadvice!} ox-chameleon-org-latex-detect \textcolor[HTML]{50a14f}{(}orig-fun info\textcolor[HTML]{50a14f}{)}
    \EFb{:around} \EFhq{\#'}\EFhs{org-export-install-filters}
    \textcolor[HTML]{50a14f}{(}\EFk{setq} \EFv{ox-chameleon--p} \textcolor[HTML]{da8548}{(}\EFk{when} \textcolor[HTML]{4078f2}{(}\EFc{equal} \textcolor[HTML]{a626a4}{(}\EFc{plist-get} info \EFb{:latex-class}\textcolor[HTML]{a626a4}{)}
                                       \EFs{"chameleon"}\textcolor[HTML]{4078f2}{)}
                            \textcolor[HTML]{4078f2}{(}\EFc{plist-put} info \EFb{:latex-class} \EFv{ox-chameleon-base-class}\textcolor[HTML]{4078f2}{)}
                            \textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{engrave-faces-preset-styles} \textcolor[HTML]{a626a4}{(}\EFf{engrave-faces-generate-preset}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
                            t\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{funcall} orig-fun info\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

  \textcolor[HTML]{a626a4}{(}\EFk{defadvice!} ox-chameleon-org-latex-export \textcolor[HTML]{50a14f}{(}orig-fn info \EFt{\&optional} template snippet?\textcolor[HTML]{50a14f}{)}
    \EFb{:around} \EFhq{\#'}\EFhs{org-latex-make-preamble}
    \textcolor[HTML]{50a14f}{(}\EFk{if} \EFv{ox-chameleon--p}
        \textcolor[HTML]{da8548}{(}\EFk{let} \textcolor[HTML]{4078f2}{(}\textcolor[HTML]{a626a4}{(}\EFv{engrave-faces-preset-styles} \textcolor[HTML]{50a14f}{(}\EFf{engrave-faces-generate-preset}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
          \textcolor[HTML]{4078f2}{(}\EFc{concat} \textcolor[HTML]{a626a4}{(}\EFc{funcall} orig-fn info template snippet?\textcolor[HTML]{a626a4}{)}
                  \textcolor[HTML]{a626a4}{(}\EFf{ox-chameleon-generate-colourings}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
      \textcolor[HTML]{da8548}{(}\EFc{funcall} orig-fn info template snippet?\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}

  \textcolor[HTML]{a626a4}{(}\EFk{defun} \EFf{ox-chameleon-generate-colourings} \textcolor[HTML]{50a14f}{(}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}\EFc{apply} \EFhq{\#'}\EFhs{format}
           \EFs{"\%\% make document follow Emacs theme
\char92{}\char92{}definecolor\{bg\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{fg\}\{HTML\}\{\%s\}

\char92{}\char92{}definecolor\{red\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{orange\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{green\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{teal\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{yellow\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{blue\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{dark-blue\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{magenta\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{violet\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{cyan\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{dark-cyan\}\{HTML\}\{\%s\}

\char92{}\char92{}definecolor\{documentTitle\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{documentInfo\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{level1\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{level2\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{level3\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{level4\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{level5\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{level6\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{level7\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{level8\}\{HTML\}\{\%s\}

\char92{}\char92{}definecolor\{link\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{cite\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{itemlabel\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{code\}\{HTML\}\{\%s\}
\char92{}\char92{}definecolor\{verbatim\}\{HTML\}\{\%s\}

\char92{}\char92{}definecolor\{codebackground\}\{HTML\}\{\%s\}
\char92{}\char92{}colorlet\{EFD\}\{fg\}
\char92{}\char92{}definecolor\{codeborder\}\{HTML\}\{\%s\}

\char92{}\char92{}pagecolor\{bg\}
\char92{}\char92{}color\{fg\}

\char92{}\char92{}addtokomafont\{title\}\{\char92{}\char92{}color\{documentTitle\}\}
\char92{}\char92{}addtokomafont\{author\}\{\char92{}\char92{}color\{documentInfo\}\}
\char92{}\char92{}addtokomafont\{date\}\{\char92{}\char92{}color\{documentInfo\}\}
\char92{}\char92{}addtokomafont\{section\}\{\char92{}\char92{}color\{level1\}\}
\char92{}\char92{}newkomafont\{sectionprefix\}\{\char92{}\char92{}color\{level1\}\}
\char92{}\char92{}addtokomafont\{subsection\}\{\char92{}\char92{}color\{level2\}\}
\char92{}\char92{}newkomafont\{subsectionprefix\}\{\char92{}\char92{}color\{level2\}\}
\char92{}\char92{}addtokomafont\{subsubsection\}\{\char92{}\char92{}color\{level3\}\}
\char92{}\char92{}newkomafont\{subsubsectionprefix\}\{\char92{}\char92{}color\{level3\}\}
\char92{}\char92{}addtokomafont\{paragraph\}\{\char92{}\char92{}color\{level4\}\}
\char92{}\char92{}newkomafont\{paragraphprefix\}\{\char92{}\char92{}color\{level4\}\}
\char92{}\char92{}addtokomafont\{subparagraph\}\{\char92{}\char92{}color\{level5\}\}
\char92{}\char92{}newkomafont\{subparagraphprefix\}\{\char92{}\char92{}color\{level5\}\}

\char92{}\char92{}renewcommand\{\char92{}\char92{}labelitemi\}\{\char92{}\char92{}textcolor\{itemlabel\}\{\char92{}\char92{}textbullet\}\}
\char92{}\char92{}renewcommand\{\char92{}\char92{}labelitemii\}\{\char92{}\char92{}textcolor\{itemlabel\}\{\char92{}\char92{}normalfont\char92{}\char92{}bfseries \char92{}\char92{}textendash\}\}
\char92{}\char92{}renewcommand\{\char92{}\char92{}labelitemiii\}\{\char92{}\char92{}textcolor\{itemlabel\}\{\char92{}\char92{}textasteriskcentered\}\}
\char92{}\char92{}renewcommand\{\char92{}\char92{}labelitemiv\}\{\char92{}\char92{}textcolor\{itemlabel\}\{\char92{}\char92{}textperiodcentered\}\}

\char92{}\char92{}renewcommand\{\char92{}\char92{}labelenumi\}\{\char92{}\char92{}textcolor\{itemlabel\}\{\char92{}\char92{}theenumi.\}\}
\char92{}\char92{}renewcommand\{\char92{}\char92{}labelenumii\}\{\char92{}\char92{}textcolor\{itemlabel\}\{(\char92{}\char92{}theenumii)\}\}
\char92{}\char92{}renewcommand\{\char92{}\char92{}labelenumiii\}\{\char92{}\char92{}textcolor\{itemlabel\}\{\char92{}\char92{}theenumiii.\}\}
\char92{}\char92{}renewcommand\{\char92{}\char92{}labelenumiv\}\{\char92{}\char92{}textcolor\{itemlabel\}\{\char92{}\char92{}theenumiv.\}\}

\char92{}\char92{}DeclareTextFontCommand\{\char92{}\char92{}texttt\}\{\char92{}\char92{}color\{code\}\char92{}\char92{}ttfamily\}
\char92{}\char92{}makeatletter
\char92{}\char92{}def\char92{}\char92{}verbatim@font\{\char92{}\char92{}color\{verbatim\}\char92{}\char92{}normalfont\char92{}\char92{}ttfamily\}
\char92{}\char92{}makeatother
\%\% end customisations
"}
           \textcolor[HTML]{da8548}{(}\EFc{mapcar} \textcolor[HTML]{4078f2}{(}\EFf{doom-rpartial} \EFhq{\#'}\EFhs{substring} \EFhn{1}\textcolor[HTML]{4078f2}{)}
                   \textcolor[HTML]{4078f2}{(}\EFc{list}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{solaire-default-face} \EFb{:background}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{default} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \EFcd{;;}
                    \textcolor[HTML]{a626a4}{(}\EFc{doom-color} \EFhq{'}\EFhs{red}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{doom-color} \EFhq{'}\EFhs{orange}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{doom-color} \EFhq{'}\EFhs{green}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{doom-color} \EFhq{'}\EFhs{teal}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{doom-color} \EFhq{'}\EFhs{yellow}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{doom-color} \EFhq{'}\EFhs{blue}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{doom-color} \EFhq{'}\EFhs{dark-blue}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{doom-color} \EFhq{'}\EFhs{magenta}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{doom-color} \EFhq{'}\EFhs{violet}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{doom-color} \EFhq{'}\EFhs{cyan}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{doom-color} \EFhq{'}\EFhs{dark-cyan}\textcolor[HTML]{a626a4}{)}
                    \EFcd{;;}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{org-document-title} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{org-document-info} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{outline-1} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{outline-2} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{outline-3} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{outline-4} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{outline-5} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{outline-6} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{outline-7} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{outline-8} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \EFcd{;;}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{link} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{doom-color} \EFhq{'}\EFhs{yellow}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{org-list-dt} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{org-code} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{org-verbatim} \EFb{:foreground}\textcolor[HTML]{a626a4}{)}
                    \EFcd{;;}
                    \textcolor[HTML]{a626a4}{(}\EFc{face-attribute} \EFhq{'}\EFhs{org-block} \EFb{:background}\textcolor[HTML]{a626a4}{)}
                    \textcolor[HTML]{a626a4}{(}\EFc{doom-blend} \textcolor[HTML]{50a14f}{(}\EFc{face-attribute} \EFhq{'}\EFhs{default} \EFb{:background}\textcolor[HTML]{50a14f}{)}
                                \textcolor[HTML]{50a14f}{(}\EFc{face-attribute} \EFhq{'}\EFhs{default} \EFb{:foreground}\textcolor[HTML]{50a14f}{)}
                                \EFhn{0.95}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}
\end{enumerate}

\section{Mu4e}
\label{sec:orgad6865a}
I'm trying out emails in emacs, should be nice. Related, check .mbsyncrc to
setup your emails first

10 minutes is a reasonable update time
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} mu4e-update-interval \EFhn{300}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{set-email-account!} \EFs{"shaunsingh0207"}
  \EFhq{'}\textcolor[HTML]{a626a4}{(}\textcolor[HTML]{50a14f}{(}mu4e-sent-folder       . \EFs{"/Sent Mail"}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}mu4e-drafts-folder     . \EFs{"/Drafts"}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}mu4e-trash-folder      . \EFs{"/Trash"}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}mu4e-refile-folder     . \EFs{"/All Mail"}\textcolor[HTML]{50a14f}{)}
    \textcolor[HTML]{50a14f}{(}smtpmail-smtp-user     . \EFs{"shaunsingh0207@gmail.com"}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}

\EFcd{;; }\EFct{don't need to run cleanup after indexing for gmail}
\textcolor[HTML]{4078f2}{(}\EFk{setq} mu4e-index-cleanup nil
      mu4e-index-lazy-check t\textcolor[HTML]{4078f2}{)}

\textcolor[HTML]{4078f2}{(}\EFk{after!} mu4e
  \textcolor[HTML]{a626a4}{(}\EFk{setq} mu4e-headers-fields
        \EFhq{'}\textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFb{:flags} . \EFhn{6}\textcolor[HTML]{da8548}{)}
          \textcolor[HTML]{da8548}{(}\EFb{:account-stripe} . \EFhn{2}\textcolor[HTML]{da8548}{)}
          \textcolor[HTML]{da8548}{(}\EFb{:from-or-to} . \EFhn{25}\textcolor[HTML]{da8548}{)}
          \textcolor[HTML]{da8548}{(}\EFb{:folder} . \EFhn{10}\textcolor[HTML]{da8548}{)}
          \textcolor[HTML]{da8548}{(}\EFb{:recipnum} . \EFhn{2}\textcolor[HTML]{da8548}{)}
          \textcolor[HTML]{da8548}{(}\EFb{:subject} . \EFhn{80}\textcolor[HTML]{da8548}{)}
          \textcolor[HTML]{da8548}{(}\EFb{:human-date} . \EFhn{8}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}
        +mu4e-min-header-frame-width \EFhn{142}
        mu4e-headers-date-format \EFs{"\%d/\%m/\%y"}
        mu4e-headers-time-format \EFs{"â§– \%H:\%M"}
        mu4e-headers-results-limit \EFhn{1000}
        mu4e-index-cleanup t\textcolor[HTML]{a626a4}{)}

  \textcolor[HTML]{a626a4}{(}\EFc{add-to-list} \EFhq{'}\EFhs{mu4e-bookmarks}
               \EFhq{'}\textcolor[HTML]{50a14f}{(}\EFb{:name} \EFs{"Yesterday's messages"} \EFb{:query} \EFs{"date:2d..1d"} \EFb{:key} ?y\textcolor[HTML]{50a14f}{)} t\textcolor[HTML]{a626a4}{)}

  \textcolor[HTML]{a626a4}{(}\EFk{defvar} \EFv{+mu4e-header--folder-colors} nil\textcolor[HTML]{a626a4}{)}
  \textcolor[HTML]{a626a4}{(}\EFk{appendq!} mu4e-header-info-custom
            \EFhq{'}\textcolor[HTML]{50a14f}{(}\textcolor[HTML]{da8548}{(}\EFb{:folder} .
               \textcolor[HTML]{4078f2}{(}\EFb{:name} \EFs{"Folder"} \EFb{:shortname} \EFs{"Folder"} \EFb{:help} \EFs{"Lowest level folder"} \EFb{:function}
                \textcolor[HTML]{a626a4}{(}\EFk{lambda} \textcolor[HTML]{50a14f}{(}msg\textcolor[HTML]{50a14f}{)}
                  \textcolor[HTML]{50a14f}{(}+mu4e-colorize-str
                   \textcolor[HTML]{da8548}{(}\EFc{replace-regexp-in-string} \EFs{"\char92{}\char92{}`.*/"} \EFs{""} \textcolor[HTML]{4078f2}{(}mu4e-message-field msg \EFb{:maildir}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}
                   \EFhq{'}\EFhs{+mu4e-header--folder-colors}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}\textcolor[HTML]{da8548}{)}\textcolor[HTML]{50a14f}{)}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

We can also send messages using msmtp
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} sendmail-program \EFs{"/opt/homebrew/bin/msmtp"}
        \EFv{send-mail-function} \EFhq{\#'}\EFhs{smtpmail-send-it}
        \EFv{message-sendmail-f-is-evil} t
        \EFv{message-sendmail-extra-arguments} \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"--read-envelope-from"}\textcolor[HTML]{a626a4}{)}
        \EFv{message-send-mail-function} \EFhq{\#'}\EFhs{message-send-mail-with-sendmail}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

Notifications are quite nifty, especially if I'm as lazy as I am
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} alert-default-style \EFhq{'}\EFhs{osx-notifier}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}

\section{Magit}
\label{sec:orgdc6f1b6}
Show gravatars where possible
\begin{Code}
\begin{Verbatim}[]
\color[HTML]{383a42}\textcolor[HTML]{4078f2}{(}\EFk{setq} \EFv{magit-revision-show-gravatars} \EFhq{'}\textcolor[HTML]{a626a4}{(}\EFs{"\char94{}Author:     "} . \EFs{"\char94{}Commit:     "}\textcolor[HTML]{a626a4}{)}\textcolor[HTML]{4078f2}{)}
\end{Verbatim}
\end{Code}
\end{document}
